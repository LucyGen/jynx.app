import{g as t}from"./logger-CHTAPRDI.js";import{C as i}from"./sync-game-CYa48tYf.js";import"./analytics-service-UCL_K60g.js";import"./firebase-vendor-BZRpGTjc.js";import"./vendor-BveZ_Umi.js";class s{constructor(t,i,s,e,r,a){this.x=t,this.y=i,this.vx=s,this.vy=e,this.color=r,this.lifetime=a,this.age=0,this.radius=3}update(t){this.x+=this.vx*(t/16.67),this.y+=this.vy*(t/16.67),this.age+=t,this.vy+=.3}isExpired(){return this.age>=this.lifetime}getAlpha(){return 1-this.age/this.lifetime}}class e{constructor(){this.logger=t("ParticleSystem"),this.particles=[]}emit(t,e,r,a=10){if(i.PARTICLES.ENABLED)for(let h=0;h<a;h++){const l=2*Math.PI*h/a,o=2+3*Math.random(),c=Math.cos(l)*o,p=Math.sin(l)*o;this.particles.push(new s(t,e,c,p,r,i.PARTICLES.LIFETIME))}}update(t){this.particles=this.particles.filter((t=>!t.isExpired())),this.particles.forEach((i=>i.update(t)))}render(t){this.particles.forEach((i=>{t.globalAlpha=i.getAlpha(),t.fillStyle=i.color,t.beginPath(),t.arc(i.x,i.y,i.radius,0,2*Math.PI),t.fill()})),t.globalAlpha=1}clear(){this.particles=[]}}export{e as default};
