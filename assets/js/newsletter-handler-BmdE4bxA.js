import{i as t,g as e}from"./forms-mGf46Z6x.js";class s{constructor(){this.filterButtons=null,this.blogCards=null,this.activeFilter="all",this.isAnimating=!1}init(){this.filterButtons=document.querySelectorAll(".filter-btn"),this.blogCards=document.querySelectorAll(".blog-card"),this.filterButtons.length&&this.blogCards.length&&this.setupEventListeners()}getAvailableCategories(){const t=new Set;return this.blogCards.forEach((e=>{const s=e.dataset.category;s&&t.add(s)})),Array.from(t).sort()}setupEventListeners(){this.filterButtons.forEach((t=>{t.addEventListener("click",(e=>{if(e.preventDefault(),this.isAnimating)return;const s=t.dataset.category;s!==this.activeFilter&&this.handleFilterClick(s,t)}))}))}handleFilterClick(t,e){t&&(this.updateActiveButton(e),this.activeFilter=t,this.filterCards(t))}updateActiveButton(t){this.filterButtons.forEach((t=>{t.classList.remove("active")})),t.classList.add("active")}filterCards(t){this.isAnimating=!0;const e=Array.from(this.blogCards).map((t=>new Promise((e=>{t.classList.add("fade-out"),t.classList.remove("fade-in"),setTimeout((()=>{e()}),200)}))));Promise.all(e).then((()=>{this.blogCards.forEach((e=>{const s=e.dataset.category;"all"===t||s===t?(e.classList.remove("fade-out","hidden"),e.classList.add("fade-in")):(e.classList.remove("fade-out","fade-in"),e.classList.add("hidden"))})),setTimeout((()=>{this.isAnimating=!1,this.blogCards.forEach((t=>{t.classList.contains("hidden")||t.classList.remove("fade-in")}))}),300)}))}getVisibleCardCount(){return Array.from(this.blogCards).filter((t=>!t.classList.contains("hidden"))).length}reset(){const t=Array.from(this.filterButtons).find((t=>"all"===t.dataset.category));t&&this.handleFilterClick("all",t)}}document.addEventListener("DOMContentLoaded",(()=>{(new s).init()}));const i=new class{constructor(){this.form=null,this.emailInput=null,this.submitButton=null,this.isInitialized=!1}init(){this.isInitialized||(this.form=document.querySelector(".blog-newsletter__form"),this.emailInput=document.querySelector(".blog-newsletter__input"),this.submitButton=document.querySelector(".blog-newsletter__submit"),this.form&&this.emailInput&&this.submitButton&&(this.form.addEventListener("submit",(t=>this.handleSubmit(t))),this.isInitialized=!0))}async handleSubmit(e){e.preventDefault();const s=this.emailInput.value.trim();if(!this.validateEmail(s))return this.showMessage(t.translate("form.email.error")||"Please enter a valid email address","error"),void this.emailInput.focus();this.setButtonLoading(!0);try{await this.submitNewsletterEmail(s),this.showMessage(t.translate("blog.index.newsletter.success")||"Thanks for subscribing! Check your email to confirm.","success"),this.emailInput.value=""}catch(i){this.showMessage(t.translate("form.error")||"Something went wrong. Please try again.","error")}finally{this.setButtonLoading(!1)}}async submitNewsletterEmail(s){try{let n="en";try{n=t.getCurrentLocale()}catch(i){n=(navigator.language||navigator.userLanguage||"en").split("-")[0]}const a={uiLanguage:n,source:"blog-newsletter"};return await e.addToWaitlist(s,a)}catch(n){throw n}}validateEmail(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}setButtonLoading(e){this.submitButton&&(e?(this.submitButton.disabled=!0,this.submitButton.dataset.originalText=this.submitButton.textContent,this.submitButton.textContent=t.translate("form.submitting")||"Subscribing..."):(this.submitButton.disabled=!1,this.submitButton.textContent=this.submitButton.dataset.originalText||t.translate("blog.index.newsletter.button")||"Subscribe"))}showMessage(t,e){const s=this.form.querySelector(".newsletter-message");s&&s.remove();const i=document.createElement("div");i.className=`newsletter-message newsletter-message--${e}`,i.textContent=t;const n="success"===e;i.style.cssText=`\n      margin-top: 1rem;\n      padding: 0.75rem 1rem;\n      border-radius: 8px;\n      font-size: 0.9rem;\n      text-align: center;\n      font-weight: 500;\n      animation: slideInUp 0.3s ease-out;\n      ${n?"background: rgba(16, 185, 129, 0.1); color: #10b981; border: 1px solid rgba(16, 185, 129, 0.3);":"background: rgba(239, 68, 68, 0.1); color: #ef4444; border: 1px solid rgba(239, 68, 68, 0.3);"}\n    `,this.form.appendChild(i),setTimeout((()=>{i.parentElement&&(i.style.animation="fadeOut 0.3s ease-out",setTimeout((()=>i.remove()),300))}),5e3)}};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(()=>{i.init()})):i.init();
