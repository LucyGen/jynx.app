!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const e=new class{constructor(e="en"){this.defaultLocale=e,this.translations={},this.observers=new Set,this.loadingPromises={},this.supportedLocales=["en","fr"],this.currentLocale=this.determineLocale(),this.currentLocale!==this.defaultLocale&&this._preloadTranslation(this.defaultLocale)}determineLocale(){const e=new URLSearchParams(window.location.search).get("lang");if(e&&this.supportedLocales.includes(e.toLowerCase()))return localStorage.setItem("userLocale",e.toLowerCase()),e.toLowerCase();const t=localStorage.getItem("userLocale");if(t&&this.supportedLocales.includes(t))return t;const n=navigator.language.split("-")[0];return n&&this.supportedLocales.includes(n)?n:this.defaultLocale}_preloadTranslation(e){return this.loadingPromises[e]||(this.loadingPromises[e]=this._fetchTranslation(e).then((t=>(this.translations[e]=t,t))).catch((t=>(console.warn(`Preloading translations for ${e} failed:`,t),null)))),this.loadingPromises[e]}async _fetchTranslation(e){const t=`/locales/${e}.json`;try{const e=await fetch(t,{headers:{Accept:"application/json","Cache-Control":"no-cache"}});if(!e.ok)throw new Error(`Failed to load translations. Status: ${e.status}`);const n=await e.json();if("object"!=typeof n||null===n)throw new Error("Invalid translation file format");return n}catch(n){throw console.error(`Failed to fetch translation for ${e}:`,n),console.error(`Failed to load locale file from ${t}. Make sure the file exists in the public/locales directory.`),n}}async init(){try{this.loadingPromises[this.currentLocale]?await this.loadingPromises[this.currentLocale]:await this.loadTranslations(this.currentLocale),this.updatePageContent(),this.setupLanguageSwitcher(),this.updateUrlQuery(),this.syncLanguageSelectors(this.currentLocale),this.preloadRemainingLocales()}catch(e){console.error("Failed to initialize i18n:",e),this.currentLocale=this.defaultLocale}}updateUrlQuery(){try{const e=new URL(window.location.href);e.searchParams.get("lang")!==this.currentLocale&&(e.searchParams.set("lang",this.currentLocale),window.history.replaceState(null,"",e.toString()))}catch(e){console.error("Failed to update URL query:",e)}}preloadRemainingLocales(){const e=this.supportedLocales.filter((e=>!this.translations[e]));0!==e.length&&(window.pageLoader?"function"==typeof window.pageLoader.onBackgroundLoadSafe?window.pageLoader.onBackgroundLoadSafe((()=>this._preloadAllLocales(e))):"function"==typeof window.pageLoader.onReady?window.pageLoader.onReady((()=>this._preloadAllLocales(e))):this._schedulePreload(e):this._schedulePreload(e))}_schedulePreload(e){"function"==typeof window.requestIdleCallback?window.requestIdleCallback((()=>this._preloadAllLocales(e))):setTimeout((()=>this._preloadAllLocales(e)),1e3)}_preloadAllLocales(e){e.forEach((e=>{this.translations[e]||e===this.currentLocale||this._preloadTranslation(e)}))}async changeLocale(e){if(e!==this.currentLocale)if(this.supportedLocales.includes(e))try{this._showLoadingIndicator(!0);const t=performance.now();this.translations[e]?this.currentLocale=e:await this.loadTranslations(e),localStorage.setItem("userLocale",e);const n=performance.now()-t;n<200&&await new Promise((e=>setTimeout(e,200-n))),this.updatePageContent(),this.updateUrlQuery(),this.syncLanguageSelectors(e),this.notifyObservers(),document.documentElement.lang=e;const r=performance.now()-t;console.info(`Locale change to ${e} completed in ${Math.round(r)}ms`)}catch(t){console.error(`Failed to change locale to ${e}:`,t)}finally{setTimeout((()=>{this._showLoadingIndicator(!1)}),100)}else console.warn(`Locale ${e} is not supported`)}syncLanguageSelectors(e){try{const t=document.querySelectorAll("#language-switcher, #language-selector");if(!t.length)return;const n=e.toString().toLowerCase();t.forEach((e=>{const t=e.options;if(null==t?void 0:t.length){const r=Array.from(t).find((e=>e.value.toLowerCase()===n));r&&e.value!==r.value&&(e.value=r.value)}}))}catch(t){console.error("Failed to sync language selectors:",t)}}_showLoadingIndicator(e){const t=document.querySelectorAll("#language-switcher, #language-selector"),n=document.querySelectorAll("[data-i18n], [data-i18n-placeholder], [data-i18n-aria-label]");let r=document.querySelector(".language-transition-container"),i=document.getElementById("i18n-success-icon");e?(i&&(i.style.display="none"),r||(r=document.createElement("div"),r.classList.add("language-transition-container"),document.body.appendChild(r),r.offsetHeight),r.classList.add("active"),t.forEach((e=>{e.classList.add("loading"),e.setAttribute("aria-busy","true")})),n.forEach((e=>{e.classList.add("i18n-loading")})),this._announceToScreenReaders("Changing language. Please wait.")):(r&&(r.classList.remove("active"),setTimeout((()=>{r&&r.parentNode&&r.parentNode.removeChild(r)}),300)),t.forEach((e=>{e.classList.remove("loading"),e.removeAttribute("aria-busy"),e.classList.add("switch-complete"),this._showSuccessIcon(e),setTimeout((()=>{e.classList.remove("switch-complete")}),600)})),n.forEach((e=>{e.classList.remove("i18n-loading")})),this._announceToScreenReaders(`Language changed to ${this.currentLocale}`))}_showSuccessIcon(e){let t=document.getElementById("i18n-success-icon");t||(t=document.createElement("div"),t.setAttribute("id","i18n-success-icon"),t.setAttribute("aria-hidden","true"),t.style.position="absolute",t.style.zIndex="9999",t.style.pointerEvents="none",t.style.borderRadius="50%",t.style.backgroundColor="var(--color-success, #4CAF50)",t.style.color="white",t.style.width="20px",t.style.height="20px",t.style.display="flex",t.style.alignItems="center",t.style.justifyContent="center",t.style.opacity="0",t.style.transition="opacity 0.2s ease-out",t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>',document.body.appendChild(t));const n=e.getBoundingClientRect();t.style.top=n.top+n.height/2-10+"px",t.style.left=`${n.right+10}px`,t.style.opacity="1",setTimeout((()=>{t&&(t.style.opacity="0")}),1500);window.matchMedia("(prefers-reduced-motion: reduce)").matches||t.animate([{transform:"scale(0.8)",opacity:0},{transform:"scale(1.1)",opacity:1},{transform:"scale(1)",opacity:1}],{duration:300,easing:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fill:"forwards"})}_announceToScreenReaders(e){try{let t=document.getElementById("i18n-sr-announcer");t||(t=document.createElement("div"),t.setAttribute("id","i18n-sr-announcer"),t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.style.position="absolute",t.style.width="1px",t.style.height="1px",t.style.padding="0",t.style.margin="-1px",t.style.overflow="hidden",t.style.clip="rect(0, 0, 0, 0)",t.style.whiteSpace="nowrap",t.style.border="0",document.body.appendChild(t)),t.textContent=e}catch(t){console.error("Failed to announce to screen readers:",t)}}setupLanguageSwitcher(){try{const e=document.querySelectorAll("#language-switcher, #language-selector");if(!e.length)return;const t=t=>{e.forEach((e=>{e.value!==t&&(e.value=t)}))};if(this.currentLocale){const n=this.currentLocale.toString().toLowerCase();let r=null;for(const t of e){const e=t.options;if(null==e?void 0:e.length){const t=Array.from(e).find((e=>e.value.toLowerCase()===n));if(t){r=t.value;break}}}r&&t(r)}e.forEach((e=>{const n=e.cloneNode(!0);e.parentNode.replaceChild(n,e),n.addEventListener("change",(e=>{const n=e.target.value;t(n),this.changeLocale(n)}))}))}catch(e){console.error("Failed to setup language switcher:",e)}}async loadTranslations(e){try{return this.loadingPromises[e]||(this.loadingPromises[e]=this._fetchTranslation(e).then((t=>(this.translations[e]=t,t)))),await this.loadingPromises[e],this.currentLocale=e,this.translations[e]}catch(t){throw console.error(`Failed to load translations for ${e}:`,t),t}}translate(e,t={}){if(!e)return"";const n=e.split(".");let r=this.translations[this.currentLocale];if(!r)return e;for(const i of n)if(r=null==r?void 0:r[i],void 0===r){console.warn(`Translation missing for key: ${e}`),r=this.getFromDefaultLocale(e);break}return"string"!=typeof r?e:r.replace(/\{\{\s*(\w+)\s*\}\}/g,((e,n)=>void 0!==t[n]?t[n]:`{{${n}}}`))}getFromDefaultLocale(e){if(!e)return"";const t=e.split(".");let n=this.translations[this.defaultLocale];if(!n)return e;for(const r of t)if(n=null==n?void 0:n[r],void 0===n)return e;return n}updatePageContent(){try{document.querySelectorAll("[data-i18n]").forEach((e=>{const t=e.getAttribute("data-i18n");e.textContent=this.translate(t),e.classList.add("i18n-transition")})),document.querySelectorAll("[data-i18n-placeholder]").forEach((e=>{const t=e.getAttribute("data-i18n-placeholder");e.placeholder=this.translate(t),e.classList.add("i18n-transition")})),document.querySelectorAll("[data-i18n-aria-label]").forEach((e=>{const t=e.getAttribute("data-i18n-aria-label");e.setAttribute("aria-label",this.translate(t)),e.classList.add("i18n-transition")}))}catch(e){console.error("Failed to update page content:",e)}}addObserver(e){this.observers.add(e)}removeObserver(e){this.observers.delete(e)}notifyObservers(){this.observers.forEach((e=>{try{e(this.currentLocale)}catch(t){console.error("Error in i18n observer:",t)}}))}getCurrentLocale(){return this.currentLocale}};"undefined"!=typeof window&&(window.i18n=e),document.addEventListener("DOMContentLoaded",(()=>{e.init().catch((e=>{console.error("Failed to initialize i18n:",e)}))})),function(){function e(){for(var e=arguments.length,t=0;t<e;t++){var n=t<0||arguments.length<=t?void 0:arguments[t];1===n.nodeType||11===n.nodeType?this.appendChild(n):this.appendChild(document.createTextNode(String(n)))}}function t(){for(;this.lastChild;)this.removeChild(this.lastChild);arguments.length&&this.append.apply(this,arguments)}function n(){for(var e=this.parentNode,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.length;if(e)for(i||e.removeChild(this);i--;){var s=n[i];"object"!=typeof s?s=this.ownerDocument.createTextNode(s):s.parentNode&&s.parentNode.removeChild(s),i?e.insertBefore(this.previousSibling,s):e.replaceChild(s,this)}}"undefined"!=typeof Element&&(Element.prototype.append||(Element.prototype.append=e,DocumentFragment.prototype.append=e),Element.prototype.replaceChildren||(Element.prototype.replaceChildren=t,DocumentFragment.prototype.replaceChildren=t),Element.prototype.replaceWith||(Element.prototype.replaceWith=n,DocumentFragment.prototype.replaceWith=n))}();var t,n;function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}
/*!
 * GSAP 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/t={splitClass:"",lineClass:"line",wordClass:"word",charClass:"char",types:["lines","words","chars"],absolute:!1,tagName:"div"},n={},Object.getOwnPropertyNames(Object(t)).reduce((function(e,r){var i=Object.getOwnPropertyDescriptor(Object(t),r),s=Object.getOwnPropertyDescriptor(Object(n),r);return Object.defineProperty(e,r,s||i)}),{});var s,o,a,l,u,c,h,d,f,g,p,m,y,v,b,D,w,_,E,C,T,S,k,x,A,F,I,L,M,O,R,N,P={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},B={duration:.5,overwrite:!1,delay:0},V=1e8,z=1e-8,U=2*Math.PI,j=U/4,$=0,q=Math.sqrt,H=Math.cos,G=Math.sin,W=function(e){return"string"==typeof e},K=function(e){return"function"==typeof e},Y=function(e){return"number"==typeof e},X=function(e){return void 0===e},Q=function(e){return"object"==typeof e},J=function(e){return!1!==e},Z=function(){return"undefined"!=typeof window},ee=function(e){return K(e)||W(e)},te="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},ne=Array.isArray,re=/(?:-?\.?\d|\.)+/gi,ie=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,se=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,oe=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,ae=/[+-]=-?[.\d]+/,le=/[^,'"\[\]\s]+/gi,ue=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,ce={},he={},de=function(e){return(he=Ue(e,ce))&&jn},fe=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},ge=function(e,t){return!t&&console.warn(e)},pe=function(e,t){return e&&(ce[e]=t)&&he&&(he[e]=t)||ce},me=function(){return 0},ye={suppressEvents:!0,isStart:!0,kill:!1},ve={suppressEvents:!0,kill:!1},be={suppressEvents:!0},De={},we=[],_e={},Ee={},Ce={},Te=30,Se=[],ke="",xe=function(e){var t,n,r=e[0];if(Q(r)||K(r)||(e=[e]),!(t=(r._gsap||{}).harness)){for(n=Se.length;n--&&!Se[n].targetTest(r););t=Se[n]}for(n=e.length;n--;)e[n]&&(e[n]._gsap||(e[n]._gsap=new tn(e[n],t)))||e.splice(n,1);return e},Ae=function(e){return e._gsap||xe(vt(e))[0]._gsap},Fe=function(e,t,n){return(n=e[t])&&K(n)?e[t]():X(n)&&e.getAttribute&&e.getAttribute(t)||n},Ie=function(e,t){return(e=e.split(",")).forEach(t)||e},Le=function(e){return Math.round(1e5*e)/1e5||0},Me=function(e){return Math.round(1e7*e)/1e7||0},Oe=function(e,t){var n=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),"+"===n?e+r:"-"===n?e-r:"*"===n?e*r:e/r},Re=function(e,t){for(var n=t.length,r=0;e.indexOf(t[r])<0&&++r<n;);return r<n},Ne=function(){var e,t,n=we.length,r=we.slice(0);for(_e={},we.length=0,e=0;e<n;e++)(t=r[e])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)},Pe=function(e,t,n,r){we.length&&!o&&Ne(),e.render(t,n,o&&t<0&&(e._initted||e._startAt)),we.length&&!o&&Ne()},Be=function(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(le).length<2?t:W(e)?e.trim():e},Ve=function(e){return e},ze=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},Ue=function(e,t){for(var n in t)e[n]=t[n];return e},je=function e(t,n){for(var r in n)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(t[r]=Q(n[r])?e(t[r]||(t[r]={}),n[r]):n[r]);return t},$e=function(e,t){var n,r={};for(n in e)n in t||(r[n]=e[n]);return r},qe=function(e){var t,n=e.parent||l,r=e.keyframes?(t=ne(e.keyframes),function(e,n){for(var r in n)r in e||"duration"===r&&t||"ease"===r||(e[r]=n[r])}):ze;if(J(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},He=function(e,t,n,r,i){var s,o=e[r];if(i)for(s=t[i];o&&o[i]>s;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[r]=t,t._prev=o,t.parent=t._dp=e,t},Ge=function(e,t,n,r){void 0===n&&(n="_first"),void 0===r&&(r="_last");var i=t._prev,s=t._next;i?i._next=s:e[n]===t&&(e[n]=s),s?s._prev=i:e[r]===t&&(e[r]=i),t._next=t._prev=t.parent=null},We=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Ke=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},Ye=function(e,t,n,r){return e._startAt&&(o?e._startAt.revert(ve):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},Xe=function e(t){return!t||t._ts&&e(t.parent)},Qe=function(e){return e._repeat?Je(e._tTime,e=e.duration()+e._rDelay)*e:0},Je=function(e,t){var n=Math.floor(e=Me(e/t));return e&&n===e?n-1:n},Ze=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},et=function(e){return e._end=Me(e._start+(e._tDur/Math.abs(e._ts||e._rts||z)||0))},tt=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=Me(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),et(e),n._dirty||Ke(n,e)),e},nt=function(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=Ze(e.rawTime(),t),(!t._dur||gt(0,t.totalDuration(),n)-t._tTime>z)&&t.render(n,!0)),Ke(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-1e-8}},rt=function(e,t,n,r){return t.parent&&We(t),t._start=Me((Y(n)?n:n||e!==l?ht(e,n,t):e._time)+t._delay),t._end=Me(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),He(e,t,"_first","_last",e._sort?"_start":0),at(t)||(e._recent=t),r||nt(e,t),e._ts<0&&tt(e,e._tTime),e},it=function(e,t){return(ce.ScrollTrigger||fe("scrollTrigger",t))&&ce.ScrollTrigger.create(t,e)},st=function(e,t,n,r,i){return cn(e,t,i),e._initted?!n&&e._pt&&!o&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&f!==jt.frame?(we.push(e),e._lazy=[i,r],1):void 0:1},ot=function e(t){var n=t.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||e(n))},at=function(e){var t=e.data;return"isFromStart"===t||"isStart"===t},lt=function(e,t,n,r){var i=e._repeat,s=Me(t)||0,o=e._tTime/e._tDur;return o&&!r&&(e._time*=s/e._dur),e._dur=s,e._tDur=i?i<0?1e10:Me(s*(i+1)+e._rDelay*i):s,o>0&&!r&&tt(e,e._tTime=e._tDur*o),e.parent&&et(e),n||Ke(e.parent,e),e},ut=function(e){return e instanceof rn?Ke(e):lt(e,e._dur)},ct={_start:0,endTime:me,totalDuration:me},ht=function e(t,n,r){var i,s,o,a=t.labels,l=t._recent||ct,u=t.duration()>=V?l.endTime(!1):t._dur;return W(n)&&(isNaN(n)||n in a)?(s=n.charAt(0),o="%"===n.substr(-1),i=n.indexOf("="),"<"===s||">"===s?(i>=0&&(n=n.replace(/=/,"")),("<"===s?l._start:l.endTime(l._repeat>=0))+(parseFloat(n.substr(1))||0)*(o?(i<0?l:r).totalDuration()/100:1)):i<0?(n in a||(a[n]=u),a[n]):(s=parseFloat(n.charAt(i-1)+n.substr(i+1)),o&&r&&(s=s/100*(ne(r)?r[0]:r).totalDuration()),i>1?e(t,n.substr(0,i-1),r)+s:u+s)):null==n?u:+n},dt=function(e,t,n){var r,i,s=Y(t[1]),o=(s?2:1)+(e<2?0:1),a=t[o];if(s&&(a.duration=t[1]),a.parent=n,e){for(r=a,i=n;i&&!("immediateRender"in r);)r=i.vars.defaults||{},i=J(i.vars.inherit)&&i.parent;a.immediateRender=J(r.immediateRender),e<2?a.runBackwards=1:a.startAt=t[o-1]}return new pn(t[0],a,t[o+1])},ft=function(e,t){return e||0===e?t(e):t},gt=function(e,t,n){return n<e?e:n>t?t:n},pt=function(e,t){return W(e)&&(t=ue.exec(e))?t[1]:""},mt=[].slice,yt=function(e,t){return e&&Q(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&Q(e[0]))&&!e.nodeType&&e!==u},vt=function(e,t,n){return a&&!t&&a.selector?a.selector(e):!W(e)||n||!c&&$t()?ne(e)?function(e,t,n){return void 0===n&&(n=[]),e.forEach((function(e){var r;return W(e)&&!t||yt(e,1)?(r=n).push.apply(r,vt(e)):n.push(e)}))||n}(e,n):yt(e)?mt.call(e,0):e?[e]:[]:mt.call((t||h).querySelectorAll(e),0)},bt=function(e){return e=vt(e)[0]||ge("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return vt(t,n.querySelectorAll?n:n===e?ge("Invalid scope")||h.createElement("div"):e)}},Dt=function(e){return e.sort((function(){return.5-Math.random()}))},wt=function(e){if(K(e))return e;var t=Q(e)?e:{each:e},n=Xt(t.ease),r=t.from||0,i=parseFloat(t.base)||0,s={},o=r>0&&r<1,a=isNaN(r)||o,l=t.axis,u=r,c=r;return W(r)?u=c={center:.5,edges:.5,end:1}[r]||0:!o&&a&&(u=r[0],c=r[1]),function(e,o,h){var d,f,g,p,m,y,v,b,D,w=(h||t).length,_=s[w];if(!_){if(!(D="auto"===t.grid?0:(t.grid||[1,V])[1])){for(v=-1e8;v<(v=h[D++].getBoundingClientRect().left)&&D<w;);D<w&&D--}for(_=s[w]=[],d=a?Math.min(D,w)*u-.5:r%D,f=D===V?0:a?w*c/D-.5:r/D|0,v=0,b=V,y=0;y<w;y++)g=y%D-d,p=f-(y/D|0),_[y]=m=l?Math.abs("y"===l?p:g):q(g*g+p*p),m>v&&(v=m),m<b&&(b=m);"random"===r&&Dt(_),_.max=v-b,_.min=b,_.v=w=(parseFloat(t.amount)||parseFloat(t.each)*(D>w?w-1:l?"y"===l?w/D:D:Math.max(D,w/D))||0)*("edges"===r?-1:1),_.b=w<0?i-w:i,_.u=pt(t.amount||t.each)||0,n=n&&w<0?Kt(n):n}return w=(_[e]-_.min)/_.max||0,Me(_.b+(n?n(w):w)*_.v)+_.u}},_t=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var r=Me(Math.round(parseFloat(n)/e)*e*t);return(r-r%1)/t+(Y(n)?0:pt(n))}},Et=function(e,t){var n,r,i=ne(e);return!i&&Q(e)&&(n=i=e.radius||V,e.values?(e=vt(e.values),(r=!Y(e[0]))&&(n*=n)):e=_t(e.increment)),ft(t,i?K(e)?function(t){return r=e(t),Math.abs(r-t)<=n?r:t}:function(t){for(var i,s,o=parseFloat(r?t.x:t),a=parseFloat(r?t.y:0),l=V,u=0,c=e.length;c--;)(i=r?(i=e[c].x-o)*i+(s=e[c].y-a)*s:Math.abs(e[c]-o))<l&&(l=i,u=c);return u=!n||l<=n?e[u]:t,r||u===t||Y(t)?u:u+pt(t)}:_t(e))},Ct=function(e,t,n,r){return ft(ne(e)?!t:!0===n?!!(n=0):!r,(function(){return ne(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+.99*n))/n)*n*r)/r}))},Tt=function(e,t,n){return ft(n,(function(n){return e[~~t(n)]}))},St=function(e){for(var t,n,r,i,s=0,o="";~(t=e.indexOf("random(",s));)r=e.indexOf(")",t),i="["===e.charAt(t+7),n=e.substr(t+7,r-t-7).match(i?le:re),o+=e.substr(s,t-s)+Ct(i?n:+n[0],i?0:+n[1],+n[2]||1e-5),s=r+1;return o+e.substr(s,e.length-s)},kt=function(e,t,n,r,i){var s=t-e,o=r-n;return ft(i,(function(t){return n+((t-e)/s*o||0)}))},xt=function(e,t,n){var r,i,s,o=e.labels,a=V;for(r in o)(i=o[r]-t)<0==!!n&&i&&a>(i=Math.abs(i))&&(s=r,a=i);return s},At=function(e,t,n){var r,i,s,o=e.vars,l=o[t],u=a,c=e._ctx;if(l)return r=o[t+"Params"],i=o.callbackScope||e,n&&we.length&&Ne(),c&&(a=c),s=r?l.apply(i,r):l.call(i),a=u,s},Ft=function(e){return We(e),e.scrollTrigger&&e.scrollTrigger.kill(!!o),e.progress()<1&&At(e,"onInterrupt"),e},It=[],Lt=function(e){if(e)if(e=!e.name&&e.default||e,Z()||e.headless){var t=e.name,n=K(e),r=t&&!n&&e.init?function(){this._props=[]}:e,i={init:me,render:Cn,add:ln,kill:Sn,modifier:Tn,rawVars:0},s={targetTest:0,get:0,getSetter:Dn,aliases:{},register:0};if($t(),e!==r){if(Ee[t])return;ze(r,ze($e(e,i),s)),Ue(r.prototype,Ue(i,$e(e,s))),Ee[r.prop=t]=r,e.targetTest&&(Se.push(r),De[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}pe(t,r),e.register&&e.register(jn,r,An)}else It.push(e)},Mt=255,Ot={aqua:[0,Mt,Mt],lime:[0,Mt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Mt],navy:[0,0,128],white:[Mt,Mt,Mt],olive:[128,128,0],yellow:[Mt,Mt,0],orange:[Mt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Mt,0,0],pink:[Mt,192,203],cyan:[0,Mt,Mt],transparent:[Mt,Mt,Mt,0]},Rt=function(e,t,n){return(6*(e+=e<0?1:e>1?-1:0)<1?t+(n-t)*e*6:e<.5?n:3*e<2?t+(n-t)*(2/3-e)*6:t)*Mt+.5|0},Nt=function(e,t,n){var r,i,s,o,a,l,u,c,h,d,f=e?Y(e)?[e>>16,e>>8&Mt,e&Mt]:0:Ot.black;if(!f){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),Ot[e])f=Ot[e];else if("#"===e.charAt(0)){if(e.length<6&&(r=e.charAt(1),i=e.charAt(2),s=e.charAt(3),e="#"+r+r+i+i+s+s+(5===e.length?e.charAt(4)+e.charAt(4):"")),9===e.length)return[(f=parseInt(e.substr(1,6),16))>>16,f>>8&Mt,f&Mt,parseInt(e.substr(7),16)/255];f=[(e=parseInt(e.substr(1),16))>>16,e>>8&Mt,e&Mt]}else if("hsl"===e.substr(0,3))if(f=d=e.match(re),t){if(~e.indexOf("="))return f=e.match(ie),n&&f.length<4&&(f[3]=1),f}else o=+f[0]%360/360,a=+f[1]/100,r=2*(l=+f[2]/100)-(i=l<=.5?l*(a+1):l+a-l*a),f.length>3&&(f[3]*=1),f[0]=Rt(o+1/3,r,i),f[1]=Rt(o,r,i),f[2]=Rt(o-1/3,r,i);else f=e.match(re)||Ot.transparent;f=f.map(Number)}return t&&!d&&(r=f[0]/Mt,i=f[1]/Mt,s=f[2]/Mt,l=((u=Math.max(r,i,s))+(c=Math.min(r,i,s)))/2,u===c?o=a=0:(h=u-c,a=l>.5?h/(2-u-c):h/(u+c),o=u===r?(i-s)/h+(i<s?6:0):u===i?(s-r)/h+2:(r-i)/h+4,o*=60),f[0]=~~(o+.5),f[1]=~~(100*a+.5),f[2]=~~(100*l+.5)),n&&f.length<4&&(f[3]=1),f},Pt=function(e){var t=[],n=[],r=-1;return e.split(Vt).forEach((function(e){var i=e.match(se)||[];t.push.apply(t,i),n.push(r+=i.length+1)})),t.c=n,t},Bt=function(e,t,n){var r,i,s,o,a="",l=(e+a).match(Vt),u=t?"hsla(":"rgba(",c=0;if(!l)return e;if(l=l.map((function(e){return(e=Nt(e,t,1))&&u+(t?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"})),n&&(s=Pt(e),(r=n.c).join(a)!==s.c.join(a)))for(o=(i=e.replace(Vt,"1").split(se)).length-1;c<o;c++)a+=i[c]+(~r.indexOf(c)?l.shift()||u+"0,0,0,0)":(s.length?s:l.length?l:n).shift());if(!i)for(o=(i=e.split(Vt)).length-1;c<o;c++)a+=i[c]+l[c];return a+i[o]},Vt=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(e in Ot)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),zt=/hsl[a]?\(/,Ut=function(e){var t,n=e.join(" ");if(Vt.lastIndex=0,Vt.test(n))return t=zt.test(n),e[1]=Bt(e[1],t),e[0]=Bt(e[0],t,Pt(e[1])),!0},jt=(_=Date.now,E=500,C=33,T=_(),S=T,x=k=1e3/240,F=function e(t){var n,r,i,s,o=_()-S,a=!0===t;if((o>E||o<0)&&(T+=o-C),((n=(i=(S+=o)-T)-x)>0||a)&&(s=++b.frame,D=i-1e3*b.time,b.time=i/=1e3,x+=n+(n>=k?4:k-n),r=1),a||(m=y(e)),r)for(w=0;w<A.length;w++)A[w](i,D,s,t)},b={time:0,frame:0,tick:function(){F(!0)},deltaRatio:function(e){return D/(1e3/(e||60))},wake:function(){d&&(!c&&Z()&&(u=c=window,h=u.document||{},ce.gsap=jn,(u.gsapVersions||(u.gsapVersions=[])).push(jn.version),de(he||u.GreenSockGlobals||!u.gsap&&u||{}),It.forEach(Lt)),v="undefined"!=typeof requestAnimationFrame&&requestAnimationFrame,m&&b.sleep(),y=v||function(e){return setTimeout(e,x-1e3*b.time+1|0)},p=1,F(2))},sleep:function(){(v?cancelAnimationFrame:clearTimeout)(m),p=0,y=me},lagSmoothing:function(e,t){E=e||1/0,C=Math.min(t||33,E)},fps:function(e){k=1e3/(e||240),x=1e3*b.time+k},add:function(e,t,n){var r=t?function(t,n,i,s){e(t,n,i,s),b.remove(r)}:e;return b.remove(e),A[n?"unshift":"push"](r),$t(),r},remove:function(e,t){~(t=A.indexOf(e))&&A.splice(t,1)&&w>=t&&w--},_listeners:A=[]}),$t=function(){return!p&&jt.wake()},qt={},Ht=/^[\d.\-M][\d.\-,\s]/,Gt=/["']/g,Wt=function(e){for(var t,n,r,i={},s=e.substr(1,e.length-3).split(":"),o=s[0],a=1,l=s.length;a<l;a++)n=s[a],t=a!==l-1?n.lastIndexOf(","):n.length,r=n.substr(0,t),i[o]=isNaN(r)?r.replace(Gt,"").trim():+r,o=n.substr(t+1).trim();return i},Kt=function(e){return function(t){return 1-e(1-t)}},Yt=function e(t,n){for(var r,i=t._first;i;)i instanceof rn?e(i,n):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===n||(i.timeline?e(i.timeline,n):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=n)),i=i._next},Xt=function(e,t){return e&&(K(e)?e:qt[e]||function(e){var t,n,r,i,s=(e+"").split("("),o=qt[s[0]];return o&&s.length>1&&o.config?o.config.apply(null,~e.indexOf("{")?[Wt(s[1])]:(t=e,n=t.indexOf("(")+1,r=t.indexOf(")"),i=t.indexOf("(",n),t.substring(n,~i&&i<r?t.indexOf(")",r+1):r)).split(",").map(Be)):qt._CE&&Ht.test(e)?qt._CE("",e):o}(e))||t},Qt=function(e,t,n,r){void 0===n&&(n=function(e){return 1-t(1-e)}),void 0===r&&(r=function(e){return e<.5?t(2*e)/2:1-t(2*(1-e))/2});var i,s={easeIn:t,easeOut:n,easeInOut:r};return Ie(e,(function(e){for(var t in qt[e]=ce[e]=s,qt[i=e.toLowerCase()]=n,s)qt[i+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=qt[e+"."+t]=s[t]})),s},Jt=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}},Zt=function e(t,n,r){var i=n>=1?n:1,s=(r||(t?.3:.45))/(n<1?n:1),o=s/U*(Math.asin(1/i)||0),a=function(e){return 1===e?1:i*Math.pow(2,-10*e)*G((e-o)*s)+1},l="out"===t?a:"in"===t?function(e){return 1-a(1-e)}:Jt(a);return s=U/s,l.config=function(n,r){return e(t,n,r)},l},en=function e(t,n){void 0===n&&(n=1.70158);var r=function(e){return e?--e*e*((n+1)*e+n)+1:0},i="out"===t?r:"in"===t?function(e){return 1-r(1-e)}:Jt(r);return i.config=function(n){return e(t,n)},i};Ie("Linear,Quad,Cubic,Quart,Quint,Strong",(function(e,t){var n=t<5?t+1:t;Qt(e+",Power"+(n-1),t?function(e){return Math.pow(e,n)}:function(e){return e},(function(e){return 1-Math.pow(1-e,n)}),(function(e){return e<.5?Math.pow(2*e,n)/2:1-Math.pow(2*(1-e),n)/2}))})),qt.Linear.easeNone=qt.none=qt.Linear.easeIn,Qt("Elastic",Zt("in"),Zt("out"),Zt()),I=7.5625,O=2*(M=1/(L=2.75)),R=2.5*M,Qt("Bounce",(function(e){return 1-N(1-e)}),N=function(e){return e<M?I*e*e:e<O?I*Math.pow(e-1.5/L,2)+.75:e<R?I*(e-=2.25/L)*e+.9375:I*Math.pow(e-2.625/L,2)+.984375}),Qt("Expo",(function(e){return Math.pow(2,10*(e-1))*e+e*e*e*e*e*e*(1-e)})),Qt("Circ",(function(e){return-(q(1-e*e)-1)})),Qt("Sine",(function(e){return 1===e?1:1-H(e*j)})),Qt("Back",en("in"),en("out"),en()),qt.SteppedEase=qt.steps=ce.SteppedEase={config:function(e,t){void 0===e&&(e=1);var n=1/e,r=e+(t?0:1),i=t?1:0;return function(e){return((r*gt(0,.99999999,e)|0)+i)*n}}},B.ease=qt["quad.out"],Ie("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(e){return ke+=e+","+e+"Params,"}));var tn=function(e,t){this.id=$++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:Fe,this.set=t?t.getSetter:Dn},nn=function(){function e(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,lt(this,+e.duration,1,1),this.data=e.data,a&&(this._ctx=a,a.data.push(this)),p||jt.wake()}var t=e.prototype;return t.delay=function(e){return e||0===e?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},t.duration=function(e){return arguments.length?this.totalDuration(this._repeat>0?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},t.totalDuration=function(e){return arguments.length?(this._dirty=0,lt(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(e,t){if($t(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(tt(this,e),!n._dp||n.parent||nt(n,this);n&&n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&e<this._tDur||this._ts<0&&e>0||!this._tDur&&!e)&&rt(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!t||this._initted&&Math.abs(this._zTime)===z||!e&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=e),Pe(this,e,t)),this},t.time=function(e,t){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+Qe(this))%(this._dur+this._rDelay)||(e?this._dur:0),t):this._time},t.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},t.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+Qe(this),t):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(e,t){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*n,t):this._repeat?Je(this._tTime,n)+1:1},t.timeScale=function(e,t){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===e)return this;var n=this.parent&&this._ts?Ze(this.parent._time,this):this._tTime;return this._rts=+e||0,this._ts=this._ps||-1e-8===e?0:this._rts,this.totalTime(gt(-Math.abs(this._delay),this._tDur,n),!1!==t),et(this),function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e}(this)},t.paused=function(e){return arguments.length?(this._ps!==e&&(this._ps=e,e?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):($t(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==z&&(this._tTime-=z)))),this):this._ps},t.startTime=function(e){if(arguments.length){this._start=e;var t=this.parent||this._dp;return t&&(t._sort||!this.parent)&&rt(t,this,e-this._delay),this}return this._start},t.endTime=function(e){return this._start+(J(e)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Ze(t.rawTime(e),this):this._tTime:this._tTime},t.revert=function(e){void 0===e&&(e=be);var t=o;return o=e,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(e),this.totalTime(-.01,e.suppressEvents)),"nested"!==this.data&&!1!==e.kill&&this.kill(),o=t,this},t.globalTime=function(e){for(var t=this,n=arguments.length?e:t.rawTime();t;)n=t._start+n/(Math.abs(t._ts)||1),t=t._dp;return!this.parent&&this._sat?this._sat.globalTime(e):n},t.repeat=function(e){return arguments.length?(this._repeat=e===1/0?-2:e,ut(this)):-2===this._repeat?1/0:this._repeat},t.repeatDelay=function(e){if(arguments.length){var t=this._time;return this._rDelay=e,ut(this),t?this.time(t):this}return this._rDelay},t.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},t.seek=function(e,t){return this.totalTime(ht(this,e),J(t))},t.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,J(t)),this._dur||(this._zTime=-1e-8),this},t.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},t.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},t.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-1e-8:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},t.isActive=function(){var e,t=this.parent||this._dp,n=this._start;return!(t&&!(this._ts&&this._initted&&t.isActive()&&(e=t.rawTime(!0))>=n&&e<this.endTime(!0)-z))},t.eventCallback=function(e,t,n){var r=this.vars;return arguments.length>1?(t?(r[e]=t,n&&(r[e+"Params"]=n),"onUpdate"===e&&(this._onUpdate=t)):delete r[e],this):r[e]},t.then=function(e){var t=this;return new Promise((function(n){var r=K(e)?e:Ve,i=function(){var e=t.then;t.then=null,K(r)&&(r=r(t))&&(r.then||r===t)&&(t.then=e),n(r),t.then=e};t._initted&&1===t.totalProgress()&&t._ts>=0||!t._tTime&&t._ts<0?i():t._prom=i}))},t.kill=function(){Ft(this)},e}();ze(nn.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var rn=function(e){function t(t,n){var i;return void 0===t&&(t={}),(i=e.call(this,t)||this).labels={},i.smoothChildTiming=!!t.smoothChildTiming,i.autoRemoveChildren=!!t.autoRemoveChildren,i._sort=J(t.sortChildren),l&&rt(t.parent||l,r(i),n),t.reversed&&i.reverse(),t.paused&&i.paused(!0),t.scrollTrigger&&it(r(i),t.scrollTrigger),i}i(t,e);var n=t.prototype;return n.to=function(e,t,n){return dt(0,arguments,this),this},n.from=function(e,t,n){return dt(1,arguments,this),this},n.fromTo=function(e,t,n,r){return dt(2,arguments,this),this},n.set=function(e,t,n){return t.duration=0,t.parent=this,qe(t).repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new pn(e,t,ht(this,n),1),this},n.call=function(e,t,n){return rt(this,pn.delayedCall(0,e,t),n)},n.staggerTo=function(e,t,n,r,i,s,o){return n.duration=t,n.stagger=n.stagger||r,n.onComplete=s,n.onCompleteParams=o,n.parent=this,new pn(e,n,ht(this,i)),this},n.staggerFrom=function(e,t,n,r,i,s,o){return n.runBackwards=1,qe(n).immediateRender=J(n.immediateRender),this.staggerTo(e,t,n,r,i,s,o)},n.staggerFromTo=function(e,t,n,r,i,s,o,a){return r.startAt=n,qe(r).immediateRender=J(r.immediateRender),this.staggerTo(e,t,r,i,s,o,a)},n.render=function(e,t,n){var r,i,s,a,u,c,h,d,f,g,p,m,y=this._time,v=this._dirty?this.totalDuration():this._tDur,b=this._dur,D=e<=0?0:Me(e),w=this._zTime<0!=e<0&&(this._initted||!b);if(this!==l&&D>v&&e>=0&&(D=v),D!==this._tTime||n||w){if(y!==this._time&&b&&(D+=this._time-y,e+=this._time-y),r=D,f=this._start,c=!(d=this._ts),w&&(b||(y=this._zTime),(e||!t)&&(this._zTime=e)),this._repeat){if(p=this._yoyo,u=b+this._rDelay,this._repeat<-1&&e<0)return this.totalTime(100*u+e,t,n);if(r=Me(D%u),D===v?(a=this._repeat,r=b):((a=~~(g=Me(D/u)))&&a===g&&(r=b,a--),r>b&&(r=b)),g=Je(this._tTime,u),!y&&this._tTime&&g!==a&&this._tTime-g*u-this._dur<=0&&(g=a),p&&1&a&&(r=b-r,m=1),a!==g&&!this._lock){var _=p&&1&g,E=_===(p&&1&a);if(a<g&&(_=!_),y=_?0:D%b?b:D,this._lock=1,this.render(y||(m?0:Me(a*u)),t,!b)._lock=0,this._tTime=D,!t&&this.parent&&At(this,"onRepeat"),this.vars.repeatRefresh&&!m&&(this.invalidate()._lock=1),y&&y!==this._time||c!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(b=this._dur,v=this._tDur,E&&(this._lock=2,y=_?b:-1e-4,this.render(y,!0),this.vars.repeatRefresh&&!m&&this.invalidate()),this._lock=0,!this._ts&&!c)return this;Yt(this,m)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(h=function(e,t,n){var r;if(n>t)for(r=e._first;r&&r._start<=n;){if("isPause"===r.data&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=n;){if("isPause"===r.data&&r._start<t)return r;r=r._prev}}(this,Me(y),Me(r)),h&&(D-=r-(r=h._start))),this._tTime=D,this._time=r,this._act=!d,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=e,y=0),!y&&r&&!t&&!a&&(At(this,"onStart"),this._tTime!==D))return this;if(r>=y&&e>=0)for(i=this._first;i;){if(s=i._next,(i._act||r>=i._start)&&i._ts&&h!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(r-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(r-i._start)*i._ts,t,n),r!==this._time||!this._ts&&!c){h=0,s&&(D+=this._zTime=-1e-8);break}}i=s}else{i=this._last;for(var C=e<0?e:r;i;){if(s=i._prev,(i._act||C<=i._end)&&i._ts&&h!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(C-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(C-i._start)*i._ts,t,n||o&&(i._initted||i._startAt)),r!==this._time||!this._ts&&!c){h=0,s&&(D+=this._zTime=C?-1e-8:z);break}}i=s}}if(h&&!t&&(this.pause(),h.render(r>=y?0:-1e-8)._zTime=r>=y?1:-1,this._ts))return this._start=f,et(this),this.render(e,t,n);this._onUpdate&&!t&&At(this,"onUpdate",!0),(D===v&&this._tTime>=this.totalDuration()||!D&&y)&&(f!==this._start&&Math.abs(d)===Math.abs(this._ts)||this._lock||((e||!b)&&(D===v&&this._ts>0||!D&&this._ts<0)&&We(this,1),t||e<0&&!y||!D&&!y&&v||(At(this,D===v&&e>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(D<v&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(e,t){var n=this;if(Y(t)||(t=ht(this,t,e)),!(e instanceof nn)){if(ne(e))return e.forEach((function(e){return n.add(e,t)})),this;if(W(e))return this.addLabel(e,t);if(!K(e))return this;e=pn.delayedCall(0,e)}return this!==e?rt(this,e,t):this},n.getChildren=function(e,t,n,r){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===r&&(r=-1e8);for(var i=[],s=this._first;s;)s._start>=r&&(s instanceof pn?t&&i.push(s):(n&&i.push(s),e&&i.push.apply(i,s.getChildren(!0,t,n)))),s=s._next;return i},n.getById=function(e){for(var t=this.getChildren(1,1,1),n=t.length;n--;)if(t[n].vars.id===e)return t[n]},n.remove=function(e){return W(e)?this.removeLabel(e):K(e)?this.killTweensOf(e):(e.parent===this&&Ge(this,e),e===this._recent&&(this._recent=this._last),Ke(this))},n.totalTime=function(t,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Me(jt.time-(this._ts>0?t/this._ts:(this.totalDuration()-t)/-this._ts))),e.prototype.totalTime.call(this,t,n),this._forcing=0,this):this._tTime},n.addLabel=function(e,t){return this.labels[e]=ht(this,t),this},n.removeLabel=function(e){return delete this.labels[e],this},n.addPause=function(e,t,n){var r=pn.delayedCall(0,t||me,n);return r.data="isPause",this._hasPause=1,rt(this,r,ht(this,e))},n.removePause=function(e){var t=this._first;for(e=ht(this,e);t;)t._start===e&&"isPause"===t.data&&We(t),t=t._next},n.killTweensOf=function(e,t,n){for(var r=this.getTweensOf(e,n),i=r.length;i--;)sn!==r[i]&&r[i].kill(e,t);return this},n.getTweensOf=function(e,t){for(var n,r=[],i=vt(e),s=this._first,o=Y(t);s;)s instanceof pn?Re(s._targets,i)&&(o?(!sn||s._initted&&s._ts)&&s.globalTime(0)<=t&&s.globalTime(s.totalDuration())>t:!t||s.isActive())&&r.push(s):(n=s.getTweensOf(i,t)).length&&r.push.apply(r,n),s=s._next;return r},n.tweenTo=function(e,t){t=t||{};var n,r=this,i=ht(r,e),s=t,o=s.startAt,a=s.onStart,l=s.onStartParams,u=s.immediateRender,c=pn.to(r,ze({ease:t.ease||"none",lazy:!1,immediateRender:!1,time:i,overwrite:"auto",duration:t.duration||Math.abs((i-(o&&"time"in o?o.time:r._time))/r.timeScale())||z,onStart:function(){if(r.pause(),!n){var e=t.duration||Math.abs((i-(o&&"time"in o?o.time:r._time))/r.timeScale());c._dur!==e&&lt(c,e,0,1).render(c._time,!0,!0),n=1}a&&a.apply(c,l||[])}},t));return u?c.render(0):c},n.tweenFromTo=function(e,t,n){return this.tweenTo(t,ze({startAt:{time:ht(this,e)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(e){return void 0===e&&(e=this._time),xt(this,ht(this,e))},n.previousLabel=function(e){return void 0===e&&(e=this._time),xt(this,ht(this,e),1)},n.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+z)},n.shiftChildren=function(e,t,n){void 0===n&&(n=0);for(var r,i=this._first,s=this.labels;i;)i._start>=n&&(i._start+=e,i._end+=e),i=i._next;if(t)for(r in s)s[r]>=n&&(s[r]+=e);return Ke(this)},n.invalidate=function(t){var n=this._first;for(this._lock=0;n;)n.invalidate(t),n=n._next;return e.prototype.invalidate.call(this,t)},n.clear=function(e){void 0===e&&(e=!0);for(var t,n=this._first;n;)t=n._next,this.remove(n),n=t;return this._dp&&(this._time=this._tTime=this._pTime=0),e&&(this.labels={}),Ke(this)},n.totalDuration=function(e){var t,n,r,i=0,s=this,o=s._last,a=V;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-e:e));if(s._dirty){for(r=s.parent;o;)t=o._prev,o._dirty&&o.totalDuration(),(n=o._start)>a&&s._sort&&o._ts&&!s._lock?(s._lock=1,rt(s,o,n-o._delay,1)._lock=0):a=n,n<0&&o._ts&&(i-=n,(!r&&!s._dp||r&&r.smoothChildTiming)&&(s._start+=n/s._ts,s._time-=n,s._tTime-=n),s.shiftChildren(-n,!1,-1/0),a=0),o._end>i&&o._ts&&(i=o._end),o=t;lt(s,s===l&&s._time>i?s._time:i,1,1),s._dirty=0}return s._tDur},t.updateRoot=function(e){if(l._ts&&(Pe(l,Ze(e,l)),f=jt.frame),jt.frame>=Te){Te+=P.autoSleep||120;var t=l._first;if((!t||!t._ts)&&P.autoSleep&&jt._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||jt.sleep()}}},t}(nn);ze(rn.prototype,{_lock:0,_hasPause:0,_forcing:0});var sn,on,an=function(e,t,n,r,i,s,o){var a,l,u,c,h,d,f,g,p=new An(this._pt,e,t,0,1,En,null,i),m=0,y=0;for(p.b=n,p.e=r,n+="",(f=~(r+="").indexOf("random("))&&(r=St(r)),s&&(s(g=[n,r],e,t),n=g[0],r=g[1]),l=n.match(oe)||[];a=oe.exec(r);)c=a[0],h=r.substring(m,a.index),u?u=(u+1)%5:"rgba("===h.substr(-5)&&(u=1),c!==l[y++]&&(d=parseFloat(l[y-1])||0,p._pt={_next:p._pt,p:h||1===y?h:",",s:d,c:"="===c.charAt(1)?Oe(d,c)-d:parseFloat(c)-d,m:u&&u<4?Math.round:0},m=oe.lastIndex);return p.c=m<r.length?r.substring(m,r.length):"",p.fp=o,(ae.test(r)||f)&&(p.e=0),this._pt=p,p},ln=function(e,t,n,r,i,s,o,a,l,u){K(r)&&(r=r(i||0,e,s));var c,h=e[t],d="get"!==n?n:K(h)?l?e[t.indexOf("set")||!K(e["get"+t.substr(3)])?t:"get"+t.substr(3)](l):e[t]():h,f=K(h)?l?vn:yn:mn;if(W(r)&&(~r.indexOf("random(")&&(r=St(r)),"="===r.charAt(1)&&((c=Oe(d,r)+(pt(d)||0))||0===c)&&(r=c)),!u||d!==r||on)return isNaN(d*r)||""===r?(!h&&!(t in e)&&fe(t,r),an.call(this,e,t,d,r,f,a||P.stringFilter,l)):(c=new An(this._pt,e,t,+d||0,r-(d||0),"boolean"==typeof h?_n:wn,0,f),l&&(c.fp=l),o&&c.modifier(o,this,e),this._pt=c)},un=function(e,t,n,r,i,s){var o,a,l,u;if(Ee[e]&&!1!==(o=new Ee[e]).init(i,o.rawVars?t[e]:function(e,t,n,r,i){if(K(e)&&(e=dn(e,i,t,n,r)),!Q(e)||e.style&&e.nodeType||ne(e)||te(e))return W(e)?dn(e,i,t,n,r):e;var s,o={};for(s in e)o[s]=dn(e[s],i,t,n,r);return o}(t[e],r,i,s,n),n,r,s)&&(n._pt=a=new An(n._pt,i,e,0,1,o.render,o,0,o.priority),n!==g))for(l=n._ptLookup[n._targets.indexOf(i)],u=o._props.length;u--;)l[o._props[u]]=a;return o},cn=function e(t,n,r){var i,a,u,c,h,d,f,g,p,m,y,v,b,D=t.vars,w=D.ease,_=D.startAt,E=D.immediateRender,C=D.lazy,T=D.onUpdate,S=D.runBackwards,k=D.yoyoEase,x=D.keyframes,A=D.autoRevert,F=t._dur,I=t._startAt,L=t._targets,M=t.parent,O=M&&"nested"===M.data?M.vars.targets:L,R="auto"===t._overwrite&&!s,N=t.timeline;if(N&&(!x||!w)&&(w="none"),t._ease=Xt(w,B.ease),t._yEase=k?Kt(Xt(!0===k?w:k,B.ease)):0,k&&t._yoyo&&!t._repeat&&(k=t._yEase,t._yEase=t._ease,t._ease=k),t._from=!N&&!!D.runBackwards,!N||x&&!D.stagger){if(v=(g=L[0]?Ae(L[0]).harness:0)&&D[g.prop],i=$e(D,De),I&&(I._zTime<0&&I.progress(1),n<0&&S&&E&&!A?I.render(-1,!0):I.revert(S&&F?ve:ye),I._lazy=0),_){if(We(t._startAt=pn.set(L,ze({data:"isStart",overwrite:!1,parent:M,immediateRender:!0,lazy:!I&&J(C),startAt:null,delay:0,onUpdate:T&&function(){return At(t,"onUpdate")},stagger:0},_))),t._startAt._dp=0,t._startAt._sat=t,n<0&&(o||!E&&!A)&&t._startAt.revert(ve),E&&F&&n<=0&&r<=0)return void(n&&(t._zTime=n))}else if(S&&F&&!I)if(n&&(E=!1),u=ze({overwrite:!1,data:"isFromStart",lazy:E&&!I&&J(C),immediateRender:E,stagger:0,parent:M},i),v&&(u[g.prop]=v),We(t._startAt=pn.set(L,u)),t._startAt._dp=0,t._startAt._sat=t,n<0&&(o?t._startAt.revert(ve):t._startAt.render(-1,!0)),t._zTime=n,E){if(!n)return}else e(t._startAt,z,z);for(t._pt=t._ptCache=0,C=F&&J(C)||C&&!F,a=0;a<L.length;a++){if(f=(h=L[a])._gsap||xe(L)[a]._gsap,t._ptLookup[a]=m={},_e[f.id]&&we.length&&Ne(),y=O===L?a:O.indexOf(h),g&&!1!==(p=new g).init(h,v||i,t,y,O)&&(t._pt=c=new An(t._pt,h,p.name,0,1,p.render,p,0,p.priority),p._props.forEach((function(e){m[e]=c})),p.priority&&(d=1)),!g||v)for(u in i)Ee[u]&&(p=un(u,i,t,y,h,O))?p.priority&&(d=1):m[u]=c=ln.call(t,h,u,"get",i[u],y,O,0,D.stringFilter);t._op&&t._op[a]&&t.kill(h,t._op[a]),R&&t._pt&&(sn=t,l.killTweensOf(h,m,t.globalTime(n)),b=!t.parent,sn=0),t._pt&&C&&(_e[f.id]=1)}d&&xn(t),t._onInit&&t._onInit(t)}t._onUpdate=T,t._initted=(!t._op||t._pt)&&!b,x&&n<=0&&N.render(V,!0,!0)},hn=function(e,t,n,r){var i,s,o=t.ease||r||"power1.inOut";if(ne(t))s=n[e]||(n[e]=[]),t.forEach((function(e,n){return s.push({t:n/(t.length-1)*100,v:e,e:o})}));else for(i in t)s=n[i]||(n[i]=[]),"ease"===i||s.push({t:parseFloat(e),v:t[i],e:o})},dn=function(e,t,n,r,i){return K(e)?e.call(t,n,r,i):W(e)&&~e.indexOf("random(")?St(e):e},fn=ke+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",gn={};Ie(fn+",id,stagger,delay,duration,paused,scrollTrigger",(function(e){return gn[e]=1}));var pn=function(e){function t(t,n,i,o){var a;"number"==typeof n&&(i.duration=n,n=i,i=null);var u,c,h,d,f,g,p,m,y=(a=e.call(this,o?n:qe(n))||this).vars,v=y.duration,b=y.delay,D=y.immediateRender,w=y.stagger,_=y.overwrite,E=y.keyframes,C=y.defaults,T=y.scrollTrigger,S=y.yoyoEase,k=n.parent||l,x=(ne(t)||te(t)?Y(t[0]):"length"in n)?[t]:vt(t);if(a._targets=x.length?xe(x):ge("GSAP target "+t+" not found. https://gsap.com",!P.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=_,E||w||ee(v)||ee(b)){if(n=a.vars,(u=a.timeline=new rn({data:"nested",defaults:C||{},targets:k&&"nested"===k.data?k.vars.targets:x})).kill(),u.parent=u._dp=r(a),u._start=0,w||ee(v)||ee(b)){if(d=x.length,p=w&&wt(w),Q(w))for(f in w)~fn.indexOf(f)&&(m||(m={}),m[f]=w[f]);for(c=0;c<d;c++)(h=$e(n,gn)).stagger=0,S&&(h.yoyoEase=S),m&&Ue(h,m),g=x[c],h.duration=+dn(v,r(a),c,g,x),h.delay=(+dn(b,r(a),c,g,x)||0)-a._delay,!w&&1===d&&h.delay&&(a._delay=b=h.delay,a._start+=b,h.delay=0),u.to(g,h,p?p(c,g,x):0),u._ease=qt.none;u.duration()?v=b=0:a.timeline=0}else if(E){qe(ze(u.vars.defaults,{ease:"none"})),u._ease=Xt(E.ease||n.ease||"none");var A,F,I,L=0;if(ne(E))E.forEach((function(e){return u.to(x,e,">")})),u.duration();else{for(f in h={},E)"ease"===f||"easeEach"===f||hn(f,E[f],h,E.easeEach);for(f in h)for(A=h[f].sort((function(e,t){return e.t-t.t})),L=0,c=0;c<A.length;c++)(I={ease:(F=A[c]).e,duration:(F.t-(c?A[c-1].t:0))/100*v})[f]=F.v,u.to(x,I,L),L+=I.duration;u.duration()<v&&u.to({},{duration:v-u.duration()})}}v||a.duration(v=u.duration())}else a.timeline=0;return!0!==_||s||(sn=r(a),l.killTweensOf(x),sn=0),rt(k,r(a),i),n.reversed&&a.reverse(),n.paused&&a.paused(!0),(D||!v&&!E&&a._start===Me(k._time)&&J(D)&&Xe(r(a))&&"nested"!==k.data)&&(a._tTime=-1e-8,a.render(Math.max(0,-b)||0)),T&&it(r(a),T),a}i(t,e);var n=t.prototype;return n.render=function(e,t,n){var r,i,s,a,l,u,c,h,d,f=this._time,g=this._tDur,p=this._dur,m=e<0,y=e>g-z&&!m?g:e<z?0:e;if(p){if(y!==this._tTime||!e||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==m||this._lazy){if(r=y,h=this.timeline,this._repeat){if(a=p+this._rDelay,this._repeat<-1&&m)return this.totalTime(100*a+e,t,n);if(r=Me(y%a),y===g?(s=this._repeat,r=p):(s=~~(l=Me(y/a)))&&s===l?(r=p,s--):r>p&&(r=p),(u=this._yoyo&&1&s)&&(d=this._yEase,r=p-r),l=Je(this._tTime,a),r===f&&!n&&this._initted&&s===l)return this._tTime=y,this;s!==l&&(h&&this._yEase&&Yt(h,u),this.vars.repeatRefresh&&!u&&!this._lock&&r!==a&&this._initted&&(this._lock=n=1,this.render(Me(a*s),!0).invalidate()._lock=0))}if(!this._initted){if(st(this,m?e:r,n,t,y))return this._tTime=0,this;if(!(f===this._time||n&&this.vars.repeatRefresh&&s!==l))return this;if(p!==this._dur)return this.render(e,t,n)}if(this._tTime=y,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=c=(d||this._ease)(r/p),this._from&&(this.ratio=c=1-c),r&&!f&&!t&&!s&&(At(this,"onStart"),this._tTime!==y))return this;for(i=this._pt;i;)i.r(c,i.d),i=i._next;h&&h.render(e<0?e:h._dur*h._ease(r/this._dur),t,n)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(m&&Ye(this,e,0,n),At(this,"onUpdate")),this._repeat&&s!==l&&this.vars.onRepeat&&!t&&this.parent&&At(this,"onRepeat"),y!==this._tDur&&y||this._tTime!==y||(m&&!this._onUpdate&&Ye(this,e,0,!0),(e||!p)&&(y===this._tDur&&this._ts>0||!y&&this._ts<0)&&We(this,1),t||m&&!f||!(y||f||u)||(At(this,y===g?"onComplete":"onReverseComplete",!0),this._prom&&!(y<g&&this.timeScale()>0)&&this._prom()))}}else!function(e,t,n,r){var i,s,a,l=e.ratio,u=t<0||!t&&(!e._start&&ot(e)&&(e._initted||!at(e))||(e._ts<0||e._dp._ts<0)&&!at(e))?0:1,c=e._rDelay,h=0;if(c&&e._repeat&&(h=gt(0,e._tDur,t),s=Je(h,c),e._yoyo&&1&s&&(u=1-u),s!==Je(e._tTime,c)&&(l=1-u,e.vars.repeatRefresh&&e._initted&&e.invalidate())),u!==l||o||r||e._zTime===z||!t&&e._zTime){if(!e._initted&&st(e,t,r,n,h))return;for(a=e._zTime,e._zTime=t||(n?z:0),n||(n=t&&!a),e.ratio=u,e._from&&(u=1-u),e._time=0,e._tTime=h,i=e._pt;i;)i.r(u,i.d),i=i._next;t<0&&Ye(e,t,0,!0),e._onUpdate&&!n&&At(e,"onUpdate"),h&&e._repeat&&!n&&e.parent&&At(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===u&&(u&&We(e,1),n||o||(At(e,u?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)}(this,e,t,n);return this},n.targets=function(){return this._targets},n.invalidate=function(t){return(!t||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(t),e.prototype.invalidate.call(this,t)},n.resetTo=function(e,t,n,r,i){p||jt.wake(),this._ts||this.play();var s=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||cn(this,s),function(e,t,n,r,i,s,o,a){var l,u,c,h,d=(e._pt&&e._ptCache||(e._ptCache={}))[t];if(!d)for(d=e._ptCache[t]=[],c=e._ptLookup,h=e._targets.length;h--;){if((l=c[h][t])&&l.d&&l.d._pt)for(l=l.d._pt;l&&l.p!==t&&l.fp!==t;)l=l._next;if(!l)return on=1,e.vars[t]="+=0",cn(e,o),on=0,a?ge(t+" not eligible for reset"):1;d.push(l)}for(h=d.length;h--;)(l=(u=d[h])._pt||u).s=!r&&0!==r||i?l.s+(r||0)+s*l.c:r,l.c=n-l.s,u.e&&(u.e=Le(n)+pt(u.e)),u.b&&(u.b=l.s+pt(u.b))}(this,e,t,n,r,this._ease(s/this._dur),s,i)?this.resetTo(e,t,n,r,1):(tt(this,0),this.parent||He(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(e,t){if(void 0===t&&(t="all"),!(e||t&&"all"!==t))return this._lazy=this._pt=0,this.parent?Ft(this):this.scrollTrigger&&this.scrollTrigger.kill(!!o),this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(e,t,sn&&!0!==sn.vars.overwrite)._first||Ft(this),this.parent&&n!==this.timeline.totalDuration()&&lt(this,this._dur*this.timeline._tDur/n,0,1),this}var r,i,s,a,l,u,c,h=this._targets,d=e?vt(e):h,f=this._ptLookup,g=this._pt;if((!t||"all"===t)&&function(e,t){for(var n=e.length,r=n===t.length;r&&n--&&e[n]===t[n];);return n<0}(h,d))return"all"===t&&(this._pt=0),Ft(this);for(r=this._op=this._op||[],"all"!==t&&(W(t)&&(l={},Ie(t,(function(e){return l[e]=1})),t=l),t=function(e,t){var n,r,i,s,o=e[0]?Ae(e[0]).harness:0,a=o&&o.aliases;if(!a)return t;for(r in n=Ue({},t),a)if(r in n)for(i=(s=a[r].split(",")).length;i--;)n[s[i]]=n[r];return n}(h,t)),c=h.length;c--;)if(~d.indexOf(h[c]))for(l in i=f[c],"all"===t?(r[c]=t,a=i,s={}):(s=r[c]=r[c]||{},a=t),a)(u=i&&i[l])&&("kill"in u.d&&!0!==u.d.kill(l)||Ge(this,u,"_pt"),delete i[l]),"all"!==s&&(s[l]=1);return this._initted&&!this._pt&&g&&Ft(this),this},t.to=function(e,n){return new t(e,n,arguments[2])},t.from=function(e,t){return dt(1,arguments)},t.delayedCall=function(e,n,r,i){return new t(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:n,onReverseComplete:n,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:i})},t.fromTo=function(e,t,n){return dt(2,arguments)},t.set=function(e,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new t(e,n)},t.killTweensOf=function(e,t,n){return l.killTweensOf(e,t,n)},t}(nn);ze(pn.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),Ie("staggerTo,staggerFrom,staggerFromTo",(function(e){pn[e]=function(){var t=new rn,n=mt.call(arguments,0);return n.splice("staggerFromTo"===e?5:4,0,0),t[e].apply(t,n)}}));var mn=function(e,t,n){return e[t]=n},yn=function(e,t,n){return e[t](n)},vn=function(e,t,n,r){return e[t](r.fp,n)},bn=function(e,t,n){return e.setAttribute(t,n)},Dn=function(e,t){return K(e[t])?yn:X(e[t])&&e.setAttribute?bn:mn},wn=function(e,t){return t.set(t.t,t.p,Math.round(1e6*(t.s+t.c*e))/1e6,t)},_n=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},En=function(e,t){var n=t._pt,r="";if(!e&&t.b)r=t.b;else if(1===e&&t.e)r=t.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*e):Math.round(1e4*(n.s+n.c*e))/1e4)+r,n=n._next;r+=t.c}t.set(t.t,t.p,r,t)},Cn=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},Tn=function(e,t,n,r){for(var i,s=this._pt;s;)i=s._next,s.p===r&&s.modifier(e,t,n),s=i},Sn=function(e){for(var t,n,r=this._pt;r;)n=r._next,r.p===e&&!r.op||r.op===e?Ge(this,r,"_pt"):r.dep||(t=1),r=n;return!t},kn=function(e,t,n,r){r.mSet(e,t,r.m.call(r.tween,n,r.mt),r)},xn=function(e){for(var t,n,r,i,s=e._pt;s;){for(t=s._next,n=r;n&&n.pr>s.pr;)n=n._next;(s._prev=n?n._prev:i)?s._prev._next=s:r=s,(s._next=n)?n._prev=s:i=s,s=t}e._pt=r},An=function(){function e(e,t,n,r,i,s,o,a,l){this.t=t,this.s=r,this.c=i,this.p=n,this.r=s||wn,this.d=o||this,this.set=a||mn,this.pr=l||0,this._next=e,e&&(e._prev=this)}return e.prototype.modifier=function(e,t,n){this.mSet=this.mSet||this.set,this.set=kn,this.m=e,this.mt=n,this.tween=t},e}();Ie(ke+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(e){return De[e]=1})),ce.TweenMax=ce.TweenLite=pn,ce.TimelineLite=ce.TimelineMax=rn,l=new rn({sortChildren:!1,defaults:B,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),P.stringFilter=Ut;var Fn=[],In={},Ln=[],Mn=0,On=0,Rn=function(e){return(In[e]||Ln).map((function(e){return e()}))},Nn=function(){var e=Date.now(),t=[];e-Mn>2&&(Rn("matchMediaInit"),Fn.forEach((function(e){var n,r,i,s,o=e.queries,a=e.conditions;for(r in o)(n=u.matchMedia(o[r]).matches)&&(i=1),n!==a[r]&&(a[r]=n,s=1);s&&(e.revert(),i&&t.push(e))})),Rn("matchMediaRevert"),t.forEach((function(e){return e.onMatch(e,(function(t){return e.add(null,t)}))})),Mn=e,Rn("matchMedia"))},Pn=function(){function e(e,t){this.selector=t&&bt(t),this.data=[],this._r=[],this.isReverted=!1,this.id=On++,e&&this.add(e)}var t=e.prototype;return t.add=function(e,t,n){K(e)&&(n=t,t=e,e=K);var r=this,i=function(){var e,i=a,s=r.selector;return i&&i!==r&&i.data.push(r),n&&(r.selector=bt(n)),a=r,e=t.apply(r,arguments),K(e)&&r._r.push(e),a=i,r.selector=s,r.isReverted=!1,e};return r.last=i,e===K?i(r,(function(e){return r.add(null,e)})):e?r[e]=i:i},t.ignore=function(e){var t=a;a=null,e(this),a=t},t.getTweens=function(){var t=[];return this.data.forEach((function(n){return n instanceof e?t.push.apply(t,n.getTweens()):n instanceof pn&&!(n.parent&&"nested"===n.parent.data)&&t.push(n)})),t},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(e,t){var n=this;if(e?function(){for(var t,r=n.getTweens(),i=n.data.length;i--;)"isFlip"===(t=n.data[i]).data&&(t.revert(),t.getChildren(!0,!0,!1).forEach((function(e){return r.splice(r.indexOf(e),1)})));for(r.map((function(e){return{g:e._dur||e._delay||e._sat&&!e._sat.vars.immediateRender?e.globalTime(0):-1/0,t:e}})).sort((function(e,t){return t.g-e.g||-1/0})).forEach((function(t){return t.t.revert(e)})),i=n.data.length;i--;)(t=n.data[i])instanceof rn?"nested"!==t.data&&(t.scrollTrigger&&t.scrollTrigger.revert(),t.kill()):!(t instanceof pn)&&t.revert&&t.revert(e);n._r.forEach((function(t){return t(e,n)})),n.isReverted=!0}():this.data.forEach((function(e){return e.kill&&e.kill()})),this.clear(),t)for(var r=Fn.length;r--;)Fn[r].id===this.id&&Fn.splice(r,1)},t.revert=function(e){this.kill(e||{})},e}(),Bn=function(){function e(e){this.contexts=[],this.scope=e,a&&a.data.push(this)}var t=e.prototype;return t.add=function(e,t,n){Q(e)||(e={matches:e});var r,i,s,o=new Pn(0,n||this.scope),l=o.conditions={};for(i in a&&!o.selector&&(o.selector=a.selector),this.contexts.push(o),t=o.add("onMatch",t),o.queries=e,e)"all"===i?s=1:(r=u.matchMedia(e[i]))&&(Fn.indexOf(o)<0&&Fn.push(o),(l[i]=r.matches)&&(s=1),r.addListener?r.addListener(Nn):r.addEventListener("change",Nn));return s&&t(o,(function(e){return o.add(null,e)})),this},t.revert=function(e){this.kill(e||{})},t.kill=function(e){this.contexts.forEach((function(t){return t.kill(e,!0)}))},e}(),Vn={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((function(e){return Lt(e)}))},timeline:function(e){return new rn(e)},getTweensOf:function(e,t){return l.getTweensOf(e,t)},getProperty:function(e,t,n,r){W(e)&&(e=vt(e)[0]);var i=Ae(e||{}).get,s=n?Ve:Be;return"native"===n&&(n=""),e?t?s((Ee[t]&&Ee[t].get||i)(e,t,n,r)):function(t,n,r){return s((Ee[t]&&Ee[t].get||i)(e,t,n,r))}:e},quickSetter:function(e,t,n){if((e=vt(e)).length>1){var r=e.map((function(e){return jn.quickSetter(e,t,n)})),i=r.length;return function(e){for(var t=i;t--;)r[t](e)}}e=e[0]||{};var s=Ee[t],o=Ae(e),a=o.harness&&(o.harness.aliases||{})[t]||t,l=s?function(t){var r=new s;g._pt=0,r.init(e,n?t+n:t,g,0,[e]),r.render(1,r),g._pt&&Cn(1,g)}:o.set(e,a);return s?l:function(t){return l(e,a,n?t+n:t,o,1)}},quickTo:function(e,t,n){var r,i=jn.to(e,ze(((r={})[t]="+=0.1",r.paused=!0,r.stagger=0,r),n||{})),s=function(e,n,r){return i.resetTo(t,e,n,r)};return s.tween=i,s},isTweening:function(e){return l.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Xt(e.ease,B.ease)),je(B,e||{})},config:function(e){return je(P,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,r=e.plugins,i=e.defaults,s=e.extendTimeline;(r||"").split(",").forEach((function(e){return e&&!Ee[e]&&!ce[e]&&ge(t+" effect requires "+e+" plugin.")})),Ce[t]=function(e,t,r){return n(vt(e),ze(t||{},i),r)},s&&(rn.prototype[t]=function(e,n,r){return this.add(Ce[t](e,Q(n)?n:(r=n)&&{},this),r)})},registerEase:function(e,t){qt[e]=Xt(t)},parseEase:function(e,t){return arguments.length?Xt(e,t):qt},getById:function(e){return l.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var n,r,i=new rn(e);for(i.smoothChildTiming=J(e.smoothChildTiming),l.remove(i),i._dp=0,i._time=i._tTime=l._time,n=l._first;n;)r=n._next,!t&&!n._dur&&n instanceof pn&&n.vars.onComplete===n._targets[0]||rt(i,n,n._start-n._delay),n=r;return rt(l,i,0),i},context:function(e,t){return e?new Pn(e,t):a},matchMedia:function(e){return new Bn(e)},matchMediaRefresh:function(){return Fn.forEach((function(e){var t,n,r=e.conditions;for(n in r)r[n]&&(r[n]=!1,t=1);t&&e.revert()}))||Nn()},addEventListener:function(e,t){var n=In[e]||(In[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=In[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},utils:{wrap:function e(t,n,r){var i=n-t;return ne(t)?Tt(t,e(0,t.length),n):ft(r,(function(e){return(i+(e-t)%i)%i+t}))},wrapYoyo:function e(t,n,r){var i=n-t,s=2*i;return ne(t)?Tt(t,e(0,t.length-1),n):ft(r,(function(e){return t+((e=(s+(e-t)%s)%s||0)>i?s-e:e)}))},distribute:wt,random:Ct,snap:Et,normalize:function(e,t,n){return kt(e,t,0,1,n)},getUnit:pt,clamp:function(e,t,n){return ft(n,(function(n){return gt(e,t,n)}))},splitColor:Nt,toArray:vt,selector:bt,mapRange:kt,pipe:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(e,t){return t(e)}),e)}},unitize:function(e,t){return function(n){return e(parseFloat(n))+(t||pt(n))}},interpolate:function e(t,n,r,i){var s=isNaN(t+n)?0:function(e){return(1-e)*t+e*n};if(!s){var o,a,l,u,c,h=W(t),d={};if(!0===r&&(i=1)&&(r=null),h)t={p:t},n={p:n};else if(ne(t)&&!ne(n)){for(l=[],u=t.length,c=u-2,a=1;a<u;a++)l.push(e(t[a-1],t[a]));u--,s=function(e){e*=u;var t=Math.min(c,~~e);return l[t](e-t)},r=n}else i||(t=Ue(ne(t)?[]:{},t));if(!l){for(o in n)ln.call(d,t,o,"get",n[o]);s=function(e){return Cn(e,d)||(h?t.p:t)}}}return ft(r,s)},shuffle:Dt},install:de,effects:Ce,ticker:jt,updateRoot:rn.updateRoot,plugins:Ee,globalTimeline:l,core:{PropTween:An,globals:pe,Tween:pn,Timeline:rn,Animation:nn,getCache:Ae,_removeLinkedListItem:Ge,reverting:function(){return o},context:function(e){return e&&a&&(a.data.push(e),e._ctx=a),a},suppressOverwrites:function(e){return s=e}}};Ie("to,from,fromTo,delayedCall,set,killTweensOf",(function(e){return Vn[e]=pn[e]})),jt.add(rn.updateRoot),g=Vn.to({},{duration:0});var zn=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},Un=function(e,t){return{name:e,rawVars:1,init:function(e,n,r){r._onInit=function(e){var r,i;if(W(n)&&(r={},Ie(n,(function(e){return r[e]=1})),n=r),t){for(i in r={},n)r[i]=t(n[i]);n=r}!function(e,t){var n,r,i,s=e._targets;for(n in t)for(r=s.length;r--;)(i=e._ptLookup[r][n])&&(i=i.d)&&(i._pt&&(i=zn(i,n)),i&&i.modifier&&i.modifier(t[n],e,s[r],n))}(e,n)}}}},jn=Vn.registerPlugin({name:"attr",init:function(e,t,n,r,i){var s,o,a;for(s in this.tween=n,t)a=e.getAttribute(s)||"",(o=this.add(e,"setAttribute",(a||0)+"",t[s],r,i,0,0,s)).op=s,o.b=a,this._props.push(s)},render:function(e,t){for(var n=t._pt;n;)o?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},Un("roundProps",_t),Un("modifiers"),Un("snap",Et))||Vn;pn.version=rn.version=jn.version="3.12.7",d=1,Z()&&$t(),qt.Power0,qt.Power1,qt.Power2,qt.Power3,qt.Power4,qt.Linear,qt.Quad,qt.Cubic,qt.Quart,qt.Quint,qt.Strong,qt.Elastic,qt.Back,qt.SteppedEase,qt.Bounce,qt.Sine,qt.Expo,qt.Circ;
/*!
 * CSSPlugin 3.12.7
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/
var $n,qn,Hn,Gn,Wn,Kn,Yn,Xn,Qn={},Jn=180/Math.PI,Zn=Math.PI/180,er=Math.atan2,tr=/([A-Z])/g,nr=/(left|right|width|margin|padding|x)/i,rr=/[\s,\(]\S/,ir={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},sr=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},or=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},ar=function(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},lr=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},ur=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},cr=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},hr=function(e,t,n){return e.style[t]=n},dr=function(e,t,n){return e.style.setProperty(t,n)},fr=function(e,t,n){return e._gsap[t]=n},gr=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},pr=function(e,t,n,r,i){var s=e._gsap;s.scaleX=s.scaleY=n,s.renderTransform(i,s)},mr=function(e,t,n,r,i){var s=e._gsap;s[t]=n,s.renderTransform(i,s)},yr="transform",vr=yr+"Origin",br=function e(t,n){var r=this,i=this.target,s=i.style,o=i._gsap;if(t in Qn&&s){if(this.tfm=this.tfm||{},"transform"===t)return ir.transform.split(",").forEach((function(t){return e.call(r,t,n)}));if(~(t=ir[t]||t).indexOf(",")?t.split(",").forEach((function(e){return r.tfm[e]=Pr(i,e)})):this.tfm[t]=o.x?o[t]:Pr(i,t),t===vr&&(this.tfm.zOrigin=o.zOrigin),this.props.indexOf(yr)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(vr,n,"")),t=yr}(s||n)&&this.props.push(t,n,s[t])},Dr=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},wr=function(){var e,t,n=this.props,r=this.target,i=r.style,s=r._gsap;for(e=0;e<n.length;e+=3)n[e+1]?2===n[e+1]?r[n[e]](n[e+2]):r[n[e]]=n[e+2]:n[e+2]?i[n[e]]=n[e+2]:i.removeProperty("--"===n[e].substr(0,2)?n[e]:n[e].replace(tr,"-$1").toLowerCase());if(this.tfm){for(t in this.tfm)s[t]=this.tfm[t];s.svg&&(s.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),(e=Yn())&&e.isStart||i[yr]||(Dr(i),s.zOrigin&&i[vr]&&(i[vr]+=" "+s.zOrigin+"px",s.zOrigin=0,s.renderTransform()),s.uncache=1)}},_r=function(e,t){var n={target:e,props:[],revert:wr,save:br};return e._gsap||jn.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach((function(e){return n.save(e)})),n},Er=function(e,t){var n=qn.createElementNS?qn.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):qn.createElement(e);return n&&n.style?n:qn.createElement(e)},Cr=function e(t,n,r){var i=getComputedStyle(t);return i[n]||i.getPropertyValue(n.replace(tr,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&e(t,Sr(n)||n,1)||""},Tr="O,Moz,ms,Ms,Webkit".split(","),Sr=function(e,t,n){var r=(t||Wn).style,i=5;if(e in r&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);i--&&!(Tr[i]+e in r););return i<0?null:(3===i?"ms":i>=0?Tr[i]:"")+e},kr=function(){"undefined"!=typeof window&&window.document&&($n=window,qn=$n.document,Hn=qn.documentElement,Wn=Er("div")||{style:{}},Er("div"),yr=Sr(yr),vr=yr+"Origin",Wn.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Xn=!!Sr("perspective"),Yn=jn.core.reverting,Gn=1)},xr=function(e){var t,n=e.ownerSVGElement,r=Er("svg",n&&n.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=e.cloneNode(!0);i.style.display="block",r.appendChild(i),Hn.appendChild(r);try{t=i.getBBox()}catch(s){}return r.removeChild(i),Hn.removeChild(r),t},Ar=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},Fr=function(e){var t,n;try{t=e.getBBox()}catch(r){t=xr(e),n=1}return t&&(t.width||t.height)||n||(t=xr(e)),!t||t.width||t.x||t.y?t:{x:+Ar(e,["x","cx","x1"])||0,y:+Ar(e,["y","cy","y1"])||0,width:0,height:0}},Ir=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!Fr(e))},Lr=function(e,t){if(t){var n,r=e.style;t in Qn&&t!==vr&&(t=yr),r.removeProperty?("ms"!==(n=t.substr(0,2))&&"webkit"!==t.substr(0,6)||(t="-"+t),r.removeProperty("--"===n?t:t.replace(tr,"-$1").toLowerCase())):r.removeAttribute(t)}},Mr=function(e,t,n,r,i,s){var o=new An(e._pt,t,n,0,1,s?cr:ur);return e._pt=o,o.b=r,o.e=i,e._props.push(n),o},Or={deg:1,rad:1,turn:1},Rr={grid:1,flex:1},Nr=function e(t,n,r,i){var s,o,a,l,u=parseFloat(r)||0,c=(r+"").trim().substr((u+"").length)||"px",h=Wn.style,d=nr.test(n),f="svg"===t.tagName.toLowerCase(),g=(f?"client":"offset")+(d?"Width":"Height"),p=100,m="px"===i,y="%"===i;if(i===c||!u||Or[i]||Or[c])return u;if("px"!==c&&!m&&(u=e(t,n,r,"px")),l=t.getCTM&&Ir(t),(y||"%"===c)&&(Qn[n]||~n.indexOf("adius")))return s=l?t.getBBox()[d?"width":"height"]:t[g],Le(y?u/s*p:u/100*s);if(h[d?"width":"height"]=p+(m?c:i),o="rem"!==i&&~n.indexOf("adius")||"em"===i&&t.appendChild&&!f?t:t.parentNode,l&&(o=(t.ownerSVGElement||{}).parentNode),o&&o!==qn&&o.appendChild||(o=qn.body),(a=o._gsap)&&y&&a.width&&d&&a.time===jt.time&&!a.uncache)return Le(u/a.width*p);if(!y||"height"!==n&&"width"!==n)(y||"%"===c)&&!Rr[Cr(o,"display")]&&(h.position=Cr(t,"position")),o===t&&(h.position="static"),o.appendChild(Wn),s=Wn[g],o.removeChild(Wn),h.position="absolute";else{var v=t.style[n];t.style[n]=p+i,s=t[g],v?t.style[n]=v:Lr(t,n)}return d&&y&&((a=Ae(o)).time=jt.time,a.width=o[g]),Le(m?s*u/p:s&&u?p/s*u:0)},Pr=function(e,t,n,r){var i;return Gn||kr(),t in ir&&"transform"!==t&&~(t=ir[t]).indexOf(",")&&(t=t.split(",")[0]),Qn[t]&&"transform"!==t?(i=Kr(e,r),i="transformOrigin"!==t?i[t]:i.svg?i.origin:Yr(Cr(e,vr))+" "+i.zOrigin+"px"):(!(i=e.style[t])||"auto"===i||r||~(i+"").indexOf("calc("))&&(i=Ur[t]&&Ur[t](e,t,n)||Cr(e,t)||Fe(e,t)||("opacity"===t?1:0)),n&&!~(i+"").trim().indexOf(" ")?Nr(e,t,i,n)+n:i},Br=function(e,t,n,r){if(!n||"none"===n){var i=Sr(t,e,1),s=i&&Cr(e,i,1);s&&s!==n?(t=i,n=s):"borderColor"===t&&(n=Cr(e,"borderTopColor"))}var o,a,l,u,c,h,d,f,g,p,m,y=new An(this._pt,e.style,t,0,1,En),v=0,b=0;if(y.b=n,y.e=r,n+="","auto"===(r+="")&&(h=e.style[t],e.style[t]=r,r=Cr(e,t)||r,h?e.style[t]=h:Lr(e,t)),Ut(o=[n,r]),r=o[1],l=(n=o[0]).match(se)||[],(r.match(se)||[]).length){for(;a=se.exec(r);)d=a[0],g=r.substring(v,a.index),c?c=(c+1)%5:"rgba("!==g.substr(-5)&&"hsla("!==g.substr(-5)||(c=1),d!==(h=l[b++]||"")&&(u=parseFloat(h)||0,m=h.substr((u+"").length),"="===d.charAt(1)&&(d=Oe(u,d)+m),f=parseFloat(d),p=d.substr((f+"").length),v=se.lastIndex-p.length,p||(p=p||P.units[t]||m,v===r.length&&(r+=p,y.e+=p)),m!==p&&(u=Nr(e,t,h,p)||0),y._pt={_next:y._pt,p:g||1===b?g:",",s:u,c:f-u,m:c&&c<4||"zIndex"===t?Math.round:0});y.c=v<r.length?r.substring(v,r.length):""}else y.r="display"===t&&"none"===r?cr:ur;return ae.test(r)&&(y.e=0),this._pt=y,y},Vr={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},zr=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n,r,i,s=t.t,o=s.style,a=t.u,l=s._gsap;if("all"===a||!0===a)o.cssText="",r=1;else for(i=(a=a.split(",")).length;--i>-1;)n=a[i],Qn[n]&&(r=1,n="transformOrigin"===n?vr:yr),Lr(s,n);r&&(Lr(s,yr),l&&(l.svg&&s.removeAttribute("transform"),o.scale=o.rotate=o.translate="none",Kr(s,1),l.uncache=1,Dr(o)))}},Ur={clearProps:function(e,t,n,r,i){if("isFromStart"!==i.data){var s=e._pt=new An(e._pt,t,n,0,0,zr);return s.u=r,s.pr=-10,s.tween=i,e._props.push(n),1}}},jr=[1,0,0,1,0,0],$r={},qr=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},Hr=function(e){var t=Cr(e,yr);return qr(t)?jr:t.substr(7).match(ie).map(Le)},Gr=function(e,t){var n,r,i,s,o=e._gsap||Ae(e),a=e.style,l=Hr(e);return o.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(i=e.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?jr:l:(l!==jr||e.offsetParent||e===Hn||o.svg||(i=a.display,a.display="block",(n=e.parentNode)&&(e.offsetParent||e.getBoundingClientRect().width)||(s=1,r=e.nextElementSibling,Hn.appendChild(e)),l=Hr(e),i?a.display=i:Lr(e,"display"),s&&(r?n.insertBefore(e,r):n?n.appendChild(e):Hn.removeChild(e))),t&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},Wr=function(e,t,n,r,i,s){var o,a,l,u=e._gsap,c=i||Gr(e,!0),h=u.xOrigin||0,d=u.yOrigin||0,f=u.xOffset||0,g=u.yOffset||0,p=c[0],m=c[1],y=c[2],v=c[3],b=c[4],D=c[5],w=t.split(" "),_=parseFloat(w[0])||0,E=parseFloat(w[1])||0;n?c!==jr&&(a=p*v-m*y)&&(l=_*(-m/a)+E*(p/a)-(p*D-m*b)/a,_=_*(v/a)+E*(-y/a)+(y*D-v*b)/a,E=l):(_=(o=Fr(e)).x+(~w[0].indexOf("%")?_/100*o.width:_),E=o.y+(~(w[1]||w[0]).indexOf("%")?E/100*o.height:E)),r||!1!==r&&u.smooth?(b=_-h,D=E-d,u.xOffset=f+(b*p+D*y)-b,u.yOffset=g+(b*m+D*v)-D):u.xOffset=u.yOffset=0,u.xOrigin=_,u.yOrigin=E,u.smooth=!!r,u.origin=t,u.originIsAbsolute=!!n,e.style[vr]="0px 0px",s&&(Mr(s,u,"xOrigin",h,_),Mr(s,u,"yOrigin",d,E),Mr(s,u,"xOffset",f,u.xOffset),Mr(s,u,"yOffset",g,u.yOffset)),e.setAttribute("data-svg-origin",_+" "+E)},Kr=function(e,t){var n=e._gsap||new tn(e);if("x"in n&&!t&&!n.uncache)return n;var r,i,s,o,a,l,u,c,h,d,f,g,p,m,y,v,b,D,w,_,E,C,T,S,k,x,A,F,I,L,M,O,R=e.style,N=n.scaleX<0,B="px",V="deg",z=getComputedStyle(e),U=Cr(e,vr)||"0";return r=i=s=l=u=c=h=d=f=0,o=a=1,n.svg=!(!e.getCTM||!Ir(e)),z.translate&&("none"===z.translate&&"none"===z.scale&&"none"===z.rotate||(R[yr]=("none"!==z.translate?"translate3d("+(z.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==z.rotate?"rotate("+z.rotate+") ":"")+("none"!==z.scale?"scale("+z.scale.split(" ").join(",")+") ":"")+("none"!==z[yr]?z[yr]:"")),R.scale=R.rotate=R.translate="none"),m=Gr(e,n.svg),n.svg&&(n.uncache?(k=e.getBBox(),U=n.xOrigin-k.x+"px "+(n.yOrigin-k.y)+"px",S=""):S=!t&&e.getAttribute("data-svg-origin"),Wr(e,S||U,!!S||n.originIsAbsolute,!1!==n.smooth,m)),g=n.xOrigin||0,p=n.yOrigin||0,m!==jr&&(D=m[0],w=m[1],_=m[2],E=m[3],r=C=m[4],i=T=m[5],6===m.length?(o=Math.sqrt(D*D+w*w),a=Math.sqrt(E*E+_*_),l=D||w?er(w,D)*Jn:0,(h=_||E?er(_,E)*Jn+l:0)&&(a*=Math.abs(Math.cos(h*Zn))),n.svg&&(r-=g-(g*D+p*_),i-=p-(g*w+p*E))):(O=m[6],L=m[7],A=m[8],F=m[9],I=m[10],M=m[11],r=m[12],i=m[13],s=m[14],u=(y=er(O,I))*Jn,y&&(S=C*(v=Math.cos(-y))+A*(b=Math.sin(-y)),k=T*v+F*b,x=O*v+I*b,A=C*-b+A*v,F=T*-b+F*v,I=O*-b+I*v,M=L*-b+M*v,C=S,T=k,O=x),c=(y=er(-_,I))*Jn,y&&(v=Math.cos(-y),M=E*(b=Math.sin(-y))+M*v,D=S=D*v-A*b,w=k=w*v-F*b,_=x=_*v-I*b),l=(y=er(w,D))*Jn,y&&(S=D*(v=Math.cos(y))+w*(b=Math.sin(y)),k=C*v+T*b,w=w*v-D*b,T=T*v-C*b,D=S,C=k),u&&Math.abs(u)+Math.abs(l)>359.9&&(u=l=0,c=180-c),o=Le(Math.sqrt(D*D+w*w+_*_)),a=Le(Math.sqrt(T*T+O*O)),y=er(C,T),h=Math.abs(y)>2e-4?y*Jn:0,f=M?1/(M<0?-M:M):0),n.svg&&(S=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!qr(Cr(e,yr)),S&&e.setAttribute("transform",S))),Math.abs(h)>90&&Math.abs(h)<270&&(N?(o*=-1,h+=l<=0?180:-180,l+=l<=0?180:-180):(a*=-1,h+=h<=0?180:-180)),t=t||n.uncache,n.x=r-((n.xPercent=r&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-r)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+B,n.y=i-((n.yPercent=i&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-i)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+B,n.z=s+B,n.scaleX=Le(o),n.scaleY=Le(a),n.rotation=Le(l)+V,n.rotationX=Le(u)+V,n.rotationY=Le(c)+V,n.skewX=h+V,n.skewY=d+V,n.transformPerspective=f+B,(n.zOrigin=parseFloat(U.split(" ")[2])||!t&&n.zOrigin||0)&&(R[vr]=Yr(U)),n.xOffset=n.yOffset=0,n.force3D=P.force3D,n.renderTransform=n.svg?ni:Xn?ti:Qr,n.uncache=0,n},Yr=function(e){return(e=e.split(" "))[0]+" "+e[1]},Xr=function(e,t,n){var r=pt(t);return Le(parseFloat(t)+parseFloat(Nr(e,"x",n+"px",r)))+r},Qr=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,ti(e,t)},Jr="0deg",Zr="0px",ei=") ",ti=function(e,t){var n=t||this,r=n.xPercent,i=n.yPercent,s=n.x,o=n.y,a=n.z,l=n.rotation,u=n.rotationY,c=n.rotationX,h=n.skewX,d=n.skewY,f=n.scaleX,g=n.scaleY,p=n.transformPerspective,m=n.force3D,y=n.target,v=n.zOrigin,b="",D="auto"===m&&e&&1!==e||!0===m;if(v&&(c!==Jr||u!==Jr)){var w,_=parseFloat(u)*Zn,E=Math.sin(_),C=Math.cos(_);_=parseFloat(c)*Zn,w=Math.cos(_),s=Xr(y,s,E*w*-v),o=Xr(y,o,-Math.sin(_)*-v),a=Xr(y,a,C*w*-v+v)}p!==Zr&&(b+="perspective("+p+ei),(r||i)&&(b+="translate("+r+"%, "+i+"%) "),(D||s!==Zr||o!==Zr||a!==Zr)&&(b+=a!==Zr||D?"translate3d("+s+", "+o+", "+a+") ":"translate("+s+", "+o+ei),l!==Jr&&(b+="rotate("+l+ei),u!==Jr&&(b+="rotateY("+u+ei),c!==Jr&&(b+="rotateX("+c+ei),h===Jr&&d===Jr||(b+="skew("+h+", "+d+ei),1===f&&1===g||(b+="scale("+f+", "+g+ei),y.style[yr]=b||"translate(0, 0)"},ni=function(e,t){var n,r,i,s,o,a=t||this,l=a.xPercent,u=a.yPercent,c=a.x,h=a.y,d=a.rotation,f=a.skewX,g=a.skewY,p=a.scaleX,m=a.scaleY,y=a.target,v=a.xOrigin,b=a.yOrigin,D=a.xOffset,w=a.yOffset,_=a.forceCSS,E=parseFloat(c),C=parseFloat(h);d=parseFloat(d),f=parseFloat(f),(g=parseFloat(g))&&(f+=g=parseFloat(g),d+=g),d||f?(d*=Zn,f*=Zn,n=Math.cos(d)*p,r=Math.sin(d)*p,i=Math.sin(d-f)*-m,s=Math.cos(d-f)*m,f&&(g*=Zn,o=Math.tan(f-g),i*=o=Math.sqrt(1+o*o),s*=o,g&&(o=Math.tan(g),n*=o=Math.sqrt(1+o*o),r*=o)),n=Le(n),r=Le(r),i=Le(i),s=Le(s)):(n=p,s=m,r=i=0),(E&&!~(c+"").indexOf("px")||C&&!~(h+"").indexOf("px"))&&(E=Nr(y,"x",c,"px"),C=Nr(y,"y",h,"px")),(v||b||D||w)&&(E=Le(E+v-(v*n+b*i)+D),C=Le(C+b-(v*r+b*s)+w)),(l||u)&&(o=y.getBBox(),E=Le(E+l/100*o.width),C=Le(C+u/100*o.height)),o="matrix("+n+","+r+","+i+","+s+","+E+","+C+")",y.setAttribute("transform",o),_&&(y.style[yr]=o)},ri=function(e,t,n,r,i){var s,o,a=360,l=W(i),u=parseFloat(i)*(l&&~i.indexOf("rad")?Jn:1)-r,c=r+u+"deg";return l&&("short"===(s=i.split("_")[1])&&(u%=a)!==u%180&&(u+=u<0?a:-360),"cw"===s&&u<0?u=(u+36e9)%a-~~(u/a)*a:"ccw"===s&&u>0&&(u=(u-36e9)%a-~~(u/a)*a)),e._pt=o=new An(e._pt,t,n,r,u,or),o.e=c,o.u="deg",e._props.push(n),o},ii=function(e,t){for(var n in t)e[n]=t[n];return e},si=function(e,t,n){var r,i,s,o,a,l,u,c=ii({},n._gsap),h=n.style;for(i in c.svg?(s=n.getAttribute("transform"),n.setAttribute("transform",""),h[yr]=t,r=Kr(n,1),Lr(n,yr),n.setAttribute("transform",s)):(s=getComputedStyle(n)[yr],h[yr]=t,r=Kr(n,1),h[yr]=s),Qn)(s=c[i])!==(o=r[i])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)<0&&(a=pt(s)!==(u=pt(o))?Nr(n,i,s,u):parseFloat(s),l=parseFloat(o),e._pt=new An(e._pt,r,i,a,l-a,sr),e._pt.u=u||0,e._props.push(i));ii(r,c)};Ie("padding,margin,Width,Radius",(function(e,t){var n="Top",r="Right",i="Bottom",s="Left",o=(t<3?[n,r,i,s]:[n+s,n+r,i+r,i+s]).map((function(n){return t<2?e+n:"border"+n+e}));Ur[t>1?"border"+e:e]=function(e,t,n,r,i){var s,a;if(arguments.length<4)return s=o.map((function(t){return Pr(e,t,n)})),5===(a=s.join(" ")).split(s[0]).length?s[0]:a;s=(r+"").split(" "),a={},o.forEach((function(e,t){return a[e]=s[t]=s[t]||s[(t-1)/2|0]})),e.init(t,a,i)}}));var oi,ai,li,ui={name:"css",register:kr,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,r,i){var s,o,a,l,u,c,h,d,f,g,p,m,y,v,b,D,w,_,E,C,T=this._props,S=e.style,k=n.vars.startAt;for(h in Gn||kr(),this.styles=this.styles||_r(e),D=this.styles.props,this.tween=n,t)if("autoRound"!==h&&(o=t[h],!Ee[h]||!un(h,t,n,r,e,i)))if(u=typeof o,c=Ur[h],"function"===u&&(u=typeof(o=o.call(n,r,e,i))),"string"===u&&~o.indexOf("random(")&&(o=St(o)),c)c(this,e,h,o,n)&&(b=1);else if("--"===h.substr(0,2))s=(getComputedStyle(e).getPropertyValue(h)+"").trim(),o+="",Vt.lastIndex=0,Vt.test(s)||(d=pt(s),f=pt(o)),f?d!==f&&(s=Nr(e,h,s,f)+f):d&&(o+=d),this.add(S,"setProperty",s,o,r,i,0,0,h),T.push(h),D.push(h,0,S[h]);else if("undefined"!==u){if(k&&h in k?(s="function"==typeof k[h]?k[h].call(n,r,e,i):k[h],W(s)&&~s.indexOf("random(")&&(s=St(s)),pt(s+"")||"auto"===s||(s+=P.units[h]||pt(Pr(e,h))||""),"="===(s+"").charAt(1)&&(s=Pr(e,h))):s=Pr(e,h),l=parseFloat(s),(g="string"===u&&"="===o.charAt(1)&&o.substr(0,2))&&(o=o.substr(2)),a=parseFloat(o),h in ir&&("autoAlpha"===h&&(1===l&&"hidden"===Pr(e,"visibility")&&a&&(l=0),D.push("visibility",0,S.visibility),Mr(this,S,"visibility",l?"inherit":"hidden",a?"inherit":"hidden",!a)),"scale"!==h&&"transform"!==h&&~(h=ir[h]).indexOf(",")&&(h=h.split(",")[0])),p=h in Qn)if(this.styles.save(h),m||((y=e._gsap).renderTransform&&!t.parseTransform||Kr(e,t.parseTransform),v=!1!==t.smoothOrigin&&y.smooth,(m=this._pt=new An(this._pt,S,yr,0,1,y.renderTransform,y,0,-1)).dep=1),"scale"===h)this._pt=new An(this._pt,y,"scaleY",y.scaleY,(g?Oe(y.scaleY,g+a):a)-y.scaleY||0,sr),this._pt.u=0,T.push("scaleY",h),h+="X";else{if("transformOrigin"===h){D.push(vr,0,S[vr]),_=void 0,E=void 0,C=void 0,_=(w=o).split(" "),E=_[0],C=_[1]||"50%","top"!==E&&"bottom"!==E&&"left"!==C&&"right"!==C||(w=E,E=C,C=w),_[0]=Vr[E]||E,_[1]=Vr[C]||C,o=_.join(" "),y.svg?Wr(e,o,0,v,0,this):((f=parseFloat(o.split(" ")[2])||0)!==y.zOrigin&&Mr(this,y,"zOrigin",y.zOrigin,f),Mr(this,S,h,Yr(s),Yr(o)));continue}if("svgOrigin"===h){Wr(e,o,1,v,0,this);continue}if(h in $r){ri(this,y,h,l,g?Oe(l,g+o):o);continue}if("smoothOrigin"===h){Mr(this,y,"smooth",y.smooth,o);continue}if("force3D"===h){y[h]=o;continue}if("transform"===h){si(this,o,e);continue}}else h in S||(h=Sr(h)||h);if(p||(a||0===a)&&(l||0===l)&&!rr.test(o)&&h in S)a||(a=0),(d=(s+"").substr((l+"").length))!==(f=pt(o)||(h in P.units?P.units[h]:d))&&(l=Nr(e,h,s,f)),this._pt=new An(this._pt,p?y:S,h,l,(g?Oe(l,g+a):a)-l,p||"px"!==f&&"zIndex"!==h||!1===t.autoRound?sr:lr),this._pt.u=f||0,d!==f&&"%"!==f&&(this._pt.b=s,this._pt.r=ar);else if(h in S)Br.call(this,e,h,s,g?g+o:o);else if(h in e)this.add(e,h,s||e[h],g?g+o:o,r,i);else if("parseTransform"!==h){fe(h,o);continue}p||(h in S?D.push(h,0,S[h]):"function"==typeof e[h]?D.push(h,2,e[h]()):D.push(h,1,s||e[h])),T.push(h)}b&&xn(this)},render:function(e,t){if(t.tween._time||!Yn())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:Pr,aliases:ir,getSetter:function(e,t,n){var r=ir[t];return r&&r.indexOf(",")<0&&(t=r),t in Qn&&t!==vr&&(e._gsap.x||Pr(e,"x"))?n&&Kn===n?"scale"===t?gr:fr:(Kn=n||{})&&("scale"===t?pr:mr):e.style&&!X(e.style[t])?hr:~t.indexOf("-")?dr:Dn(e,t)},core:{_removeProperty:Lr,_getMatrix:Gr}};jn.utils.checkPrefix=Sr,jn.core.getStyleSaver=_r,li=Ie((oi="x,y,z,scale,scaleX,scaleY,xPercent,yPercent")+","+(ai="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(e){Qn[e]=1})),Ie(ai,(function(e){P.units[e]="deg",$r[e]=1})),ir[li[13]]=oi+","+ai,Ie("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(e){var t=e.split(":");ir[t[1]]=li[t[0]]})),Ie("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(e){P.units[e]="px"})),jn.registerPlugin(ui);var ci=jn.registerPlugin(ui)||jn;function hi(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}
/*!
 * Observer 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/ci.core.Tween;var di,fi,gi,pi,mi,yi,vi,bi,Di,wi,_i,Ei,Ci,Ti=function(){return di||"undefined"!=typeof window&&(di=window.gsap)&&di.registerPlugin&&di},Si=1,ki=[],xi=[],Ai=[],Fi=Date.now,Ii=function(e,t){return t},Li=function(e,t){return~Ai.indexOf(e)&&Ai[Ai.indexOf(e)+1][t]},Mi=function(e){return!!~wi.indexOf(e)},Oi=function(e,t,n,r,i){return e.addEventListener(t,n,{passive:!1!==r,capture:!!i})},Ri=function(e,t,n,r){return e.removeEventListener(t,n,!!r)},Ni="scrollLeft",Pi="scrollTop",Bi=function(){return _i&&_i.isPressed||xi.cache++},Vi=function(e,t){var n=function n(r){if(r||0===r){Si&&(gi.history.scrollRestoration="manual");var i=_i&&_i.isPressed;r=n.v=Math.round(r)||(_i&&_i.iOS?1:0),e(r),n.cacheID=xi.cache,i&&Ii("ss",r)}else(t||xi.cache!==n.cacheID||Ii("ref"))&&(n.cacheID=xi.cache,n.v=e());return n.v+n.offset};return n.offset=0,e&&n},zi={s:Ni,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:Vi((function(e){return arguments.length?gi.scrollTo(e,Ui.sc()):gi.pageXOffset||pi[Ni]||mi[Ni]||yi[Ni]||0}))},Ui={s:Pi,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:zi,sc:Vi((function(e){return arguments.length?gi.scrollTo(zi.sc(),e):gi.pageYOffset||pi[Pi]||mi[Pi]||yi[Pi]||0}))},ji=function(e,t){return(t&&t._ctx&&t._ctx.selector||di.utils.toArray)(e)[0]||("string"==typeof e&&!1!==di.config().nullTargetWarn?console.warn("Element not found:",e):null)},$i=function(e,t){var n=t.s,r=t.sc;Mi(e)&&(e=pi.scrollingElement||mi);var i=xi.indexOf(e),s=r===Ui.sc?1:2;!~i&&(i=xi.push(e)-1),xi[i+s]||Oi(e,"scroll",Bi);var o=xi[i+s],a=o||(xi[i+s]=Vi(Li(e,n),!0)||(Mi(e)?r:Vi((function(t){return arguments.length?e[n]=t:e[n]}))));return a.target=e,o||(a.smooth="smooth"===di.getProperty(e,"scrollBehavior")),a},qi=function(e,t,n){var r=e,i=e,s=Fi(),o=s,a=t||50,l=Math.max(500,3*a),u=function(e,t){var l=Fi();t||l-s>a?(i=r,r=e,o=s,s=l):n?r+=e:r=i+(e-i)/(l-o)*(s-o)};return{update:u,reset:function(){i=r=n?0:r,o=s=0},getVelocity:function(e){var t=o,a=i,c=Fi();return(e||0===e)&&e!==r&&u(e),s===o||c-o>l?0:(r+(n?a:-a))/((n?c:s)-t)*1e3}}},Hi=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},Gi=function(e){var t=Math.max.apply(Math,e),n=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(n)?t:n},Wi=function(){var e,t,n,r;(Di=di.core.globals().ScrollTrigger)&&Di.core&&(e=Di.core,t=e.bridge||{},n=e._scrollers,r=e._proxies,n.push.apply(n,xi),r.push.apply(r,Ai),xi=n,Ai=r,Ii=function(e,n){return t[e](n)})},Ki=function(e){return di=e||Ti(),!fi&&di&&"undefined"!=typeof document&&document.body&&(gi=window,pi=document,mi=pi.documentElement,yi=pi.body,wi=[gi,pi,mi,yi],di.utils.clamp,Ci=di.core.context||function(){},bi="onpointerenter"in yi?"pointer":"mouse",vi=Yi.isTouch=gi.matchMedia&&gi.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in gi||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Ei=Yi.eventTypes=("ontouchstart"in mi?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in mi?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout((function(){return Si=0}),500),Wi(),fi=1),fi};zi.op=Ui,xi.cache=0;var Yi=function(){function e(e){this.init(e)}return e.prototype.init=function(e){fi||Ki(di)||console.warn("Please gsap.registerPlugin(Observer)"),Di||Wi();var t=e.tolerance,n=e.dragMinimum,r=e.type,i=e.target,s=e.lineHeight,o=e.debounce,a=e.preventDefault,l=e.onStop,u=e.onStopDelay,c=e.ignore,h=e.wheelSpeed,d=e.event,f=e.onDragStart,g=e.onDragEnd,p=e.onDrag,m=e.onPress,y=e.onRelease,v=e.onRight,b=e.onLeft,D=e.onUp,w=e.onDown,_=e.onChangeX,E=e.onChangeY,C=e.onChange,T=e.onToggleX,S=e.onToggleY,k=e.onHover,x=e.onHoverEnd,A=e.onMove,F=e.ignoreCheck,I=e.isNormalizer,L=e.onGestureStart,M=e.onGestureEnd,O=e.onWheel,R=e.onEnable,N=e.onDisable,P=e.onClick,B=e.scrollSpeed,V=e.capture,z=e.allowClicks,U=e.lockAxis,j=e.onLockAxis;this.target=i=ji(i)||mi,this.vars=e,c&&(c=di.utils.toArray(c)),t=t||1e-9,n=n||0,h=h||1,B=B||1,r=r||"wheel,touch,pointer",o=!1!==o,s||(s=parseFloat(gi.getComputedStyle(yi).lineHeight)||22);var $,q,H,G,W,K,Y,X=this,Q=0,J=0,Z=e.passive||!a&&!1!==e.passive,ee=$i(i,zi),te=$i(i,Ui),ne=ee(),re=te(),ie=~r.indexOf("touch")&&!~r.indexOf("pointer")&&"pointerdown"===Ei[0],se=Mi(i),oe=i.ownerDocument||pi,ae=[0,0,0],le=[0,0,0],ue=0,ce=function(){return ue=Fi()},he=function(e,t){return(X.event=e)&&c&&~c.indexOf(e.target)||t&&ie&&"touch"!==e.pointerType||F&&F(e,t)},de=function(){var e=X.deltaX=Gi(ae),n=X.deltaY=Gi(le),r=Math.abs(e)>=t,i=Math.abs(n)>=t;C&&(r||i)&&C(X,e,n,ae,le),r&&(v&&X.deltaX>0&&v(X),b&&X.deltaX<0&&b(X),_&&_(X),T&&X.deltaX<0!=Q<0&&T(X),Q=X.deltaX,ae[0]=ae[1]=ae[2]=0),i&&(w&&X.deltaY>0&&w(X),D&&X.deltaY<0&&D(X),E&&E(X),S&&X.deltaY<0!=J<0&&S(X),J=X.deltaY,le[0]=le[1]=le[2]=0),(G||H)&&(A&&A(X),H&&(f&&1===H&&f(X),p&&p(X),H=0),G=!1),K&&!(K=!1)&&j&&j(X),W&&(O(X),W=!1),$=0},fe=function(e,t,n){ae[n]+=e,le[n]+=t,X._vx.update(e),X._vy.update(t),o?$||($=requestAnimationFrame(de)):de()},ge=function(e,t){U&&!Y&&(X.axis=Y=Math.abs(e)>Math.abs(t)?"x":"y",K=!0),"y"!==Y&&(ae[2]+=e,X._vx.update(e,!0)),"x"!==Y&&(le[2]+=t,X._vy.update(t,!0)),o?$||($=requestAnimationFrame(de)):de()},pe=function(e){if(!he(e,1)){var t=(e=Hi(e,a)).clientX,r=e.clientY,i=t-X.x,s=r-X.y,o=X.isDragging;X.x=t,X.y=r,(o||(i||s)&&(Math.abs(X.startX-t)>=n||Math.abs(X.startY-r)>=n))&&(H=o?2:1,o||(X.isDragging=!0),ge(i,s))}},me=X.onPress=function(e){he(e,1)||e&&e.button||(X.axis=Y=null,q.pause(),X.isPressed=!0,e=Hi(e),Q=J=0,X.startX=X.x=e.clientX,X.startY=X.y=e.clientY,X._vx.reset(),X._vy.reset(),Oi(I?i:oe,Ei[1],pe,Z,!0),X.deltaX=X.deltaY=0,m&&m(X))},ye=X.onRelease=function(e){if(!he(e,1)){Ri(I?i:oe,Ei[1],pe,!0);var t=!isNaN(X.y-X.startY),n=X.isDragging,r=n&&(Math.abs(X.x-X.startX)>3||Math.abs(X.y-X.startY)>3),s=Hi(e);!r&&t&&(X._vx.reset(),X._vy.reset(),a&&z&&di.delayedCall(.08,(function(){if(Fi()-ue>300&&!e.defaultPrevented)if(e.target.click)e.target.click();else if(oe.createEvent){var t=oe.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,gi,1,s.screenX,s.screenY,s.clientX,s.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(t)}}))),X.isDragging=X.isGesturing=X.isPressed=!1,l&&n&&!I&&q.restart(!0),H&&de(),g&&n&&g(X),y&&y(X,r)}},ve=function(e){return e.touches&&e.touches.length>1&&(X.isGesturing=!0)&&L(e,X.isDragging)},be=function(){return(X.isGesturing=!1)||M(X)},De=function(e){if(!he(e)){var t=ee(),n=te();fe((t-ne)*B,(n-re)*B,1),ne=t,re=n,l&&q.restart(!0)}},we=function(e){if(!he(e)){e=Hi(e,a),O&&(W=!0);var t=(1===e.deltaMode?s:2===e.deltaMode?gi.innerHeight:1)*h;fe(e.deltaX*t,e.deltaY*t,0),l&&!I&&q.restart(!0)}},_e=function(e){if(!he(e)){var t=e.clientX,n=e.clientY,r=t-X.x,i=n-X.y;X.x=t,X.y=n,G=!0,l&&q.restart(!0),(r||i)&&ge(r,i)}},Ee=function(e){X.event=e,k(X)},Ce=function(e){X.event=e,x(X)},Te=function(e){return he(e)||Hi(e,a)&&P(X)};q=X._dc=di.delayedCall(u||.25,(function(){X._vx.reset(),X._vy.reset(),q.pause(),l&&l(X)})).pause(),X.deltaX=X.deltaY=0,X._vx=qi(0,50,!0),X._vy=qi(0,50,!0),X.scrollX=ee,X.scrollY=te,X.isDragging=X.isGesturing=X.isPressed=!1,Ci(this),X.enable=function(e){return X.isEnabled||(Oi(se?oe:i,"scroll",Bi),r.indexOf("scroll")>=0&&Oi(se?oe:i,"scroll",De,Z,V),r.indexOf("wheel")>=0&&Oi(i,"wheel",we,Z,V),(r.indexOf("touch")>=0&&vi||r.indexOf("pointer")>=0)&&(Oi(i,Ei[0],me,Z,V),Oi(oe,Ei[2],ye),Oi(oe,Ei[3],ye),z&&Oi(i,"click",ce,!0,!0),P&&Oi(i,"click",Te),L&&Oi(oe,"gesturestart",ve),M&&Oi(oe,"gestureend",be),k&&Oi(i,bi+"enter",Ee),x&&Oi(i,bi+"leave",Ce),A&&Oi(i,bi+"move",_e)),X.isEnabled=!0,X.isDragging=X.isGesturing=X.isPressed=G=H=!1,X._vx.reset(),X._vy.reset(),ne=ee(),re=te(),e&&e.type&&me(e),R&&R(X)),X},X.disable=function(){X.isEnabled&&(ki.filter((function(e){return e!==X&&Mi(e.target)})).length||Ri(se?oe:i,"scroll",Bi),X.isPressed&&(X._vx.reset(),X._vy.reset(),Ri(I?i:oe,Ei[1],pe,!0)),Ri(se?oe:i,"scroll",De,V),Ri(i,"wheel",we,V),Ri(i,Ei[0],me,V),Ri(oe,Ei[2],ye),Ri(oe,Ei[3],ye),Ri(i,"click",ce,!0),Ri(i,"click",Te),Ri(oe,"gesturestart",ve),Ri(oe,"gestureend",be),Ri(i,bi+"enter",Ee),Ri(i,bi+"leave",Ce),Ri(i,bi+"move",_e),X.isEnabled=X.isPressed=X.isDragging=!1,N&&N(X))},X.kill=X.revert=function(){X.disable();var e=ki.indexOf(X);e>=0&&ki.splice(e,1),_i===X&&(_i=0)},ki.push(X),I&&Mi(i)&&(_i=X),X.enable(d)},hi(e,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),e}();Yi.version="3.12.7",Yi.create=function(e){return new Yi(e)},Yi.register=Ki,Yi.getAll=function(){return ki.slice()},Yi.getById=function(e){return ki.filter((function(t){return t.vars.id===e}))[0]},Ti()&&di.registerPlugin(Yi);
/*!
 * ScrollTrigger 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/
var Xi,Qi,Ji,Zi,es,ts,ns,rs,is,ss,os,as,ls,us,cs,hs,ds,fs,gs,ps,ms,ys,vs,bs,Ds,ws,_s,Es,Cs,Ts,Ss,ks,xs,As,Fs,Is,Ls,Ms,Os=1,Rs=Date.now,Ns=Rs(),Ps=0,Bs=0,Vs=function(e,t,n){var r=Zs(e)&&("clamp("===e.substr(0,6)||e.indexOf("max")>-1);return n["_"+t+"Clamp"]=r,r?e.substr(6,e.length-7):e},zs=function(e,t){return!t||Zs(e)&&"clamp("===e.substr(0,6)?e:"clamp("+e+")"},Us=function e(){return Bs&&requestAnimationFrame(e)},js=function(){return us=1},$s=function(){return us=0},qs=function(e){return e},Hs=function(e){return Math.round(1e5*e)/1e5||0},Gs=function(){return"undefined"!=typeof window},Ws=function(){return Xi||Gs()&&(Xi=window.gsap)&&Xi.registerPlugin&&Xi},Ks=function(e){return!!~ns.indexOf(e)},Ys=function(e){return("Height"===e?Ss:Ji["inner"+e])||es["client"+e]||ts["client"+e]},Xs=function(e){return Li(e,"getBoundingClientRect")||(Ks(e)?function(){return ca.width=Ji.innerWidth,ca.height=Ss,ca}:function(){return Eo(e)})},Qs=function(e,t){var n=t.s,r=t.d2,i=t.d,s=t.a;return Math.max(0,(n="scroll"+r)&&(s=Li(e,n))?s()-Xs(e)()[i]:Ks(e)?(es[n]||ts[n])-Ys(r):e[n]-e["offset"+r])},Js=function(e,t){for(var n=0;n<gs.length;n+=3)(!t||~t.indexOf(gs[n+1]))&&e(gs[n],gs[n+1],gs[n+2])},Zs=function(e){return"string"==typeof e},eo=function(e){return"function"==typeof e},to=function(e){return"number"==typeof e},no=function(e){return"object"==typeof e},ro=function(e,t,n){return e&&e.progress(t?0:1)&&n&&e.pause()},io=function(e,t){if(e.enabled){var n=e._ctx?e._ctx.add((function(){return t(e)})):t(e);n&&n.totalTime&&(e.callbackAnimation=n)}},so=Math.abs,oo="left",ao="right",lo="bottom",uo="width",co="height",ho="Right",fo="Left",go="Top",po="Bottom",mo="padding",yo="margin",vo="Width",bo="Height",Do="px",wo=function(e){return Ji.getComputedStyle(e)},_o=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},Eo=function(e,t){var n=t&&"matrix(1, 0, 0, 1, 0, 0)"!==wo(e)[cs]&&Xi.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=e.getBoundingClientRect();return n&&n.progress(0).kill(),r},Co=function(e,t){var n=t.d2;return e["offset"+n]||e["client"+n]||0},To=function(e){var t,n=[],r=e.labels,i=e.duration();for(t in r)n.push(r[t]/i);return n},So=function(e){var t=Xi.utils.snap(e),n=Array.isArray(e)&&e.slice(0).sort((function(e,t){return e-t}));return n?function(e,r,i){var s;if(void 0===i&&(i=.001),!r)return t(e);if(r>0){for(e-=i,s=0;s<n.length;s++)if(n[s]>=e)return n[s];return n[s-1]}for(s=n.length,e+=i;s--;)if(n[s]<=e)return n[s];return n[0]}:function(n,r,i){void 0===i&&(i=.001);var s=t(n);return!r||Math.abs(s-n)<i||s-n<0==r<0?s:t(r<0?n-e:n+e)}},ko=function(e,t,n,r){return n.split(",").forEach((function(n){return e(t,n,r)}))},xo=function(e,t,n,r,i){return e.addEventListener(t,n,{passive:!r,capture:!!i})},Ao=function(e,t,n,r){return e.removeEventListener(t,n,!!r)},Fo=function(e,t,n){(n=n&&n.wheelHandler)&&(e(t,"wheel",n),e(t,"touchmove",n))},Io={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},Lo={toggleActions:"play",anticipatePin:0},Mo={top:0,left:0,center:.5,bottom:1,right:1},Oo=function(e,t){if(Zs(e)){var n=e.indexOf("="),r=~n?+(e.charAt(n-1)+1)*parseFloat(e.substr(n+1)):0;~n&&(e.indexOf("%")>n&&(r*=t/100),e=e.substr(0,n-1)),e=r+(e in Mo?Mo[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},Ro=function(e,t,n,r,i,s,o,a){var l=i.startColor,u=i.endColor,c=i.fontSize,h=i.indent,d=i.fontWeight,f=Zi.createElement("div"),g=Ks(n)||"fixed"===Li(n,"pinType"),p=-1!==e.indexOf("scroller"),m=g?ts:n,y=-1!==e.indexOf("start"),v=y?l:u,b="border-color:"+v+";font-size:"+c+";color:"+v+";font-weight:"+d+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return b+="position:"+((p||a)&&g?"fixed;":"absolute;"),(p||a||!g)&&(b+=(r===Ui?ao:lo)+":"+(s+parseFloat(h))+"px;"),o&&(b+="box-sizing:border-box;text-align:left;width:"+o.offsetWidth+"px;"),f._isStart=y,f.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),f.style.cssText=b,f.innerText=t||0===t?e+"-"+t:e,m.children[0]?m.insertBefore(f,m.children[0]):m.appendChild(f),f._offset=f["offset"+r.op.d2],No(f,0,r,y),f},No=function(e,t,n,r){var i={display:"block"},s=n[r?"os2":"p2"],o=n[r?"p2":"os2"];e._isFlipped=r,i[n.a+"Percent"]=r?-100:0,i[n.a]=r?"1px":0,i["border"+s+vo]=1,i["border"+o+vo]=0,i[n.p]=t+"px",Xi.set(e,i)},Po=[],Bo={},Vo=function(){return Rs()-Ps>34&&(Fs||(Fs=requestAnimationFrame(ra)))},zo=function(){(!vs||!vs.isPressed||vs.startX>ts.clientWidth)&&(xi.cache++,vs?Fs||(Fs=requestAnimationFrame(ra)):ra(),Ps||Go("scrollStart"),Ps=Rs())},Uo=function(){ws=Ji.innerWidth,Ds=Ji.innerHeight},jo=function(e){xi.cache++,(!0===e||!ls&&!ys&&!Zi.fullscreenElement&&!Zi.webkitFullscreenElement&&(!bs||ws!==Ji.innerWidth||Math.abs(Ji.innerHeight-Ds)>.25*Ji.innerHeight))&&rs.restart(!0)},$o={},qo=[],Ho=function e(){return Ao(ya,"scrollEnd",e)||ea(!0)},Go=function(e){return $o[e]&&$o[e].map((function(e){return e()}))||qo},Wo=[],Ko=function(e){for(var t=0;t<Wo.length;t+=5)(!e||Wo[t+4]&&Wo[t+4].query===e)&&(Wo[t].style.cssText=Wo[t+1],Wo[t].getBBox&&Wo[t].setAttribute("transform",Wo[t+2]||""),Wo[t+3].uncache=1)},Yo=function(e,t){var n;for(hs=0;hs<Po.length;hs++)!(n=Po[hs])||t&&n._ctx!==t||(e?n.kill(1):n.revert(!0,!0));ks=!0,t&&Ko(t),t||Go("revert")},Xo=function(e,t){xi.cache++,(t||!Is)&&xi.forEach((function(e){return eo(e)&&e.cacheID++&&(e.rec=0)})),Zs(e)&&(Ji.history.scrollRestoration=Cs=e)},Qo=0,Jo=function(){ts.appendChild(Ts),Ss=!vs&&Ts.offsetHeight||Ji.innerHeight,ts.removeChild(Ts)},Zo=function(e){return is(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach((function(t){return t.style.display=e?"none":"block"}))},ea=function(e,t){if(es=Zi.documentElement,ts=Zi.body,ns=[Ji,Zi,es,ts],!Ps||e||ks){Jo(),Is=ya.isRefreshing=!0,xi.forEach((function(e){return eo(e)&&++e.cacheID&&(e.rec=e())}));var n=Go("refreshInit");ps&&ya.sort(),t||Yo(),xi.forEach((function(e){eo(e)&&(e.smooth&&(e.target.style.scrollBehavior="auto"),e(0))})),Po.slice(0).forEach((function(e){return e.refresh()})),ks=!1,Po.forEach((function(e){if(e._subPinOffset&&e.pin){var t=e.vars.horizontal?"offsetWidth":"offsetHeight",n=e.pin[t];e.revert(!0,1),e.adjustPinSpacing(e.pin[t]-n),e.refresh()}})),xs=1,Zo(!0),Po.forEach((function(e){var t=Qs(e.scroller,e._dir),n="max"===e.vars.end||e._endClamp&&e.end>t,r=e._startClamp&&e.start>=t;(n||r)&&e.setPositions(r?t-1:e.start,n?Math.max(r?t:e.start+1,t):e.end,!0)})),Zo(!1),xs=0,n.forEach((function(e){return e&&e.render&&e.render(-1)})),xi.forEach((function(e){eo(e)&&(e.smooth&&requestAnimationFrame((function(){return e.target.style.scrollBehavior="smooth"})),e.rec&&e(e.rec))})),Xo(Cs,1),rs.pause(),Qo++,Is=2,ra(2),Po.forEach((function(e){return eo(e.vars.onRefresh)&&e.vars.onRefresh(e)})),Is=ya.isRefreshing=!1,Go("refresh")}else xo(ya,"scrollEnd",Ho)},ta=0,na=1,ra=function(e){if(2===e||!Is&&!ks){ya.isUpdating=!0,Ms&&Ms.update(0);var t=Po.length,n=Rs(),r=n-Ns>=50,i=t&&Po[0].scroll();if(na=ta>i?-1:1,Is||(ta=i),r&&(Ps&&!us&&n-Ps>200&&(Ps=0,Go("scrollEnd")),os=Ns,Ns=n),na<0){for(hs=t;hs-- >0;)Po[hs]&&Po[hs].update(0,r);na=1}else for(hs=0;hs<t;hs++)Po[hs]&&Po[hs].update(0,r);ya.isUpdating=!1}Fs=0},ia=[oo,"top",lo,ao,yo+po,yo+ho,yo+go,yo+fo,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],sa=ia.concat([uo,co,"boxSizing","max"+vo,"max"+bo,"position",yo,mo,mo+go,mo+ho,mo+po,mo+fo]),oa=function(e,t,n,r){if(!e._gsap.swappedIn){for(var i,s=ia.length,o=t.style,a=e.style;s--;)o[i=ia[s]]=n[i];o.position="absolute"===n.position?"absolute":"relative","inline"===n.display&&(o.display="inline-block"),a[lo]=a[ao]="auto",o.flexBasis=n.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[uo]=Co(e,zi)+Do,o[co]=Co(e,Ui)+Do,o[mo]=a[yo]=a.top=a[oo]="0",la(r),a[uo]=a["max"+vo]=n[uo],a[co]=a["max"+bo]=n[co],a[mo]=n[mo],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},aa=/([A-Z])/g,la=function(e){if(e){var t,n,r=e.t.style,i=e.length,s=0;for((e.t._gsap||Xi.core.getCache(e.t)).uncache=1;s<i;s+=2)n=e[s+1],t=e[s],n?r[t]=n:r[t]&&r.removeProperty(t.replace(aa,"-$1").toLowerCase())}},ua=function(e){for(var t=sa.length,n=e.style,r=[],i=0;i<t;i++)r.push(sa[i],n[sa[i]]);return r.t=e,r},ca={left:0,top:0},ha=function(e,t,n,r,i,s,o,a,l,u,c,h,d,f){eo(e)&&(e=e(a)),Zs(e)&&"max"===e.substr(0,3)&&(e=h+("="===e.charAt(4)?Oo("0"+e.substr(3),n):0));var g,p,m,y=d?d.time():0;if(d&&d.seek(0),isNaN(e)||(e=+e),to(e))d&&(e=Xi.utils.mapRange(d.scrollTrigger.start,d.scrollTrigger.end,0,h,e)),o&&No(o,n,r,!0);else{eo(t)&&(t=t(a));var v,b,D,w,_=(e||"0").split(" ");m=ji(t,a)||ts,(v=Eo(m)||{})&&(v.left||v.top)||"none"!==wo(m).display||(w=m.style.display,m.style.display="block",v=Eo(m),w?m.style.display=w:m.style.removeProperty("display")),b=Oo(_[0],v[r.d]),D=Oo(_[1]||"0",n),e=v[r.p]-l[r.p]-u+b+i-D,o&&No(o,D,r,n-D<20||o._isStart&&D>20),n-=n-D}if(f&&(a[f]=e||-.001,e<0&&(e=0)),s){var E=e+n,C=s._isStart;g="scroll"+r.d2,No(s,E,r,C&&E>20||!C&&(c?Math.max(ts[g],es[g]):s.parentNode[g])<=E+1),c&&(l=Eo(o),c&&(s.style[r.op.p]=l[r.op.p]-r.op.m-s._offset+Do))}return d&&m&&(g=Eo(m),d.seek(h),p=Eo(m),d._caScrollDist=g[r.p]-p[r.p],e=e/d._caScrollDist*h),d&&d.seek(y),d?e:Math.round(e)},da=/(webkit|moz|length|cssText|inset)/i,fa=function(e,t,n,r){if(e.parentNode!==t){var i,s,o=e.style;if(t===ts){for(i in e._stOrig=o.cssText,s=wo(e))+i||da.test(i)||!s[i]||"string"!=typeof o[i]||"0"===i||(o[i]=s[i]);o.top=n,o.left=r}else o.cssText=e._stOrig;Xi.core.getCache(e).uncache=1,t.appendChild(e)}},ga=function(e,t,n){var r=t,i=r;return function(t){var s=Math.round(e());return s!==r&&s!==i&&Math.abs(s-r)>3&&Math.abs(s-i)>3&&(t=s,n&&n()),i=r,r=Math.round(t)}},pa=function(e,t,n){var r={};r[t.p]="+="+n,Xi.set(e,r)},ma=function(e,t){var n=$i(e,t),r="_scroll"+t.p2,i=function t(i,s,o,a,l){var u=t.tween,c=s.onComplete,h={};o=o||n();var d=ga(n,o,(function(){u.kill(),t.tween=0}));return l=a&&l||0,a=a||i-o,u&&u.kill(),s[r]=i,s.inherit=!1,s.modifiers=h,h[r]=function(){return d(o+a*u.ratio+l*u.ratio*u.ratio)},s.onUpdate=function(){xi.cache++,t.tween&&ra()},s.onComplete=function(){t.tween=0,c&&c.call(u)},u=t.tween=Xi.to(e,s)};return e[r]=n,n.wheelHandler=function(){return i.tween&&i.tween.kill()&&(i.tween=0)},xo(e,"wheel",n.wheelHandler),ya.isTouch&&xo(e,"touchmove",n.wheelHandler),i},ya=function(){function e(t,n){Qi||e.register(Xi)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),Es(this),this.init(t,n)}return e.prototype.init=function(t,n){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),Bs){var r,i,s,o,a,l,u,c,h,d,f,g,p,m,y,v,b,D,w,_,E,C,T,S,k,x,A,F,I,L,M,O,R,N,P,B,V,z,U,j,$,q,H=t=_o(Zs(t)||to(t)||t.nodeType?{trigger:t}:t,Lo),G=H.onUpdate,W=H.toggleClass,K=H.id,Y=H.onToggle,X=H.onRefresh,Q=H.scrub,J=H.trigger,Z=H.pin,ee=H.pinSpacing,te=H.invalidateOnRefresh,ne=H.anticipatePin,re=H.onScrubComplete,ie=H.onSnapComplete,se=H.once,oe=H.snap,ae=H.pinReparent,le=H.pinSpacer,ue=H.containerAnimation,ce=H.fastScrollEnd,he=H.preventOverlaps,de=t.horizontal||t.containerAnimation&&!1!==t.horizontal?zi:Ui,fe=!Q&&0!==Q,ge=ji(t.scroller||Ji),pe=Xi.core.getCache(ge),me=Ks(ge),ye="fixed"===("pinType"in t?t.pinType:Li(ge,"pinType")||me&&"fixed"),ve=[t.onEnter,t.onLeave,t.onEnterBack,t.onLeaveBack],be=fe&&t.toggleActions.split(" "),De="markers"in t?t.markers:Lo.markers,we=me?0:parseFloat(wo(ge)["border"+de.p2+vo])||0,_e=this,Ee=t.onRefreshInit&&function(){return t.onRefreshInit(_e)},Ce=function(e,t,n){var r=n.d,i=n.d2,s=n.a;return(s=Li(e,"getBoundingClientRect"))?function(){return s()[r]}:function(){return(t?Ys(i):e["client"+i])||0}}(ge,me,de),Te=function(e,t){return!t||~Ai.indexOf(e)?Xs(e):function(){return ca}}(ge,me),Se=0,ke=0,xe=0,Ae=$i(ge,de);if(_e._startClamp=_e._endClamp=!1,_e._dir=de,ne*=45,_e.scroller=ge,_e.scroll=ue?ue.time.bind(ue):Ae,o=Ae(),_e.vars=t,n=n||t.animation,"refreshPriority"in t&&(ps=1,-9999===t.refreshPriority&&(Ms=_e)),pe.tweenScroll=pe.tweenScroll||{top:ma(ge,Ui),left:ma(ge,zi)},_e.tweenTo=r=pe.tweenScroll[de.p],_e.scrubDuration=function(e){(R=to(e)&&e)?O?O.duration(e):O=Xi.to(n,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:R,paused:!0,onComplete:function(){return re&&re(_e)}}):(O&&O.progress(1).kill(),O=0)},n&&(n.vars.lazy=!1,n._initted&&!_e.isReverted||!1!==n.vars.immediateRender&&!1!==t.immediateRender&&n.duration()&&n.render(0,!0,!0),_e.animation=n.pause(),n.scrollTrigger=_e,_e.scrubDuration(Q),L=0,K||(K=n.vars.id)),oe&&(no(oe)&&!oe.push||(oe={snapTo:oe}),"scrollBehavior"in ts.style&&Xi.set(me?[ts,es]:ge,{scrollBehavior:"auto"}),xi.forEach((function(e){return eo(e)&&e.target===(me?Zi.scrollingElement||es:ge)&&(e.smooth=!1)})),s=eo(oe.snapTo)?oe.snapTo:"labels"===oe.snapTo?function(e){return function(t){return Xi.utils.snap(To(e),t)}}(n):"labelsDirectional"===oe.snapTo?(j=n,function(e,t){return So(To(j))(e,t.direction)}):!1!==oe.directional?function(e,t){return So(oe.snapTo)(e,Rs()-ke<500?0:t.direction)}:Xi.utils.snap(oe.snapTo),N=oe.duration||{min:.1,max:2},N=no(N)?ss(N.min,N.max):ss(N,N),P=Xi.delayedCall(oe.delay||R/2||.1,(function(){var e=Ae(),t=Rs()-ke<500,i=r.tween;if(!(t||Math.abs(_e.getVelocity())<10)||i||us||Se===e)_e.isActive&&Se!==e&&P.restart(!0);else{var o,a,c=(e-l)/m,h=n&&!fe?n.totalProgress():c,d=t?0:(h-M)/(Rs()-os)*1e3||0,f=Xi.utils.clamp(-c,1-c,so(d/2)*d/.185),g=c+(!1===oe.inertia?0:f),p=oe,y=p.onStart,v=p.onInterrupt,b=p.onComplete;if(o=s(g,_e),to(o)||(o=g),a=Math.max(0,Math.round(l+o*m)),e<=u&&e>=l&&a!==e){if(i&&!i._initted&&i.data<=so(a-e))return;!1===oe.inertia&&(f=o-c),r(a,{duration:N(so(.185*Math.max(so(g-h),so(o-h))/d/.05||0)),ease:oe.ease||"power3",data:so(a-e),onInterrupt:function(){return P.restart(!0)&&v&&v(_e)},onComplete:function(){_e.update(),Se=Ae(),n&&!fe&&(O?O.resetTo("totalProgress",o,n._tTime/n._tDur):n.progress(o)),L=M=n&&!fe?n.totalProgress():_e.progress,ie&&ie(_e),b&&b(_e)}},e,f*m,a-e-f*m),y&&y(_e,r.tween)}}})).pause()),K&&(Bo[K]=_e),(U=(J=_e.trigger=ji(J||!0!==Z&&Z))&&J._gsap&&J._gsap.stRevert)&&(U=U(_e)),Z=!0===Z?J:ji(Z),Zs(W)&&(W={targets:J,className:W}),Z&&(!1===ee||ee===yo||(ee=!(!ee&&Z.parentNode&&Z.parentNode.style&&"flex"===wo(Z.parentNode).display)&&mo),_e.pin=Z,(i=Xi.core.getCache(Z)).spacer?y=i.pinState:(le&&((le=ji(le))&&!le.nodeType&&(le=le.current||le.nativeElement),i.spacerIsNative=!!le,le&&(i.spacerState=ua(le))),i.spacer=D=le||Zi.createElement("div"),D.classList.add("pin-spacer"),K&&D.classList.add("pin-spacer-"+K),i.pinState=y=ua(Z)),!1!==t.force3D&&Xi.set(Z,{force3D:!0}),_e.spacer=D=i.spacer,I=wo(Z),S=I[ee+de.os2],_=Xi.getProperty(Z),E=Xi.quickSetter(Z,de.a,Do),oa(Z,D,I),b=ua(Z)),De){g=no(De)?_o(De,Io):Io,d=Ro("scroller-start",K,ge,de,g,0),f=Ro("scroller-end",K,ge,de,g,0,d),w=d["offset"+de.op.d2];var Fe=ji(Li(ge,"content")||ge);c=this.markerStart=Ro("start",K,Fe,de,g,w,0,ue),h=this.markerEnd=Ro("end",K,Fe,de,g,w,0,ue),ue&&(z=Xi.quickSetter([c,h],de.a,Do)),ye||Ai.length&&!0===Li(ge,"fixedMarkers")||(q=wo($=me?ts:ge).position,$.style.position="absolute"===q||"fixed"===q?q:"relative",Xi.set([d,f],{force3D:!0}),x=Xi.quickSetter(d,de.a,Do),F=Xi.quickSetter(f,de.a,Do))}if(ue){var Ie=ue.vars.onUpdate,Le=ue.vars.onUpdateParams;ue.eventCallback("onUpdate",(function(){_e.update(0,0,1),Ie&&Ie.apply(ue,Le||[])}))}if(_e.previous=function(){return Po[Po.indexOf(_e)-1]},_e.next=function(){return Po[Po.indexOf(_e)+1]},_e.revert=function(e,t){if(!t)return _e.kill(!0);var r=!1!==e||!_e.enabled,i=ls;r!==_e.isReverted&&(r&&(B=Math.max(Ae(),_e.scroll.rec||0),xe=_e.progress,V=n&&n.progress()),c&&[c,h,d,f].forEach((function(e){return e.style.display=r?"none":"block"})),r&&(ls=_e,_e.update(r)),!Z||ae&&_e.isActive||(r?function(e,t,n){la(n);var r=e._gsap;if(r.spacerIsNative)la(r.spacerState);else if(e._gsap.swappedIn){var i=t.parentNode;i&&(i.insertBefore(e,t),i.removeChild(t))}e._gsap.swappedIn=!1}(Z,D,y):oa(Z,D,wo(Z),k)),r||_e.update(r),ls=i,_e.isReverted=r)},_e.refresh=function(i,s,g,w){if(!ls&&_e.enabled||s)if(Z&&i&&Ps)xo(e,"scrollEnd",Ho);else{!Is&&Ee&&Ee(_e),ls=_e,r.tween&&!g&&(r.tween.kill(),r.tween=0),O&&O.pause(),te&&n&&n.revert({kill:!1}).invalidate(),_e.isReverted||_e.revert(!0,!0),_e._subPinOffset=!1;var E,S,x,F,I,L,M,R,N,z,U,j,$,q=Ce(),H=Te(),G=ue?ue.duration():Qs(ge,de),W=m<=.01,K=0,Y=w||0,Q=no(g)?g.end:t.end,ne=t.endTrigger||J,re=no(g)?g.start:t.start||(0!==t.start&&J?Z?"0 0":"0 100%":0),ie=_e.pinnedContainer=t.pinnedContainer&&ji(t.pinnedContainer,_e),se=J&&Math.max(0,Po.indexOf(_e))||0,oe=se;for(De&&no(g)&&(j=Xi.getProperty(d,de.p),$=Xi.getProperty(f,de.p));oe-- >0;)(L=Po[oe]).end||L.refresh(0,1)||(ls=_e),!(M=L.pin)||M!==J&&M!==Z&&M!==ie||L.isReverted||(z||(z=[]),z.unshift(L),L.revert(!0,!0)),L!==Po[oe]&&(se--,oe--);for(eo(re)&&(re=re(_e)),re=Vs(re,"start",_e),l=ha(re,J,q,de,Ae(),c,d,_e,H,we,ye,G,ue,_e._startClamp&&"_startClamp")||(Z?-.001:0),eo(Q)&&(Q=Q(_e)),Zs(Q)&&!Q.indexOf("+=")&&(~Q.indexOf(" ")?Q=(Zs(re)?re.split(" ")[0]:"")+Q:(K=Oo(Q.substr(2),q),Q=Zs(re)?re:(ue?Xi.utils.mapRange(0,ue.duration(),ue.scrollTrigger.start,ue.scrollTrigger.end,l):l)+K,ne=J)),Q=Vs(Q,"end",_e),u=Math.max(l,ha(Q||(ne?"100% 0":G),ne,q,de,Ae()+K,h,f,_e,H,we,ye,G,ue,_e._endClamp&&"_endClamp"))||-.001,K=0,oe=se;oe--;)(M=(L=Po[oe]).pin)&&L.start-L._pinPush<=l&&!ue&&L.end>0&&(E=L.end-(_e._startClamp?Math.max(0,L.start):L.start),(M===J&&L.start-L._pinPush<l||M===ie)&&isNaN(re)&&(K+=E*(1-L.progress)),M===Z&&(Y+=E));if(l+=K,u+=K,_e._startClamp&&(_e._startClamp+=K),_e._endClamp&&!Is&&(_e._endClamp=u||-.001,u=Math.min(u,Qs(ge,de))),m=u-l||(l-=.01)&&.001,W&&(xe=Xi.utils.clamp(0,1,Xi.utils.normalize(l,u,B))),_e._pinPush=Y,c&&K&&((E={})[de.a]="+="+K,ie&&(E[de.p]="-="+Ae()),Xi.set([c,h],E)),!Z||xs&&_e.end>=Qs(ge,de)){if(J&&Ae()&&!ue)for(S=J.parentNode;S&&S!==ts;)S._pinOffset&&(l-=S._pinOffset,u-=S._pinOffset),S=S.parentNode}else E=wo(Z),F=de===Ui,x=Ae(),C=parseFloat(_(de.a))+Y,!G&&u>1&&(U={style:U=(me?Zi.scrollingElement||es:ge).style,value:U["overflow"+de.a.toUpperCase()]},me&&"scroll"!==wo(ts)["overflow"+de.a.toUpperCase()]&&(U.style["overflow"+de.a.toUpperCase()]="scroll")),oa(Z,D,E),b=ua(Z),S=Eo(Z,!0),R=ye&&$i(ge,F?zi:Ui)(),ee?((k=[ee+de.os2,m+Y+Do]).t=D,(oe=ee===mo?Co(Z,de)+m+Y:0)&&(k.push(de.d,oe+Do),"auto"!==D.style.flexBasis&&(D.style.flexBasis=oe+Do)),la(k),ie&&Po.forEach((function(e){e.pin===ie&&!1!==e.vars.pinSpacing&&(e._subPinOffset=!0)})),ye&&Ae(B)):(oe=Co(Z,de))&&"auto"!==D.style.flexBasis&&(D.style.flexBasis=oe+Do),ye&&((I={top:S.top+(F?x-l:R)+Do,left:S.left+(F?R:x-l)+Do,boxSizing:"border-box",position:"fixed"})[uo]=I["max"+vo]=Math.ceil(S.width)+Do,I[co]=I["max"+bo]=Math.ceil(S.height)+Do,I[yo]=I[yo+go]=I[yo+ho]=I[yo+po]=I[yo+fo]="0",I[mo]=E[mo],I[mo+go]=E[mo+go],I[mo+ho]=E[mo+ho],I[mo+po]=E[mo+po],I[mo+fo]=E[mo+fo],v=function(e,t,n){for(var r,i=[],s=e.length,o=n?8:0;o<s;o+=2)r=e[o],i.push(r,r in t?t[r]:e[o+1]);return i.t=e.t,i}(y,I,ae),Is&&Ae(0)),n?(N=n._initted,ms(1),n.render(n.duration(),!0,!0),T=_(de.a)-C+m+Y,A=Math.abs(m-T)>1,ye&&A&&v.splice(v.length-2,2),n.render(0,!0,!0),N||n.invalidate(!0),n.parent||n.totalTime(n.totalTime()),ms(0)):T=m,U&&(U.value?U.style["overflow"+de.a.toUpperCase()]=U.value:U.style.removeProperty("overflow-"+de.a));z&&z.forEach((function(e){return e.revert(!1,!0)})),_e.start=l,_e.end=u,o=a=Is?B:Ae(),ue||Is||(o<B&&Ae(B),_e.scroll.rec=0),_e.revert(!1,!0),ke=Rs(),P&&(Se=-1,P.restart(!0)),ls=0,n&&fe&&(n._initted||V)&&n.progress()!==V&&n.progress(V||0,!0).render(n.time(),!0,!0),(W||xe!==_e.progress||ue||te||n&&!n._initted)&&(n&&!fe&&n.totalProgress(ue&&l<-.001&&!xe?Xi.utils.normalize(l,u,0):xe,!0),_e.progress=W||(o-l)/m===xe?0:xe),Z&&ee&&(D._pinOffset=Math.round(_e.progress*T)),O&&O.invalidate(),isNaN(j)||(j-=Xi.getProperty(d,de.p),$-=Xi.getProperty(f,de.p),pa(d,de,j),pa(c,de,j-(w||0)),pa(f,de,$),pa(h,de,$-(w||0))),W&&!Is&&_e.update(),!X||Is||p||(p=!0,X(_e),p=!1)}},_e.getVelocity=function(){return(Ae()-a)/(Rs()-os)*1e3||0},_e.endAnimation=function(){ro(_e.callbackAnimation),n&&(O?O.progress(1):n.paused()?fe||ro(n,_e.direction<0,1):ro(n,n.reversed()))},_e.labelToScroll=function(e){return n&&n.labels&&(l||_e.refresh()||l)+n.labels[e]/n.duration()*m||0},_e.getTrailing=function(e){var t=Po.indexOf(_e),n=_e.direction>0?Po.slice(0,t).reverse():Po.slice(t+1);return(Zs(e)?n.filter((function(t){return t.vars.preventOverlaps===e})):n).filter((function(e){return _e.direction>0?e.end<=l:e.start>=u}))},_e.update=function(e,t,i){if(!ue||i||e){var s,c,h,f,g,p,y,w=!0===Is?B:_e.scroll(),_=e?0:(w-l)/m,k=_<0?0:_>1?1:_||0,I=_e.progress;if(t&&(a=o,o=ue?Ae():w,oe&&(M=L,L=n&&!fe?n.totalProgress():k)),ne&&Z&&!ls&&!Os&&Ps&&(!k&&l<w+(w-a)/(Rs()-os)*ne?k=1e-4:1===k&&u>w+(w-a)/(Rs()-os)*ne&&(k=.9999)),k!==I&&_e.enabled){if(f=(g=(s=_e.isActive=!!k&&k<1)!==(!!I&&I<1))||!!k!=!!I,_e.direction=k>I?1:-1,_e.progress=k,f&&!ls&&(c=k&&!I?0:1===k?1:1===I?2:3,fe&&(h=!g&&"none"!==be[c+1]&&be[c+1]||be[c],y=n&&("complete"===h||"reset"===h||h in n))),he&&(g||y)&&(y||Q||!n)&&(eo(he)?he(_e):_e.getTrailing(he).forEach((function(e){return e.endAnimation()}))),fe||(!O||ls||Os?n&&n.totalProgress(k,!(!ls||!ke&&!e)):(O._dp._time-O._start!==O._time&&O.render(O._dp._time-O._start),O.resetTo?O.resetTo("totalProgress",k,n._tTime/n._tDur):(O.vars.totalProgress=k,O.invalidate().restart()))),Z)if(e&&ee&&(D.style[ee+de.os2]=S),ye){if(f){if(p=!e&&k>I&&u+1>w&&w+1>=Qs(ge,de),ae)if(e||!s&&!p)fa(Z,D);else{var R=Eo(Z,!0),N=w-l;fa(Z,ts,R.top+(de===Ui?N:0)+Do,R.left+(de===Ui?0:N)+Do)}la(s||p?v:b),A&&k<1&&s||E(C+(1!==k||p?0:T))}}else E(Hs(C+T*k));oe&&!r.tween&&!ls&&!Os&&P.restart(!0),W&&(g||se&&k&&(k<1||!As))&&is(W.targets).forEach((function(e){return e.classList[s||se?"add":"remove"](W.className)})),G&&!fe&&!e&&G(_e),f&&!ls?(fe&&(y&&("complete"===h?n.pause().totalProgress(1):"reset"===h?n.restart(!0).pause():"restart"===h?n.restart(!0):n[h]()),G&&G(_e)),!g&&As||(Y&&g&&io(_e,Y),ve[c]&&io(_e,ve[c]),se&&(1===k?_e.kill(!1,1):ve[c]=0),g||ve[c=1===k?1:3]&&io(_e,ve[c])),ce&&!s&&Math.abs(_e.getVelocity())>(to(ce)?ce:2500)&&(ro(_e.callbackAnimation),O?O.progress(1):ro(n,"reverse"===h?1:!k,1))):fe&&G&&!ls&&G(_e)}if(F){var V=ue?w/ue.duration()*(ue._caScrollDist||0):w;x(V+(d._isFlipped?1:0)),F(V)}z&&z(-w/ue.duration()*(ue._caScrollDist||0))}},_e.enable=function(t,n){_e.enabled||(_e.enabled=!0,xo(ge,"resize",jo),me||xo(ge,"scroll",zo),Ee&&xo(e,"refreshInit",Ee),!1!==t&&(_e.progress=xe=0,o=a=Se=Ae()),!1!==n&&_e.refresh())},_e.getTween=function(e){return e&&r?r.tween:O},_e.setPositions=function(e,t,n,r){if(ue){var i=ue.scrollTrigger,s=ue.duration(),o=i.end-i.start;e=i.start+o*e/s,t=i.start+o*t/s}_e.refresh(!1,!1,{start:zs(e,n&&!!_e._startClamp),end:zs(t,n&&!!_e._endClamp)},r),_e.update()},_e.adjustPinSpacing=function(e){if(k&&e){var t=k.indexOf(de.d)+1;k[t]=parseFloat(k[t])+e+Do,k[1]=parseFloat(k[1])+e+Do,la(k)}},_e.disable=function(t,n){if(_e.enabled&&(!1!==t&&_e.revert(!0,!0),_e.enabled=_e.isActive=!1,n||O&&O.pause(),B=0,i&&(i.uncache=1),Ee&&Ao(e,"refreshInit",Ee),P&&(P.pause(),r.tween&&r.tween.kill()&&(r.tween=0)),!me)){for(var s=Po.length;s--;)if(Po[s].scroller===ge&&Po[s]!==_e)return;Ao(ge,"resize",jo),me||Ao(ge,"scroll",zo)}},_e.kill=function(e,r){_e.disable(e,r),O&&!r&&O.kill(),K&&delete Bo[K];var s=Po.indexOf(_e);s>=0&&Po.splice(s,1),s===hs&&na>0&&hs--,s=0,Po.forEach((function(e){return e.scroller===_e.scroller&&(s=1)})),s||Is||(_e.scroll.rec=0),n&&(n.scrollTrigger=null,e&&n.revert({kill:!1}),r||n.kill()),c&&[c,h,d,f].forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),Ms===_e&&(Ms=0),Z&&(i&&(i.uncache=1),s=0,Po.forEach((function(e){return e.pin===Z&&s++})),s||(i.spacer=0)),t.onKill&&t.onKill(_e)},Po.push(_e),_e.enable(!1,!1),U&&U(_e),n&&n.add&&!m){var Me=_e.update;_e.update=function(){_e.update=Me,xi.cache++,l||u||_e.refresh()},Xi.delayedCall(.01,_e.update),m=.01,l=u=0}else _e.refresh();Z&&function(){if(Ls!==Qo){var e=Ls=Qo;requestAnimationFrame((function(){return e===Qo&&ea(!0)}))}}()}else this.update=this.refresh=this.kill=qs},e.register=function(t){return Qi||(Xi=t||Ws(),Gs()&&window.document&&e.enable(),Qi=Bs),Qi},e.defaults=function(e){if(e)for(var t in e)Lo[t]=e[t];return Lo},e.disable=function(e,t){Bs=0,Po.forEach((function(n){return n[t?"kill":"disable"](e)})),Ao(Ji,"wheel",zo),Ao(Zi,"scroll",zo),clearInterval(as),Ao(Zi,"touchcancel",qs),Ao(ts,"touchstart",qs),ko(Ao,Zi,"pointerdown,touchstart,mousedown",js),ko(Ao,Zi,"pointerup,touchend,mouseup",$s),rs.kill(),Js(Ao);for(var n=0;n<xi.length;n+=3)Fo(Ao,xi[n],xi[n+1]),Fo(Ao,xi[n],xi[n+2])},e.enable=function(){if(Ji=window,Zi=document,es=Zi.documentElement,ts=Zi.body,Xi&&(is=Xi.utils.toArray,ss=Xi.utils.clamp,Es=Xi.core.context||qs,ms=Xi.core.suppressOverwrites||qs,Cs=Ji.history.scrollRestoration||"auto",ta=Ji.pageYOffset||0,Xi.core.globals("ScrollTrigger",e),ts)){Bs=1,(Ts=document.createElement("div")).style.height="100vh",Ts.style.position="absolute",Jo(),Us(),Yi.register(Xi),e.isTouch=Yi.isTouch,_s=Yi.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),bs=1===Yi.isTouch,xo(Ji,"wheel",zo),ns=[Ji,Zi,es,ts],Xi.matchMedia?(e.matchMedia=function(e){var t,n=Xi.matchMedia();for(t in e)n.add(t,e[t]);return n},Xi.addEventListener("matchMediaInit",(function(){return Yo()})),Xi.addEventListener("matchMediaRevert",(function(){return Ko()})),Xi.addEventListener("matchMedia",(function(){ea(0,1),Go("matchMedia")})),Xi.matchMedia().add("(orientation: portrait)",(function(){return Uo(),Uo}))):console.warn("Requires GSAP 3.11.0 or later"),Uo(),xo(Zi,"scroll",zo);var t,n,r=ts.hasAttribute("style"),i=ts.style,s=i.borderTopStyle,o=Xi.core.Animation.prototype;for(o.revert||Object.defineProperty(o,"revert",{value:function(){return this.time(-.01,!0)}}),i.borderTopStyle="solid",t=Eo(ts),Ui.m=Math.round(t.top+Ui.sc())||0,zi.m=Math.round(t.left+zi.sc())||0,s?i.borderTopStyle=s:i.removeProperty("border-top-style"),r||(ts.setAttribute("style",""),ts.removeAttribute("style")),as=setInterval(Vo,250),Xi.delayedCall(.5,(function(){return Os=0})),xo(Zi,"touchcancel",qs),xo(ts,"touchstart",qs),ko(xo,Zi,"pointerdown,touchstart,mousedown",js),ko(xo,Zi,"pointerup,touchend,mouseup",$s),cs=Xi.utils.checkPrefix("transform"),sa.push(cs),Qi=Rs(),rs=Xi.delayedCall(.2,ea).pause(),gs=[Zi,"visibilitychange",function(){var e=Ji.innerWidth,t=Ji.innerHeight;Zi.hidden?(ds=e,fs=t):ds===e&&fs===t||jo()},Zi,"DOMContentLoaded",ea,Ji,"load",ea,Ji,"resize",jo],Js(xo),Po.forEach((function(e){return e.enable(0,1)})),n=0;n<xi.length;n+=3)Fo(Ao,xi[n],xi[n+1]),Fo(Ao,xi[n],xi[n+2])}},e.config=function(t){"limitCallbacks"in t&&(As=!!t.limitCallbacks);var n=t.syncInterval;n&&clearInterval(as)||(as=n)&&setInterval(Vo,n),"ignoreMobileResize"in t&&(bs=1===e.isTouch&&t.ignoreMobileResize),"autoRefreshEvents"in t&&(Js(Ao)||Js(xo,t.autoRefreshEvents||"none"),ys=-1===(t.autoRefreshEvents+"").indexOf("resize"))},e.scrollerProxy=function(e,t){var n=ji(e),r=xi.indexOf(n),i=Ks(n);~r&&xi.splice(r,i?6:2),t&&(i?Ai.unshift(Ji,t,ts,t,es,t):Ai.unshift(n,t))},e.clearMatchMedia=function(e){Po.forEach((function(t){return t._ctx&&t._ctx.query===e&&t._ctx.kill(!0,!0)}))},e.isInViewport=function(e,t,n){var r=(Zs(e)?ji(e):e).getBoundingClientRect(),i=r[n?uo:co]*t||0;return n?r.right-i>0&&r.left+i<Ji.innerWidth:r.bottom-i>0&&r.top+i<Ji.innerHeight},e.positionInViewport=function(e,t,n){Zs(e)&&(e=ji(e));var r=e.getBoundingClientRect(),i=r[n?uo:co],s=null==t?i/2:t in Mo?Mo[t]*i:~t.indexOf("%")?parseFloat(t)*i/100:parseFloat(t)||0;return n?(r.left+s)/Ji.innerWidth:(r.top+s)/Ji.innerHeight},e.killAll=function(e){if(Po.slice(0).forEach((function(e){return"ScrollSmoother"!==e.vars.id&&e.kill()})),!0!==e){var t=$o.killAll||[];$o={},t.forEach((function(e){return e()}))}},e}();ya.version="3.12.7",ya.saveStyles=function(e){return e?is(e).forEach((function(e){if(e&&e.style){var t=Wo.indexOf(e);t>=0&&Wo.splice(t,5),Wo.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),Xi.core.getCache(e),Es())}})):Wo},ya.revert=function(e,t){return Yo(!e,t)},ya.create=function(e,t){return new ya(e,t)},ya.refresh=function(e){return e?jo(!0):(Qi||ya.register())&&ea(!0)},ya.update=function(e){return++xi.cache&&ra(!0===e?2:0)},ya.clearScrollMemory=Xo,ya.maxScroll=function(e,t){return Qs(e,t?zi:Ui)},ya.getScrollFunc=function(e,t){return $i(ji(e),t?zi:Ui)},ya.getById=function(e){return Bo[e]},ya.getAll=function(){return Po.filter((function(e){return"ScrollSmoother"!==e.vars.id}))},ya.isScrolling=function(){return!!Ps},ya.snapDirectional=So,ya.addEventListener=function(e,t){var n=$o[e]||($o[e]=[]);~n.indexOf(t)||n.push(t)},ya.removeEventListener=function(e,t){var n=$o[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},ya.batch=function(e,t){var n,r=[],i={},s=t.interval||.016,o=t.batchMax||1e9,a=function(e,t){var n=[],r=[],i=Xi.delayedCall(s,(function(){t(n,r),n=[],r=[]})).pause();return function(e){n.length||i.restart(!0),n.push(e.trigger),r.push(e),o<=n.length&&i.progress(1)}};for(n in t)i[n]="on"===n.substr(0,2)&&eo(t[n])&&"onRefreshInit"!==n?a(0,t[n]):t[n];return eo(o)&&(o=o(),xo(ya,"refresh",(function(){return o=t.batchMax()}))),is(e).forEach((function(e){var t={};for(n in i)t[n]=i[n];t.trigger=e,r.push(ya.create(t))})),r};var va,ba=function(e,t,n,r){return t>r?e(r):t<0&&e(0),n>r?(r-t)/(n-t):n<0?t/(t-n):1},Da=function e(t,n){!0===n?t.style.removeProperty("touch-action"):t.style.touchAction=!0===n?"auto":n?"pan-"+n+(Yi.isTouch?" pinch-zoom":""):"none",t===es&&e(ts,n)},wa={auto:1,scroll:1},_a=function(e){var t,n=e.event,r=e.target,i=e.axis,s=(n.changedTouches?n.changedTouches[0]:n).target,o=s._gsap||Xi.core.getCache(s),a=Rs();if(!o._isScrollT||a-o._isScrollT>2e3){for(;s&&s!==ts&&(s.scrollHeight<=s.clientHeight&&s.scrollWidth<=s.clientWidth||!wa[(t=wo(s)).overflowY]&&!wa[t.overflowX]);)s=s.parentNode;o._isScroll=s&&s!==r&&!Ks(s)&&(wa[(t=wo(s)).overflowY]||wa[t.overflowX]),o._isScrollT=a}(o._isScroll||"x"===i)&&(n.stopPropagation(),n._gsapAllow=!0)},Ea=function(e,t,n,r){return Yi.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:r=r&&_a,onPress:r,onDrag:r,onScroll:r,onEnable:function(){return n&&xo(Zi,Yi.eventTypes[0],Ta,!1,!0)},onDisable:function(){return Ao(Zi,Yi.eventTypes[0],Ta,!0)}})},Ca=/(input|label|select|textarea)/i,Ta=function(e){var t=Ca.test(e.target.tagName);(t||va)&&(e._gsapAllow=!0,va=t)},Sa=function(e){no(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t,n,r,i,s,o,a,l,u=e,c=u.normalizeScrollX,h=u.momentum,d=u.allowNestedScroll,f=u.onRelease,g=ji(e.target)||es,p=Xi.core.globals().ScrollSmoother,m=p&&p.get(),y=_s&&(e.content&&ji(e.content)||m&&!1!==e.content&&!m.smooth()&&m.content()),v=$i(g,Ui),b=$i(g,zi),D=1,w=(Yi.isTouch&&Ji.visualViewport?Ji.visualViewport.scale*Ji.visualViewport.width:Ji.outerWidth)/Ji.innerWidth,_=0,E=eo(h)?function(){return h(t)}:function(){return h||2.8},C=Ea(g,e.type,!0,d),T=function(){return i=!1},S=qs,k=qs,x=function(){n=Qs(g,Ui),k=ss(_s?1:0,n),c&&(S=ss(0,Qs(g,zi))),r=Qo},A=function(){y._gsap.y=Hs(parseFloat(y._gsap.y)+v.offset)+"px",y.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(y._gsap.y)+", 0, 1)",v.offset=v.cacheID=0},F=function(){x(),s.isActive()&&s.vars.scrollY>n&&(v()>n?s.progress(1)&&v(n):s.resetTo("scrollY",n))};return y&&Xi.set(y,{y:"+=0"}),e.ignoreCheck=function(e){return _s&&"touchmove"===e.type&&function(){if(i){requestAnimationFrame(T);var e=Hs(t.deltaY/2),n=k(v.v-e);if(y&&n!==v.v+v.offset){v.offset=n-v.v;var r=Hs((parseFloat(y&&y._gsap.y)||0)-v.offset);y.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+r+", 0, 1)",y._gsap.y=r+"px",v.cacheID=xi.cache,ra()}return!0}v.offset&&A(),i=!0}()||D>1.05&&"touchstart"!==e.type||t.isGesturing||e.touches&&e.touches.length>1},e.onPress=function(){i=!1;var e=D;D=Hs((Ji.visualViewport&&Ji.visualViewport.scale||1)/w),s.pause(),e!==D&&Da(g,D>1.01||!c&&"x"),o=b(),a=v(),x(),r=Qo},e.onRelease=e.onGestureStart=function(e,t){if(v.offset&&A(),t){xi.cache++;var r,i,o=E();c&&(i=(r=b())+.05*o*-e.velocityX/.227,o*=ba(b,r,i,Qs(g,zi)),s.vars.scrollX=S(i)),i=(r=v())+.05*o*-e.velocityY/.227,o*=ba(v,r,i,Qs(g,Ui)),s.vars.scrollY=k(i),s.invalidate().duration(o).play(.01),(_s&&s.vars.scrollY>=n||r>=n-1)&&Xi.to({},{onUpdate:F,duration:o})}else l.restart(!0);f&&f(e)},e.onWheel=function(){s._ts&&s.pause(),Rs()-_>1e3&&(r=0,_=Rs())},e.onChange=function(e,t,n,i,s){if(Qo!==r&&x(),t&&c&&b(S(i[2]===t?o+(e.startX-e.x):b()+t-i[1])),n){v.offset&&A();var l=s[2]===n,u=l?a+e.startY-e.y:v()+n-s[1],h=k(u);l&&u!==h&&(a+=h-u),v(h)}(n||t)&&ra()},e.onEnable=function(){Da(g,!c&&"x"),ya.addEventListener("refresh",F),xo(Ji,"resize",F),v.smooth&&(v.target.style.scrollBehavior="auto",v.smooth=b.smooth=!1),C.enable()},e.onDisable=function(){Da(g,!0),Ao(Ji,"resize",F),ya.removeEventListener("refresh",F),C.kill()},e.lockAxis=!1!==e.lockAxis,(t=new Yi(e)).iOS=_s,_s&&!v()&&v(1),_s&&Xi.ticker.add(qs),l=t._dc,s=Xi.to(t,{ease:"power4",paused:!0,inherit:!1,scrollX:c?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:ga(v,v(),(function(){return s.pause()}))},onUpdate:ra,onComplete:l.vars.onComplete}),t};ya.sort=function(e){if(eo(e))return Po.sort(e);var t=Ji.pageYOffset||0;return ya.getAll().forEach((function(e){return e._sortY=e.trigger?t+e.trigger.getBoundingClientRect().top:e.start+Ji.innerHeight})),Po.sort(e||function(e,t){return-1e6*(e.vars.refreshPriority||0)+(e.vars.containerAnimation?1e6:e._sortY)-((t.vars.containerAnimation?1e6:t._sortY)+-1e6*(t.vars.refreshPriority||0))})},ya.observe=function(e){return new Yi(e)},ya.normalizeScroll=function(e){if(void 0===e)return vs;if(!0===e&&vs)return vs.enable();if(!1===e)return vs&&vs.kill(),void(vs=e);var t=e instanceof Yi?e:Sa(e);return vs&&vs.target===t.target&&vs.kill(),Ks(t.target)&&(vs=t),t},ya.core={_getVelocityProp:qi,_inputObserver:Ea,_scrollers:xi,_proxies:Ai,bridge:{ss:function(){Ps||Go("scrollStart"),Ps=Rs()},ref:function(){return ls}}},Ws()&&Xi.registerPlugin(ya);
/*!
 * strings: 3.12.7
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/
var ka=/(?:^\s+|\s+$)/g,xa=/([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2642\u2640]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDD27\uDCBC\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCC\uDFCB]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/;function Aa(e,t,n,r,i){for(var s,o=e.firstChild,a=[];o;)3===o.nodeType?(s=(o.nodeValue+"").replace(/^\n+/g,""),r||(s=s.replace(/\s+/g," ")),a.push.apply(a,Fa(s,t,n,r,i))):"br"===(o.nodeName+"").toLowerCase()?a[a.length-1]+="<br>":a.push(o.outerHTML),o=o.nextSibling;if(!i)for(s=a.length;s--;)"&"===a[s]&&a.splice(s,1,"&amp;");return a}function Fa(e,t,n,r,i){if(e+="",n&&(e=e.trim?e.trim():e.replace(ka,"")),t&&""!==t)return e.replace(/>/g,"&gt;").replace(/</g,"&lt;").split(t);for(var s,o,a=[],l=e.length,u=0;u<l;u++)((o=e.charAt(u)).charCodeAt(0)>=55296&&o.charCodeAt(0)<=56319||e.charCodeAt(u+1)>=65024&&e.charCodeAt(u+1)<=65039)&&(s=((e.substr(u,12).split(xa)||[])[1]||"").length||2,o=e.substr(u,s),a.emoji=1,u+=s-1),a.push(i?o:">"===o?"&gt;":"<"===o?"&lt;":!r||" "!==o||" "!==e.charAt(u-1)&&" "!==e.charAt(u+1)?o:"&nbsp;");return a}
/*!
 * TextPlugin 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Ia,La,Ma={version:"3.12.7",name:"text",init:function(e,t,n){"object"!=typeof t&&(t={value:t});var r,i,s,o,a,l,u,c,h=e.nodeName.toUpperCase(),d=this,f=t,g=f.newClass,p=f.oldClass,m=f.preserveSpaces,y=f.rtl,v=d.delimiter=t.delimiter||"",b=d.fillChar=t.fillChar||(t.padSpace?"&nbsp;":"");if(d.svg=e.getBBox&&("TEXT"===h||"TSPAN"===h),!("innerHTML"in e)&&!d.svg)return!1;if(d.target=e,"value"in t){for(s=Aa(e,v,!1,m,d.svg),La||(La=document.createElement("div")),La.innerHTML=t.value,i=Aa(La,v,!1,m,d.svg),d.from=n._from,!d.from&&!y||y&&d.from||(h=s,s=i,i=h),d.hasClass=!(!g&&!p),d.newClass=y?p:g,d.oldClass=y?g:p,r=(h=s.length-i.length)<0?s:i,h<0&&(h=-h);--h>-1;)r.push(b);if("diff"===t.type){for(o=0,a=[],l=[],u="",h=0;h<i.length;h++)(c=i[h])===s[h]?u+=c:(a[o]=u+c,l[o++]=u+s[h],u="");i=a,s=l,u&&(i.push(u),s.push(u))}t.speed&&n.duration(Math.min(.05/t.speed*r.length,t.maxDuration||9999)),d.rtl=y,d.original=s,d.text=i,d._props.push("text")}else d.text=d.original=[""]},render:function(e,t){e>1?e=1:e<0&&(e=0),t.from&&(e=1-e);var n,r,i,s=t.text,o=t.hasClass,a=t.newClass,l=t.oldClass,u=t.delimiter,c=t.target,h=t.fillChar,d=t.original,f=t.rtl,g=s.length,p=(f?1-e:e)*g+.5|0;o&&e?(r=l&&p!==g,i=((n=a&&p)?"<span class='"+a+"'>":"")+s.slice(0,p).join(u)+(n?"</span>":"")+(r?"<span class='"+l+"'>":"")+u+d.slice(p).join(u)+(r?"</span>":"")):i=s.slice(0,p).join(u)+u+d.slice(p).join(u),t.svg?c.textContent=i:c.innerHTML="&nbsp;"===h&&~i.indexOf("  ")?i.split("  ").join("&nbsp;&nbsp;"):i}};Ma.splitInnerHTML=Aa,Ma.emojiSafeSplit=Fa,Ma.getText=function e(t){var n=t.nodeType,r="";if(1===n||9===n||11===n){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)r+=e(t)}else if(3===n||4===n)return t.nodeValue;return r},(Ia||"undefined"!=typeof window&&(Ia=window.gsap)&&Ia.registerPlugin&&Ia)&&Ia.registerPlugin(Ma);const Oa=0,Ra=1,Na=2,Pa=3,Ba=4,Va=5,za={globalLogLevel:Na,enableConsoleLogs:!0,moduleLogLevels:{animation:Na,background:Na,i18n:Pa,app:Ra,forms:Ra,ui:Na,performance:Ra},timestampFormat:!0,showModuleName:!0};const Ua=new class{constructor(){this.config={...za},this.originalConsoleMethods={log:console.log,info:console.info,warn:console.warn,error:console.error,debug:console.debug,trace:console.trace}}init(e={}){return this.config={...za,...e,moduleLogLevels:{...za.moduleLogLevels,...e.moduleLogLevels||{}}},this.checkUrlParameters(),this}checkUrlParameters(){try{const e=new URLSearchParams(window.location.search).get("log");if(e)if(e.includes(":")){const[t,n]=e.split(":"),r=this.getLogLevelFromString(n);void 0!==r&&(this.config.moduleLogLevels[t]=r,this.info("logger",`Set log level for module '${t}' to ${n.toUpperCase()}`))}else{const t=this.getLogLevelFromString(e);void 0!==t&&(this.config.globalLogLevel=t,this.info("logger",`Set global log level to ${e.toUpperCase()}`))}}catch(e){this.originalConsoleMethods.error("Error parsing log URL parameters:",e)}}getLogLevelFromString(e){return{trace:Oa,debug:Ra,info:Na,warn:Pa,error:Ba,none:Va}[e.toLowerCase()]}getEffectiveLogLevel(e){return e&&void 0!==this.config.moduleLogLevels[e]?this.config.moduleLogLevels[e]:this.config.globalLogLevel}formatLogMessage(e,t){const n=[...t];let r="";if(this.config.timestampFormat){r+=`[${(new Date).toISOString()}] `}return this.config.showModuleName&&e&&(r+=`[${e}] `),r&&("string"==typeof n[0]?n[0]=r+n[0]:n.unshift(r)),n}isLevelEnabled(e,t){return t>=this.getEffectiveLogLevel(e)&&this.config.enableConsoleLogs}trace(e,...t){this.isLevelEnabled(e,Oa)&&this.originalConsoleMethods.trace(...this.formatLogMessage(e,t))}debug(e,...t){this.isLevelEnabled(e,Ra)&&this.originalConsoleMethods.debug(...this.formatLogMessage(e,t))}info(e,...t){this.isLevelEnabled(e,Na)&&this.originalConsoleMethods.info(...this.formatLogMessage(e,t))}warn(e,...t){this.isLevelEnabled(e,Pa)&&this.originalConsoleMethods.warn(...this.formatLogMessage(e,t))}error(e,...t){this.isLevelEnabled(e,Ba)&&this.originalConsoleMethods.error(...this.formatLogMessage(e,t))}getModuleLogger(e){return{trace:(...t)=>this.trace(e,...t),debug:(...t)=>this.debug(e,...t),info:(...t)=>this.info(e,...t),warn:(...t)=>this.warn(e,...t),error:(...t)=>this.error(e,...t),group:(t,n=!1)=>{this.isLevelEnabled(e,Ra)&&(n?console.groupCollapsed(`[${e}] ${t}`):console.group(`[${e}] ${t}`))},groupEnd:()=>{this.isLevelEnabled(e,Ra)&&console.groupEnd()},time:t=>{this.isLevelEnabled(e,Ra)&&console.time(`[${e}] ${t}`)},timeEnd:t=>{this.isLevelEnabled(e,Ra)&&console.timeEnd(`[${e}] ${t}`)},dir:(t,n={})=>{this.isLevelEnabled(e,Ra)&&console.dir(t,n)},get isTraceEnabled(){return this.isLevelEnabled(e,Oa)},get isDebugEnabled(){return this.isLevelEnabled(e,Ra)},get isInfoEnabled(){return this.isLevelEnabled(e,Na)},get isWarnEnabled(){return this.isLevelEnabled(e,Pa)},get isErrorEnabled(){return this.isLevelEnabled(e,Ba)}}}setModuleLogLevel(e,t){this.config.moduleLogLevels[e]=t}setGlobalLogLevel(e){this.config.globalLogLevel=e}enableLogs(e){this.config.enableConsoleLogs=e}};Ua.init(),ci.registerPlugin(ya,Ma);const ja=new class{constructor(){this.logger=Ua.getModuleLogger("animation-utilities"),this.logger.info("AnimationUtilities initialized"),this.defaults={duration:.8,opacity:{from:0,to:1},ease:"ease-out",stagger:100},this.animatedElements=new Set,this.intersectionObserver=null,this.logger.debug("Animated elements tracking initialized with defaults",this.defaults)}setupRevealAnimations(){this.logger.debug("Setting up reveal animations with GSAP");const e=window.location.pathname;if(["/privacy.html","/terms.html","/about.html","privacy.html","terms.html","about.html"].some((t=>e.endsWith(t))))return this.logger.debug("Legal page detected, skipping animation setup"),void document.querySelectorAll("[data-animation]").forEach((e=>{e.style.opacity="1",e.style.transform="none",e.style.animation="none",e.style.transition="none",e.classList.add("animated")}));const t=window.innerWidth<768,n=['#collaborative h2[data-i18n="collaborative.title"]','#feedback h2[data-i18n="feedback.title"]','h2[data-i18n="feedback.title"]'].join(", "),r=document.querySelectorAll("[data-animation]:not("+n+")");this.logger.debug(`Found ${r.length} elements with data-animation attribute`),r.forEach((e=>{if(this.animatedElements.has(e))return void this.logger.trace("Skipping already animated element",{element:e.tagName,id:e.id,class:e.className});const n=e.getAttribute("data-animation"),r=parseFloat(e.getAttribute("data-animation-delay")||0)/1e3,i=parseFloat(e.getAttribute("data-animation-duration")||this.defaults.duration),s="H1"===e.tagName||"H2"===e.tagName||"H3"===e.tagName||"P"===e.tagName||e.classList.contains("text-animate");this.logger.trace("Setting up GSAP animation for element",{element:e.tagName,id:e.id,class:e.className,type:n,delay:r,duration:i,isText:s}),this.animatedElements.add(e);const o=null!==e.closest(".gaming-sessions-grid-placeholder"),a=e.classList.contains("features-description")&&"features.description"===e.getAttribute("data-i18n");let l={opacity:o?1:0,willChange:"transform, opacity"};a&&(l={opacity:0,willChange:"opacity"});let u={opacity:1,ease:"power3.out",duration:i,delay:r,onComplete:()=>{e.style.willChange="auto",e.classList.add("animated"),this.logger.trace("Animation completed for element",{element:e.tagName,id:e.id})}};switch(n){case"up":l.y=20,u.y=0,u.ease="linear",u.duration=.4;break;case"down":l.y=-20,u.y=0,u.ease="linear",u.duration=.4;break;case"left":l.x=-30,u.x=0,u.ease="linear",u.duration=.4;break;case"right":l.x=o?100:30,u.x=0,u.ease="linear",u.duration=.4;break;case"scale":l.scale=.95,u.scale=1,u.ease="linear",u.duration=.4;break;case"text":case"split":if(t)return e.style.opacity="1",e.style.transform="none",e.style.willChange="auto",void e.classList.add("animated");if(e.textContent&&e.textContent.length<40){const t=[...e.textContent],n=e.textContent;return e.textContent="",e.style.opacity="1",void ci.timeline({scrollTrigger:{trigger:e,start:"top 85%",once:!0}}).to(e,{text:n,duration:Math.min(.02*t.length,1),ease:"linear"})}a?(l={opacity:0,willChange:"opacity"},u.ease="linear",u.duration=.8):(l.y=15,u.y=0,u.ease="linear",u.duration=.4);break;default:u.ease="linear",u.duration=.4}ci.set(e,l),ya.create({trigger:e,start:"top 95%",once:!0,onEnter:()=>{this.logger.trace("Triggering animation for element",{element:e.tagName,id:e.id}),ci.to(e,u)}})})),this.setupHeadingAnimations(),this.logger.debug("GSAP reveal animations setup complete")}setupHeadingAnimations(){this.logger.debug("Setting up heading animations");const e=window.location.pathname;if(["/privacy.html","/terms.html","/about.html","privacy.html","terms.html","about.html"].some((t=>e.endsWith(t))))return void this.logger.debug("Legal page detected, skipping heading animations");if(window.innerWidth<768)return void this.logger.debug("Mobile view detected, skipping heading animations");const t=document.querySelectorAll("h1.heading-animate, h2.heading-animate, .section-title");this.logger.debug(`Found ${t.length} headings for special animations`),t.forEach((e=>{if(this.animatedElements.has(e))return;this.animatedElements.add(e);const t=parseFloat(e.getAttribute("data-animation-delay")||0)/1e3;ci.set(e,{opacity:0,y:15,willChange:"transform, opacity"}),ya.create({trigger:e,start:"top 85%",once:!0,onEnter:()=>{ci.to(e,{opacity:1,y:0,duration:.6,delay:t,ease:"power2.out",onComplete:()=>{e.style.willChange="auto",e.classList.add("animated")}})}})})),this.logger.debug("Heading animations setup complete")}setupStaggeredReveal(e,t,n={}){this.logger.debug(`Setting up staggered reveal for ${e} > ${t}`);const r=window.location.pathname;if(["/privacy.html","/terms.html","/about.html","privacy.html","terms.html","about.html"].some((e=>r.endsWith(e)))){this.logger.debug("Legal page detected, skipping staggered animations");const n=document.querySelector(e);if(n){n.querySelectorAll(t).forEach((e=>{e.style.opacity="1",e.style.transform="none",e.style.animation="none",e.style.transition="none",e.classList.add("animated")}))}return}const i=window.innerWidth<768&&n.simplifyOnMobile,s=document.querySelector(e);if(!s)return void this.logger.warn(`Container not found: ${e}`);const o=s.querySelectorAll(t);if(0===o.length)return void this.logger.debug(`No items found for ${e} > ${t}`);this.logger.debug(`Found ${o.length} items for staggered animation`);const a={opacity:0,y:0,x:0,scale:1,stagger:100,duration:.6,ease:"power2.out",start:"80%",simplifyOnMobile:!0,...n};if(o.forEach((e=>this.animatedElements.add(e))),i)return this.logger.debug("Using simplified animations for mobile"),ci.set(o,{opacity:0}),void ya.create({trigger:s,start:`top ${a.start}`,once:!0,onEnter:()=>{ci.to(o,{opacity:1,duration:.4,ease:"linear",onComplete:()=>{o.forEach((e=>e.classList.add("animated")))}})}});const l={opacity:0,willChange:"transform, opacity"};a.y&&(l.y=a.y),a.x&&(l.x=a.x),1!==a.scale&&(l.scale=a.scale),ci.set(o,l),ya.create({trigger:s,start:`top ${a.start}`,once:!0,onEnter:()=>{ci.to(o,{opacity:1,y:0,x:0,scale:1,duration:a.duration,stagger:a.stagger/1e3,ease:a.ease,onComplete:function(){o.forEach((e=>{e.style.willChange="auto",e.classList.add("animated")}))}})}}),this.logger.debug("Staggered reveal animation setup complete")}setupSplitScreenAnimation(e,t,n){this.logger.debug(`Setting up split screen animation for ${e}`);const r=window.location.pathname;if(["/privacy.html","/terms.html","/about.html","privacy.html","terms.html","about.html"].some((e=>r.endsWith(e)))){this.logger.debug("Legal page detected, skipping split screen animation");const r=document.querySelector(e);if(r){const e=r.querySelector(t),i=r.querySelector(n);e&&(e.style.opacity="1",e.style.transform="none",e.style.animation="none",e.style.transition="none",e.classList.add("animated")),i&&(i.style.opacity="1",i.style.transform="none",i.style.animation="none",i.style.transition="none",i.classList.add("animated"))}return}const i=document.querySelector(e);if(!i)return void this.logger.warn(`Split screen container not found: ${e}`);const s=i.querySelector(t),o=i.querySelector(n);s||this.logger.warn(`Left panel not found: ${t}`),o||this.logger.warn(`Right panel not found: ${n}`),(s||o)&&(s&&this.animatedElements.add(s),o&&this.animatedElements.add(o),s&&ci.set(s,{opacity:0,x:-30,willChange:"transform, opacity"}),o&&ci.set(o,{opacity:0,x:30,willChange:"transform, opacity"}),ya.create({trigger:i,start:"top 85%",once:!0,onEnter:()=>{s&&ci.to(s,{opacity:1,x:0,duration:.6,ease:"power2.out",onComplete:()=>{s.style.willChange="auto",s.classList.add("animated")}}),o&&ci.to(o,{opacity:1,x:0,duration:.6,delay:.15,ease:"power2.out",onComplete:()=>{o.style.willChange="auto",o.classList.add("animated")}})}}),this.logger.debug("Split screen animation setup complete"))}};const $a=new class{constructor(){this.isInitialized=!1,this.heroLoaded=!1,this.logger=Ua.getModuleLogger("animation-manager"),this.logger.info("ApplicationAnimationManager instance created"),this.isLegalPage=this.checkIfLegalPage(),this.animationPresets={"fade-in":{type:"fade",duration:.4},"slide-up":{type:"up",duration:.4},"slide-left":{type:"left",duration:.4},"slide-right":{type:"right",duration:.4},"scale-in":{type:"scale",duration:.4},"type-text":{type:"text",duration:.6}}}init(){if(this.isInitialized?(this.logger.info("Reinitializing AnimationManager"),this.heroLoaded=!1):this.logger.info("Initializing animation manager for the first time"),this.isLegalPage)return this.logger.info("Legal page detected, disabling animations"),void(this.isInitialized=!0);this.isMobileView=window.innerWidth<768,this.isMobileView&&this.logger.info("Mobile view detected - text animations will be disabled"),this.logger.time("animation-manager-initialization");try{document.querySelectorAll(".stagger-children > *").forEach((e=>{e.classList.contains("animated")||e.classList.add("pending-animation")})),this.logger.debug("Resetting existing animations"),document.querySelectorAll(".animated").forEach((e=>{e.classList.remove("animated")})),this.logger.debug("Setting up reveal animations"),this.setupRevealAnimations(),this.logger.debug("Setting up hero animation"),this.setupHeroAnimation(),this.logger.info("Animation manager initialization complete")}catch(e){this.logger.error("Animation manager initialization failed",e)}finally{this.isInitialized=!0,this.logger.timeEnd("animation-manager-initialization")}}setupRevealAnimations(){this.logger.debug("Setting up all reveal animations"),this.logger.time("reveal-animations-setup"),this.logger.debug("Setting up base reveal animations"),ja.setupRevealAnimations(),this.logger.debug("Feature cards animations have been removed"),this.logger.debug("Setting up feedback section animations"),ja.setupStaggeredReveal(".feedback-section",'.feedback-container > *:not(.hidden):not(h2[data-i18n="feedback.title"])',{y:30,stagger:100,start:"75%"});const e=document.querySelector('h2[data-i18n="feedback.title"]');e&&(e.style.opacity="1",e.style.transform="none",e.style.animation="none",e.style.transition="none",e.style.translate="none",e.style.rotate="none",e.style.scale="none",e.classList.add("animated"),this.logger.debug("Feedback title set to display without animation")),this.logger.timeEnd("reveal-animations-setup")}setupHeroAnimation(){this.logger.debug("Setting up hero section with immediate display"),this.logger.time("hero-setup");const e=document.querySelector("#hero");if(!e)return this.logger.warn("Hero section not found"),void this.logger.timeEnd("hero-setup");this.isMobileView&&this.logger.debug("Mobile view detected - making hero immediately visible");const t=e.querySelectorAll(".hero-title, .hero-subtitle, .hero-description, .hero-cta, [data-animation]");this.logger.debug(`Found ${t.length} hero elements for immediate display`),t.forEach((e=>{e.classList.remove("will-animate"),e.classList.add("animated"),e.style.opacity="1",e.style.transform="none",e.style.animation="none",e.style.transition="none",e.style.removeProperty("will-change");const t=e.querySelectorAll('.char, span[data-animation], [class*="animated"]');t.length&&(this.logger.debug(`Making ${t.length} child elements immediately visible`),t.forEach((e=>{e.style.opacity="1",e.style.transform="none",e.style.animation="none",e.style.transition="none",e.classList.add("animated")})))}));const n=e.querySelector(".hero-title");n&&n.classList.add("hero-title-gradient"),this.heroLoaded=!0,this.logger.debug("All hero elements set to display immediately"),this.logger.timeEnd("hero-setup")}applyAnimation(e,t){if(!e)return void this.logger.warn("Cannot apply animation: No element provided");if(this.isLegalPage)return e.style.opacity="1",e.style.transform="none",e.style.animation="none",e.style.transition="none",void e.classList.add("animated");this.animationPresets[t]||(this.logger.warn(`Unknown animation preset: ${t}, falling back to fade-in`),t="fade-in");const n=this.animationPresets[t];e.setAttribute("data-animation",n.type),e.setAttribute("data-animation-duration",n.duration),this.isInitialized?ja.setupRevealAnimations():this.init(),this.logger.debug(`Applied animation preset '${t}' to element`,{element:e.tagName,id:e.id,class:e.className})}animateGroup(e,t,n={}){if(this.logger.debug(`Setting up group animation for ${e} > ${t}`),this.isLegalPage){const n=document.querySelector(e);if(n){n.querySelectorAll(t).forEach((e=>{e.style.opacity="1",e.style.transform="none",e.style.animation="none",e.style.transition="none",e.classList.add("animated")}))}return}const r={direction:"up",staggerTime:150,duration:.8,...n};let i={stagger:r.staggerTime,duration:r.duration,start:r.start||"80%"};switch(r.direction){case"up":i.y=40;break;case"down":i.y=-40;break;case"left":i.x=50;break;case"right":i.x=-50;break;case"scale":i.scale=.8}ja.setupStaggeredReveal(e,t,i)}animateSplitPanels(e,t,n){if(this.logger.debug(`Setting up split panel animation: ${e}`),this.isLegalPage){const r=document.querySelector(e);if(r){const e=r.querySelector(t),i=r.querySelector(n);e&&(e.style.opacity="1",e.style.transform="none",e.style.animation="none",e.style.transition="none",e.classList.add("animated")),i&&(i.style.opacity="1",i.style.transform="none",i.style.animation="none",i.style.transition="none",i.classList.add("animated"))}}else ja.setupSplitScreenAnimation(e,t,n)}setupFeatureCardInteractions(){this.logger.debug("Feature card interactions have been removed")}checkIfLegalPage(){const e=window.location.pathname;return["/privacy.html","/terms.html","/about.html","privacy.html","terms.html","about.html"].some((t=>e.endsWith(t)))}},qa=function(e,t=""){e&&(e.dataset.originalText=e.innerHTML,e.dataset.originalDisabled=e.disabled,e.classList.add("is-loading"),e.disabled=!0,e.setAttribute("aria-busy","true"))},Ha=function(e){e&&(e.classList.remove("is-loading"),e.removeAttribute("aria-busy"),"originalText"in e.dataset&&(e.innerHTML=e.dataset.originalText,delete e.dataset.originalText),"originalDisabled"in e.dataset?(e.disabled="true"===e.dataset.originalDisabled,delete e.dataset.originalDisabled):e.disabled=!1)},Ga=function(e=".btn"){document.querySelectorAll(e).forEach((e=>{e.addEventListener("keydown",(t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),e.click())})),"a"===e.tagName.toLowerCase()&&e.setAttribute("role","button")}))};var Wa={};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ya={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,u=t>>2,c=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[u],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ka(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new Xa;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Xa extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Qa=function(e){return function(e){const t=Ka(e);return Ya.encodeByteArray(t,!0)}(e).replace(/\./g,"")};
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Ja=()=>
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Za=()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&function(e){try{return Ya.decodeString(e,!0)}catch(n){console.error("base64Decode failed: ",n)}return null}(e[1]);return t&&JSON.parse(t)},el=()=>{try{return Ja()||(()=>{if("undefined"==typeof process)return;const e=Wa.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||Za()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},tl=e=>{const t=(e=>{var t,n;return null===(n=null===(t=el())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},nl=()=>{var e;return null===(e=el())||void 0===e?void 0:e.config};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class rl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function sl(){return!function(){var e;const t=null===(e=el())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(n){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ol(){try{return"object"==typeof indexedDB}catch(e){return!1}}function al(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}function ll(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,ul.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cl.prototype.create)}}class cl{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],s=i?function(e,t){return e.replace(hl,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",o=`${this.serviceName}: ${s} (${r}).`;return new ul(r,o,n)}}const hl=/\{\$([^}]+)}/g;function dl(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(fl(n)&&fl(s)){if(!dl(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function fl(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(e,t=1e3,n=2){const r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(e){return e&&e._delegate?e._delegate:e}class ml{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new rl;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e))try{this.getOrInitializeService({instanceIdentifier:yl})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(e=yl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=yl){return this.instances.has(e)}getOptions(e=yl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===yl?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(i){}var r;return n||null}normalizeInstanceIdentifier(e=yl){return this.component?this.component.multipleInstances?e:yl:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class bl{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new vl(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dl,wl;(wl=Dl||(Dl={}))[wl.DEBUG=0]="DEBUG",wl[wl.VERBOSE=1]="VERBOSE",wl[wl.INFO=2]="INFO",wl[wl.WARN=3]="WARN",wl[wl.ERROR=4]="ERROR",wl[wl.SILENT=5]="SILENT";const _l={debug:Dl.DEBUG,verbose:Dl.VERBOSE,info:Dl.INFO,warn:Dl.WARN,error:Dl.ERROR,silent:Dl.SILENT},El=Dl.INFO,Cl={[Dl.DEBUG]:"log",[Dl.VERBOSE]:"log",[Dl.INFO]:"info",[Dl.WARN]:"warn",[Dl.ERROR]:"error"},Tl=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=Cl[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class Sl{constructor(e){this.name=e,this._logLevel=El,this._logHandler=Tl,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Dl))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?_l[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Dl.DEBUG,...e),this._logHandler(this,Dl.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Dl.VERBOSE,...e),this._logHandler(this,Dl.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Dl.INFO,...e),this._logHandler(this,Dl.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Dl.WARN,...e),this._logHandler(this,Dl.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Dl.ERROR,...e),this._logHandler(this,Dl.ERROR,...e)}}let kl,xl;const Al=new WeakMap,Fl=new WeakMap,Il=new WeakMap,Ll=new WeakMap,Ml=new WeakMap;let Ol={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Fl.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Il.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pl(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Rl(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(xl||(xl=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(Bl(this),t),Pl(Al.get(this))}:function(...t){return Pl(e.apply(Bl(this),t))}:function(t,...n){const r=e.call(Bl(this),t,...n);return Il.set(r,t.sort?t.sort():[t]),Pl(r)}}function Nl(e){return"function"==typeof e?Rl(e):(e instanceof IDBTransaction&&function(e){if(Fl.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));Fl.set(e,t)}(e),((e,t)=>t.some((t=>e instanceof t)))(e,kl||(kl=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Ol):e)}function Pl(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Pl(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&Al.set(t,e)})).catch((()=>{})),Ml.set(t,e),t}(e);if(Ll.has(e))return Ll.get(e);const t=Nl(e);return t!==e&&(Ll.set(e,t),Ml.set(t,e)),t}const Bl=e=>Ml.get(e);function Vl(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=Pl(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(Pl(o.result),e.oldVersion,e.newVersion,Pl(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}const zl=["get","getKey","getAll","getAllKeys","count"],Ul=["put","add","delete","clear"],jl=new Map;function $l(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(jl.get(t))return jl.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Ul.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!zl.includes(n))return;const s=async function(e,...t){const s=this.transaction(e,i?"readwrite":"readonly");let o=s.store;return r&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),i&&s.done]))[0]};return jl.set(t,s),s}var ql;ql=e=>({...e,get:(t,n,r)=>$l(t,n)||e.get(t,n,r),has:(t,n)=>!!$l(t,n)||e.has(t,n)}),Ol=ql(Ol);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Hl{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Gl="@firebase/app",Wl="0.11.2",Kl=new Sl("@firebase/app"),Yl="@firebase/app-compat",Xl="@firebase/analytics-compat",Ql="@firebase/analytics",Jl="@firebase/app-check-compat",Zl="@firebase/app-check",eu="@firebase/auth",tu="@firebase/auth-compat",nu="@firebase/database",ru="@firebase/data-connect",iu="@firebase/database-compat",su="@firebase/functions",ou="@firebase/functions-compat",au="@firebase/installations",lu="@firebase/installations-compat",uu="@firebase/messaging",cu="@firebase/messaging-compat",hu="@firebase/performance",du="@firebase/performance-compat",fu="@firebase/remote-config",gu="@firebase/remote-config-compat",pu="@firebase/storage",mu="@firebase/storage-compat",yu="@firebase/firestore",vu="@firebase/vertexai",bu="@firebase/firestore-compat",Du="firebase",wu="[DEFAULT]",_u={[Gl]:"fire-core",[Yl]:"fire-core-compat",[Ql]:"fire-analytics",[Xl]:"fire-analytics-compat",[Zl]:"fire-app-check",[Jl]:"fire-app-check-compat",[eu]:"fire-auth",[tu]:"fire-auth-compat",[nu]:"fire-rtdb",[ru]:"fire-data-connect",[iu]:"fire-rtdb-compat",[su]:"fire-fn",[ou]:"fire-fn-compat",[au]:"fire-iid",[lu]:"fire-iid-compat",[uu]:"fire-fcm",[cu]:"fire-fcm-compat",[hu]:"fire-perf",[du]:"fire-perf-compat",[fu]:"fire-rc",[gu]:"fire-rc-compat",[pu]:"fire-gcs",[mu]:"fire-gcs-compat",[yu]:"fire-fst",[bu]:"fire-fst-compat",[vu]:"fire-vertex","fire-js":"fire-js",[Du]:"fire-js-all"},Eu=new Map,Cu=new Map,Tu=new Map;function Su(e,t){try{e.container.addComponent(t)}catch(n){Kl.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ku(e){const t=e.name;if(Tu.has(t))return Kl.debug(`There were multiple attempts to register component ${t}.`),!1;Tu.set(t,e);for(const n of Eu.values())Su(n,e);for(const n of Cu.values())Su(n,e);return!0}function xu(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Au=new cl("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Fu{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ml("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Au.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(e,t={}){let n=e;if("object"!=typeof t){t={name:t}}const r=Object.assign({name:wu,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw Au.create("bad-app-name",{appName:String(i)});if(n||(n=nl()),!n)throw Au.create("no-options");const s=Eu.get(i);if(s){if(dl(n,s.options)&&dl(r,s.config))return s;throw Au.create("duplicate-app",{appName:i})}const o=new bl(i);for(const l of Tu.values())o.addComponent(l);const a=new Fu(n,r,o);return Eu.set(i,a),a}function Lu(e=wu){const t=Eu.get(e);if(!t&&e===wu&&nl())return Iu();if(!t)throw Au.create("no-app",{appName:e});return t}function Mu(e,t,n){var r;let i=null!==(r=_u[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Kl.warn(e.join(" "))}ku(new ml(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou="firebase-heartbeat-store";let Ru=null;function Nu(){return Ru||(Ru=Vl("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Ou)}catch(n){console.warn(n)}}}).catch((e=>{throw Au.create("idb-open",{originalErrorMessage:e.message})}))),Ru}async function Pu(e,t){try{const n=(await Nu()).transaction(Ou,"readwrite"),r=n.objectStore(Ou);await r.put(t,Bu(e)),await n.done}catch(n){if(n instanceof ul)Kl.warn(n.message);else{const e=Au.create("idb-set",{originalErrorMessage:null==n?void 0:n.message});Kl.warn(e.message)}}}function Bu(e){return`${e.name}!${e.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Uu(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=zu();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Kl.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=zu(),{heartbeatsToSend:n,unsentEntries:r}=function(e,t=1024){const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),ju(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ju(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Qa(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return Kl.warn(t),""}}}function zu(){return(new Date).toISOString().substring(0,10)}class Uu{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!ol()&&al().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Nu()).transaction(Ou),n=await t.objectStore(Ou).get(Bu(e));return await t.done,n}catch(t){if(t instanceof ul)Kl.warn(t.message);else{const e=Au.create("idb-get",{originalErrorMessage:null==t?void 0:t.message});Kl.warn(e.message)}}}(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Pu(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Pu(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function ju(e){return Qa(JSON.stringify({version:2,heartbeats:e})).length}var $u;$u="",ku(new ml("platform-logger",(e=>new Hl(e)),"PRIVATE")),ku(new ml("heartbeat",(e=>new Vu(e)),"PRIVATE")),Mu(Gl,Wl,$u),Mu(Gl,Wl,"esm2017"),Mu("fire-js","");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Mu("firebase","11.4.0","app");const qu="@firebase/installations",Hu="0.6.13",Gu=1e4,Wu=`w:${Hu}`,Ku="FIS_v2",Yu=36e5,Xu=new cl("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Qu(e){return e instanceof ul&&e.code.includes("request-failed")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function Zu(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function ec(e,t){const n=(await t.json()).error;return Xu.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function tc({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function nc(e,{refreshToken:t}){const n=tc(e);return n.append("Authorization",function(e){return`${Ku} ${e}`}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)),n}async function rc(e){const t=await e();return t.status>=500&&t.status<600?e():t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ic(e){return new Promise((t=>{setTimeout(t,e)}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const sc=/^[cdef][\w-]{21}$/;function oc(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e);return sc.test(t)?t:""}catch(e){return""}}function ac(e){return`${e.appName}!${e.appId}`}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc=new Map;function uc(e,t){const n=ac(e);cc(n,t),function(e,t){const n=function(){!hc&&"BroadcastChannel"in self&&(hc=new BroadcastChannel("[Firebase] FID Change"),hc.onmessage=e=>{cc(e.data.key,e.data.fid)});return hc}();n&&n.postMessage({key:e,fid:t});0===lc.size&&hc&&(hc.close(),hc=null)}(n,t)}function cc(e,t){const n=lc.get(e);if(n)for(const r of n)r(t)}let hc=null;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const dc="firebase-installations-store";let fc=null;function gc(){return fc||(fc=Vl("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(dc)}})),fc}async function pc(e,t){const n=ac(e),r=(await gc()).transaction(dc,"readwrite"),i=r.objectStore(dc),s=await i.get(n);return await i.put(t,n),await r.done,s&&s.fid===t.fid||uc(e,t.fid),t}async function mc(e){const t=ac(e),n=(await gc()).transaction(dc,"readwrite");await n.objectStore(dc).delete(t),await n.done}async function yc(e,t){const n=ac(e),r=(await gc()).transaction(dc,"readwrite"),i=r.objectStore(dc),s=await i.get(n),o=t(s);return void 0===o?await i.delete(n):await i.put(o,n),await r.done,!o||s&&s.fid===o.fid||uc(e,o.fid),o}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vc(e){let t;const n=await yc(e.appConfig,(n=>{const r=function(e){const t=e||{fid:oc(),registrationStatus:0};return wc(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(Xu.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=Ju(e),i=tc(e),s=t.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const o={fid:n,authVersion:Ku,appId:e.appId,sdkVersion:Wu},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await rc((()=>fetch(r,a)));if(l.ok){const e=await l.json();return{fid:e.fid||n,registrationStatus:2,refreshToken:e.refreshToken,authToken:Zu(e.authToken)}}throw await ec("Create Installation",l)}(e,t);return pc(e.appConfig,n)}catch(n){throw Qu(n)&&409===n.customData.serverCode?await mc(e.appConfig):await pc(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:bc(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}));return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function bc(e){let t=await Dc(e.appConfig);for(;1===t.registrationStatus;)await ic(100),t=await Dc(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await vc(e);return n||t}return t}function Dc(e){return yc(e,(e=>{if(!e)throw Xu.create("installation-not-found");return wc(e)}))}function wc(e){return 1===(t=e).registrationStatus&&t.registrationTime+Gu<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}async function _c({appConfig:e,heartbeatServiceProvider:t},n){const r=function(e,{fid:t}){return`${Ju(e)}/${t}/authTokens:generate`}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,n),i=nc(e,n),s=t.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const o={installation:{sdkVersion:Wu,appId:e.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await rc((()=>fetch(r,a)));if(l.ok){return Zu(await l.json())}throw await ec("Generate Auth Token",l)}async function Ec(e,t=!1){let n;const r=await yc(e.appConfig,(r=>{if(!Tc(r))throw Xu.create("not-registered");const i=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Yu}(e)}(i))return r;if(1===i.requestStatus)return n=async function(e,t){let n=await Cc(e.appConfig);for(;1===n.authToken.requestStatus;)await ic(100),n=await Cc(e.appConfig);const r=n.authToken;return 0===r.requestStatus?Ec(e,t):r}(e,t),r;{if(!navigator.onLine)throw Xu.create("app-offline");const t=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return n=async function(e,t){try{const n=await _c(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await pc(e.appConfig,r),n}catch(n){if(!Qu(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await pc(e.appConfig,n)}else await mc(e.appConfig);throw n}}(e,t),t}}));return n?await n:r.authToken}function Cc(e){return yc(e,(e=>{if(!Tc(e))throw Xu.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+Gu<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}))}function Tc(e){return void 0!==e&&2===e.registrationStatus}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Sc(e,t=!1){const n=e;await async function(e){const{registrationPromise:t}=await vc(e);t&&await t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n);return(await Ec(n,t)).token}function kc(e){return Xu.create("missing-app-config-values",{valueName:e})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc="installations",Ac=e=>{const t=xu(e.getProvider("app").getImmediate(),xc).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await vc(t);return r?r.catch(console.error):Ec(t).catch(console.error),n.fid}(t),getToken:e=>Sc(t,e)}};ku(new ml(xc,(e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw kc("App Configuration");if(!e.name)throw kc("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw kc(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:xu(t,"heartbeat"),_delete:()=>Promise.resolve()}}),"PUBLIC")),ku(new ml("installations-internal",Ac,"PRIVATE")),Mu(qu,Hu),Mu(qu,Hu,"esm2017");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Fc="analytics",Ic="https://www.googletagmanager.com/gtag/js",Lc=new Sl("@firebase/analytics"),Mc=new cl("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Oc(e){if(!e.startsWith(Ic)){const t=Mc.create("invalid-gtag-resource",{gtagURL:e});return Lc.warn(t.message),""}return e}function Rc(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}function Nc(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:Oc}),r=document.createElement("script"),i=`${Ic}?l=${e}&id=${t}`;r.src=n?null==n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Pc(e,t,n,r){return async function(i,...s){try{if("event"===i){const[r,i]=s;await async function(e,t,n,r,i){try{let s=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await Rc(n);for(const n of e){const e=r.find((e=>e.measurementId===n)),i=e&&t[e.appId];if(!i){s=[];break}s.push(i)}}0===s.length&&(s=Object.values(t)),await Promise.all(s),e("event",r,i||{})}catch(s){Lc.error(s)}}(e,t,n,r,i)}else if("config"===i){const[i,o]=s;await async function(e,t,n,r,i,s){const o=r[i];try{if(o)await t[o];else{const e=(await Rc(n)).find((e=>e.measurementId===i));e&&await t[e.appId]}}catch(a){Lc.error(a)}e("config",i,s)}(e,t,n,r,i,o)}else if("consent"===i){const[t,n]=s;e("consent",t,n)}else if("get"===i){const[t,n,r]=s;e("get",t,n,r)}else if("set"===i){const[t]=s;e("set",t)}else e(i,...s)}catch(o){Lc.error(o)}}}const Bc=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Vc(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function zc(e,t=Bc,n){const{appId:r,apiKey:i,measurementId:s}=e.options;if(!r)throw Mc.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Mc.create("no-api-key")}const o=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new jc;return setTimeout((async()=>{a.abort()}),6e4),Uc({appId:r,apiKey:i,measurementId:s},o,a,t)}async function Uc(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=Bc){var s;const{appId:o,measurementId:a}=e;try{await function(e,t){return new Promise(((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener((()=>{clearTimeout(s),r(Mc.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(r,t)}catch(l){if(a)return Lc.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${null==l?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:Vc(r)},s="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),o=await fetch(s,i);if(200!==o.status&&304!==o.status){let e="";try{const n=await o.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(a){}throw Mc.create("config-fetch-failed",{httpStatus:o.status,responseMessage:e})}return o.json()}(e);return i.deleteThrottleMetadata(o),t}catch(l){const t=l;if(!function(e){if(!(e instanceof ul&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(t)){if(i.deleteThrottleMetadata(o),a)return Lc.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${null==t?void 0:t.message}]`),{appId:o,measurementId:a};throw l}const u=503===Number(null===(s=null==t?void 0:t.customData)||void 0===s?void 0:s.httpStatus)?gl(n,i.intervalMillis,30):gl(n,i.intervalMillis),c={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(o,c),Lc.debug(`Calling attemptFetch again in ${u} millis`),Uc(e,c,r,i)}}class jc{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}async function $c(e,t,n,r,i,s,o){var a;const l=zc(e);l.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Lc.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)})).catch((e=>Lc.error(e))),t.push(l);const u=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function(){if(!ol())return Lc.warn(Mc.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await al()}catch(e){return Lc.warn(Mc.create("indexeddb-unavailable",{errorInfo:null==e?void 0:e.toString()}).message),!1}return!0}().then((e=>e?r.getId():void 0)),[c,h]=await Promise.all([l,u]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Ic)&&n.src.includes(e))return n;return null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)(s)||Nc(s,c.measurementId),i("js",new Date);const d=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return d.origin="firebase",d.update=!0,null!=h&&(d.firebase_id=h),i("config",c.measurementId,d),c.measurementId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qc=class{constructor(e){this.app=e}_delete(){return delete Hc[this.app.options.appId],Promise.resolve()}},Hc={},Gc=[];const Wc={};let Kc,Yc,Xc="dataLayer",Qc=!1;function Jc(e,t,n){!function(){const e=[];if(il()&&e.push("This is a browser extension environment."),ll()||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>`(${t+1}) ${e}`)).join(" "),n=Mc.create("invalid-analytics-context",{errorInfo:t});Lc.warn(n.message)}}();const r=e.options.appId;if(!r)throw Mc.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Mc.create("no-api-key");Lc.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Hc[r])throw Mc.create("already-exists",{id:r});if(!Qc){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Xc);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let s=function(...e){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=Pc(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}(Hc,Gc,Wc,Xc,"gtag");Yc=e,Kc=t,Qc=!0}Hc[r]=$c(e,Gc,Wc,t,Kc,Xc,n);return new qc(e)}function Zc(e=Lu()){const t=xu(e=pl(e),Fc);return t.isInitialized()?t.getImmediate():function(e,t={}){const n=xu(e,Fc);if(n.isInitialized()){const e=n.getImmediate();if(dl(t,n.getOptions()))return e;throw Mc.create("already-initialized")}const r=n.initialize({options:t});return r}(e)}async function eh(){if(il())return!1;if(!ll())return!1;if(!ol())return!1;try{return await al()}catch(e){return!1}}function th(e,t,n){e=pl(e),async function(e,t,n){e("config",await t,{update:!0,user_properties:n})}(Yc,Hc[e.app.options.appId],t).catch((e=>Lc.error(e)))}function nh(e,t,n,r){e=pl(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(Yc,Hc[e.app.options.appId],t,n,r).catch((e=>Lc.error(e)))}const rh="@firebase/analytics",ih="0.10.12";ku(new ml(Fc,((e,{options:t})=>Jc(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t)),"PUBLIC")),ku(new ml("analytics-internal",(function(e){try{const t=e.getProvider(Fc).getImmediate();return{logEvent:(e,n,r)=>nh(t,e,n,r)}}catch(t){throw Mc.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),Mu(rh,ih),Mu(rh,ih,"esm2017");var sh,oh="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/(function(){var e;
/** @license
  
   Copyright The Closure Library Authors.
   SPDX-License-Identifier: Apache-2.0
  */function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"==typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,o=0;o<t;){if(0==s)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"==typeof e){for(;o<t;)if(i[s++]=e.charCodeAt(o++),s==this.blockSize){n(this,i),s=0;break}}else for(;o<t;)if(i[s++]=e[o++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return d(o(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var a=s(0),l=s(1),u=s(16777216);function c(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function g(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function p(e,t){this.g=e,this.h=t}function m(e,t){if(c(t))throw Error("division by zero");if(c(e))return new p(a,a);if(h(e))return t=m(d(e),t),new p(d(t.g),d(t.h));if(h(t))return t=m(e,d(t)),new p(d(t.g),t.h);if(30<e.g.length){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),s=v(r,1);for(r=v(r,2),n=v(n,2);!c(r);){var u=s.add(r);0>=u.l(e)&&(i=i.add(n),s=u),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new p(i,t)}for(i=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),u=(s=o(n)).j(t);h(u)||0<u.l(e);)u=(s=o(n-=r)).j(t);c(s)&&(s=l),i=i.add(s),e=f(e,u)}return new p(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],o=0;o<i;o++)s[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(c(this))return"0";if(h(this))return"-"+d(this).toString(e);for(var t=o(Math.pow(e,6)),n=this,r="";;){var i=m(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(c(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:c(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var o=i+(65535&this.i(s))+(65535&e.i(s)),a=(o>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=a>>>16,o&=65535,a&=65535,n[s]=a<<16|o}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(c(this)||c(e))return a;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(0>this.l(u)&&0>e.l(u))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),p=e.i(s)>>>16,m=65535&e.i(s);n[2*i+2*s]+=f*m,g(n,2*i+2*s),n[2*i+2*s+1]+=l*m,g(n,2*i+2*s+1),n[2*i+2*s+1]+=f*p,g(n,2*i+2*s+1),n[2*i+2*s+2]+=l*p,g(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return m(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=o(Math.pow(n,8)),i=a,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),u=parseInt(t.substring(s,s+l),n);8>l?(l=o(Math.pow(n,l)),i=i.j(l).add(o(u))):i=(i=i.j(r)).add(o(u))}return i},sh=r}).apply(void 0!==oh?oh:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var ah,lh,uh,ch,hh,dh,fh,gh,ph="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ph&&ph];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var o=e[s];if(!(o in i))break e;i=i[o]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));
/** @license
  
   Copyright The Closure Library Authors.
   SPDX-License-Identifier: Apache-2.0
  */
var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function u(e,t,n){return(u=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function h(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function d(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function g(e){return/^[\s\xa0]*$/.test(e)}function p(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function m(e){return m[" "](e),e}m[" "]=function(){};var y=!(-1==p().indexOf("Gecko")||-1!=p().toLowerCase().indexOf("webkit")&&-1==p().indexOf("Edge")||-1!=p().indexOf("Trident")||-1!=p().indexOf("MSIE")||-1!=p().indexOf("Edge"));function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<D.length;t++)n=D[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function _(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function E(e){i.setTimeout((()=>{throw e}),0)}function C(){var e=A;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var T=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new S),(e=>e.reset()));class S{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let k,x=!1,A=new class{constructor(){this.h=this.g=null}add(e,t){const n=T.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},F=()=>{const e=i.Promise.resolve(void 0);k=()=>{e.then(I)}};var I=()=>{for(var e;e=C();){try{e.h.call(e.g)}catch(L){E(L)}var t=T;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}x=!1};function M(){this.s=this.s,this.C=this.C}function O(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}M.prototype.s=!1,M.prototype.ma=function(){this.s||(this.s=!0,this.N())},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},O.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(L){}return e}();function N(e,t){if(O.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{m(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:P[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&N.aa.h.call(this)}}h(N,O);var P={2:"touch",3:"pen",4:"mouse"};N.prototype.h=function(){N.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var B="closure_listenable_"+(1e6*Math.random()|0),V=0;function z(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++V,this.da=this.fa=!1}function U(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function j(e){this.src=e,this.g={},this.h=0}function $(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(U(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function q(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}j.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=q(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new z(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),G={};function W(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)W(e,t[s],n,r,i);return null}return n=ee(n),e&&e[B]?e.K(t,n,o(r)?!!r.capture:!!r,i):function(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=o(i)?!!i.capture:!!i,l=J(e);if(l||(e[H]=l=new j(e)),n=l.add(t,n,r,a,s),n.proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Q;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)R||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(X(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}(e,t,n,!1,r,i)}function K(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)K(e,t[s],n,r,i);else r=o(r)?!!r.capture:!!r,n=ee(n),e&&e[B]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=q(s=e.g[t],n,r,i))&&(U(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=J(e))&&(t=e.g[t.toString()],e=-1,t&&(e=q(t,n,r,i)),(n=-1<e?t[e]:null)&&Y(n))}function Y(e){if("number"!=typeof e&&e&&!e.da){var t=e.src;if(t&&t[B])$(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(X(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=J(t))?($(n,e),0==n.h&&(n.src=null,t[H]=null)):U(e)}}}function X(e){return e in G?G[e]:G[e]="on"+e}function Q(e,t){if(e.da)e=!0;else{t=new N(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Y(e),e=n.call(r,t)}return e}function J(e){return(e=e[H])instanceof j?e:null}var Z="__closure_events_fn_"+(1e9*Math.random()>>>0);function ee(e){return"function"==typeof e?e:(e[Z]||(e[Z]=function(t){return e.handleEvent(t)}),e[Z])}function te(){M.call(this),this.i=new j(this),this.M=this,this.F=null}function ne(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"==typeof t)t=new O(t,e);else if(t instanceof O)t.target=t.target||e;else{var i=t;w(t=new O(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=re(o,r,!0,t)&&i}if(i=re(o=t.g=e,r,!0,t)&&i,i=re(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=re(o=t.g=n[s],r,!1,t)&&i}function re(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.da&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.fa&&$(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}function ie(e,t,n){if("function"==typeof e)n&&(e=u(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=u(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function se(e){e.g=ie((()=>{e.g=null,e.i&&(e.i=!1,se(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}h(te,M),te.prototype[B]=!0,te.prototype.removeEventListener=function(e,t,n,r){K(this,e,t,n,r)},te.prototype.N=function(){if(te.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)U(n[r]);delete t.g[e],t.h--}}this.F=null},te.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},te.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends M{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:se(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ae(e){M.call(this),this.h=e,this.g={}}h(ae,M);var le=[];function ue(e){v(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Y(e)}),e),e.g={}}ae.prototype.N=function(){ae.aa.N.call(this),ue(this)},ae.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ce=i.JSON.stringify,he=i.JSON.parse,de=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function fe(){}function ge(e){return e.h||(e.h=e.i())}function pe(){}fe.prototype.h=null;var me={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){O.call(this,"d")}function ve(){O.call(this,"c")}h(ye,O),h(ve,O);var be={},De=null;function we(){return De=De||new te}function _e(e){O.call(this,be.La,e)}function Ee(e){const t=we();ne(t,new _e(t))}function Ce(e,t){O.call(this,be.STAT_EVENT,e),this.stat=t}function Te(e){const t=we();ne(t,new Ce(t,e))}function Se(e,t){O.call(this,be.Ma,e),this.size=t}function ke(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function xe(){this.g=!0}function Ae(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return ce(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}be.La="serverreachability",h(_e,O),be.STAT_EVENT="statevent",h(Ce,O),be.Ma="timingevent",h(Se,O),xe.prototype.xa=function(){this.g=!1},xe.prototype.info=function(){};var Fe,Ie={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Le={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Me(){}function Oe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new ae(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Re}function Re(){this.i=null,this.g="",this.h=!1}h(Me,fe),Me.prototype.g=function(){return new XMLHttpRequest},Me.prototype.i=function(){return{}},Fe=new Me;var Ne={},Pe={};function Be(e,t,n){e.L=1,e.v=ct(st(t)),e.m=n,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),je(e),e.A=st(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Et(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Re,e.g=hn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(u(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(le[0]=i.toString()),i=le);for(var s=0;s<i.length;s++){var o=W(n,i[s],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ee(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+u+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Ue(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Pe:(n=Number(t.substring(n,r)),isNaN(n)?Ne:(r+=1)+n>t.length?Pe:(t=t.slice(r,r+n),e.C=r+n,t))}function je(e){e.S=Date.now()+e.I,$e(e,e.I)}function $e(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ke(u(e.ba,e),t)}function qe(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function He(e){0==e.j.G||e.J||on(e.j,e)}function Ge(e){qe(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function We(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Je(n.h,e)))if(!e.K&&Je(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;sn(n),Kt(n)}tn(n),Te(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=ke(u(n.Za,n),6e3));if(1>=Qe(n.h)&&n.ca){try{n.ca()}catch(c){}n.ca=void 0}}else ln(n,11)}else if((e.K||n.g==e)&&sn(n),!g(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.T=u[0],u=u[1],2==n.G)if("c"==u[0]){n.K=u[1],n.ia=u[2];const t=u[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=u[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const c=u[5];null!=c&&"number"==typeof c&&0<c&&(r=1.5*c,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Ze(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=cn(r,r.J?r.ia:null,r.W),o.K){et(r.h,o);var a=o,l=r.L;l&&(a.I=l),a.B&&(qe(a),je(a)),r.g=o}else en(r);0<n.i.length&&Xt(n)}else"stop"!=u[0]&&"close"!=u[0]||ln(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?ln(n,7):Wt(n):"noop"!=u[0]&&n.l&&n.l.ta(u),n.v=0)}Ee()}catch(c){}}Oe.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==$t(e)?t.j():this.Y(e)},Oe.prototype.Y=function(e){try{if(e==this.g)e:{const d=$t(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||qt(this.g)))){this.J||4!=d||7==t||Ee(),qe(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=qt(this.g);e="";var s=r.length,o=4==$t(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ge(this),He(this);var a="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(o&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,u=this.g;if((l=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!g(l)){var c=l;break t}}c=null}if(!(n=c)){this.o=!1,this.s=3,Te(12),Ge(this),He(this);break e}Ae(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,We(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=Ue(this,a),e==Pe){4==d&&(this.s=4,Te(14),n=!1),Ae(this.i,this.l,null,"[Incomplete Response]");break}if(e==Ne){this.s=4,Te(15),Ae(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Ae(this.i,this.l,e,null),We(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=a.length||this.h.h||(this.s=1,Te(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),nn(h),h.M=!0,Te(11))}}else Ae(this.i,this.l,a,"[Invalid Chunked Response]"),Ge(this),He(this)}else Ae(this.i,this.l,a,null),We(this,a);4==d&&Ge(this),this.o&&!this.J&&(4==d?on(this.j,this):(this.o=!1,je(this)))}else(function(e){const t={};e=(e.g&&2<=$t(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(g(e[r]))continue;var n=_(e[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Te(12)):(this.s=0,Te(13)),Ge(this),He(this)}}}catch(d){}},Oe.prototype.cancel=function(){this.J=!0,Ge(this)},Oe.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Ee(),Te(17)),Ge(this),this.s=2,He(this)):$e(this,this.S-e)};var Ke=class{constructor(e,t){this.g=e,this.map=t}};function Ye(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Qe(e){return e.h?1:e.g?e.g.size:0}function Je(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ze(e,t){e.g?e.g.add(t):e.h=t}function et(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function tt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return d(e.i)}function nt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(s(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}Ye.prototype.cancel=function(){if(this.i=tt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var rt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function it(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof it){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,at(this,e.s),this.l=e.l;var t=e.i,n=new bt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),lt(this,n),this.m=e.m}else e&&(t=String(e).match(rt))?(this.h=!1,ot(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),at(this,t[4]),this.l=ht(t[5]||"",!0),lt(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new bt(null,this.h))}function st(e){return new it(e)}function ot(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function at(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function lt(e,t,n){t instanceof bt?(e.i=t,function(e,t){t&&!e.j&&(Dt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(wt(this,t),Et(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=dt(t,yt)),e.i=new bt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function ct(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function dt(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,ft),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ft(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}it.prototype.toString=function(){var e=[],t=this.j;t&&e.push(dt(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(dt(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(dt(n,"/"==n.charAt(0)?mt:pt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",dt(n,vt)),e.join("")};var gt=/[#\/\?@]/g,pt=/[#\?:]/g,mt=/[#\?]/g,yt=/[#\?@]/g,vt=/#/g;function bt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Dt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function wt(e,t){Dt(e),t=Ct(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function _t(e,t){return Dt(e),t=Ct(e,t),e.g.has(t)}function Et(e,t,n){wt(e,t),0<n.length&&(e.i=null,e.g.set(Ct(e,t),d(n)),e.h+=n.length)}function Ct(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Tt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function St(){this.g=new de}function kt(e,t,n){const r=n||"";try{nt(e,(function(e,n){let i=e;o(e)&&(i=ce(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function xt(e){this.l=e.Ub||null,this.j=e.eb||!1}function At(e,t){te.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ft(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function It(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Lt(e)}function Lt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Mt(e){let t="";return v(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Ot(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Mt(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Rt(e){te.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=bt.prototype).add=function(e,t){Dt(this),this.i=null,e=Ct(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Dt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){Dt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){Dt(this);let t=[];if("string"==typeof e)_t(this,e)&&(t=t.concat(this.g.get(Ct(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Dt(this),this.i=null,_t(this,e=Ct(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")},h(xt,fe),xt.prototype.g=function(){return new At(this.l,this.j)},xt.prototype.i=function(e){return function(){return e}}({}),h(At,te),(e=At.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Lt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,It(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Lt(this)),this.g&&(this.readyState=3,Lt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(void 0!==i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ft(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?It(this):Lt(this),3==this.readyState&&Ft(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,It(this))},e.Qa=function(e){this.g&&(this.response=e,It(this))},e.ga=function(){this.g&&It(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(At.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),h(Rt,te);var Nt=/^https?$/i,Pt=["POST","PUT"];function Bt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Vt(e),Ut(e)}function Vt(e){e.A||(e.A=!0,ne(e,"complete"),ne(e,"error"))}function zt(e){if(e.h&&void 0!==r&&(!e.v[1]||4!=$t(e)||2!=e.Z()))if(e.u&&4==$t(e))ie(e.Ea,0,e);else if(ne(e,"readystatechange"),4==$t(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var o=String(e.D).match(rt)[1]||null;!o&&i.self&&i.self.location&&(o=i.self.location.protocol.slice(0,-1)),s=!Nt.test(o?o.toLowerCase():"")}n=s}if(n)ne(e,"complete"),ne(e,"success");else{e.m=6;try{var a=2<$t(e)?e.g.statusText:""}catch(l){a=""}e.l=a+" ["+e.Z()+"]",Vt(e)}}finally{Ut(e)}}}function Ut(e,t){if(e.g){jt(e);const r=e.g,i=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||ne(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function jt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function $t(e){return e.g?e.g.readyState:0}function qt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Ht(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Gt(e){this.Aa=0,this.i=[],this.j=new xe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ht("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ht("baseRetryDelayMs",5e3,e),this.cb=Ht("retryDelaySeedMs",1e4,e),this.Wa=Ht("forwardChannelMaxRetries",2,e),this.wa=Ht("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ye(e&&e.concurrentRequestLimit),this.Da=new St,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Wt(e){if(Yt(e),3==e.G){var t=e.U++,n=st(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),Jt(e,n),(t=new Oe(e,e.j,t)).L=2,t.v=ct(st(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=hn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),je(t)}un(e)}function Kt(e){e.g&&(nn(e),e.g.cancel(),e.g=null)}function Yt(e){Kt(e),e.u&&(i.clearTimeout(e.u),e.u=null),sn(e),e.h.cancel(),e.s&&("number"==typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Xt(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;k||F(),x||(k(),x=!0),A.add(t,e),e.B=0}}function Qt(e,t){var n;n=t?t.l:e.U++;const r=st(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),Jt(e,r),e.m&&e.o&&Ot(r,e.m,e.o),n=new Oe(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=Zt(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),Ze(e.h,n),Be(n,r,t)}function Jt(e,t){e.H&&v(e.H,(function(e,n){ut(t,n,e)})),e.l&&nt({},(function(e,n){ut(t,n,e)}))}function Zt(e,t,n){n=Math.min(e.i.length,n);var r=e.l?u(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].g;const l=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),o=!1;else try{kt(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function en(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;k||F(),x||(k(),x=!0),A.add(t,e),e.v=0}}function tn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=ke(u(e.Fa,e),an(e,e.v)),e.v++,!0)}function nn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function rn(e){e.g=new Oe(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=st(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),Jt(e,t),e.m&&e.o&&Ot(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ct(st(t)),n.m=null,n.P=!0,Ve(n,e)}function sn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function on(e,t){var n=null;if(e.g==t){sn(e),nn(e),e.g=null;var r=2}else{if(!Je(e.h,t))return;n=t.D,et(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;ne(r=we(),new Se(r,n)),Xt(e)}else en(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Qe(e.h)>=e.h.j-(e.s?1:0)||(e.s?(e.i=t.D.concat(e.i),0):1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa)||(e.s=ke(u(e.Ga,e,t),an(e,e.B)),e.B++,0)))}(e,t)||2==r&&tn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:ln(e,5);break;case 4:ln(e,10);break;case 3:ln(e,6);break;default:ln(e,2)}}function an(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function ln(e,t){if(e.j.info("Error code "+t),2==t){var n=u(e.fb,e),r=e.Xa;const t=!r;r=new it(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||ot(r,"https"),ct(r),t?function(e,t){const n=new xe;if(i.Image){const r=new Image;r.onload=c(Tt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(Tt,n,"TestLoadImage: error",!1,t,r),r.onabort=c(Tt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(Tt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new xe;const n=new AbortController,r=setTimeout((()=>{n.abort(),Tt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Tt(0,0,!0,t):Tt(0,0,!1,t)})).catch((()=>{clearTimeout(r),Tt(0,0,!1,t)}))}(r.toString(),n)}else Te(2);e.G=0,e.l&&e.l.sa(t),un(e),Yt(e)}function un(e){if(e.G=0,e.ka=[],e.l){const t=tt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.ra()}}function cn(e,t,n){var r=n instanceof it?st(n):new it(n);if(""!=r.g)t&&(r.g=t+"."+r.g),at(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var o=new it(null);r&&ot(o,r),t&&(o.g=t),s&&at(o,s),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),Jt(e,r),r}function hn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Rt(new xt({eb:n})):new Rt(e.pa)).Ha(e.J),t}function dn(){}function fn(){}function gn(e,t){te.call(this),this.g=new Gt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!g(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!g(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new yn(this)}function pn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function mn(){ve.call(this),this.status=1}function yn(e){this.g=e}(e=Rt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fe.g(),this.v=this.o?ge(this.o):ge(Fe),this.g.onreadystatechange=u(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void Bt(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Pt,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{jt(this),this.u=!0,this.g.send(e),this.u=!1}catch(o){Bt(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,ne(this,"complete"),ne(this,"abort"),Ut(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ut(this,!0)),Rt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?zt(this):this.bb())},e.bb=function(){zt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<$t(this)?this.g.status:-1}catch(e){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(e=Gt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Te(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=cn(this,null,this.W),Xt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Oe(this,this.j,e);let s=this.o;if(this.S&&(s?(s=b(s),w(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Zt(this,i,t),ut(n=st(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),Jt(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Mt(s)))+"&"+t:this.m&&Ot(n,this.m,s)),Ze(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Be(i,n,null)):Be(i,n,t),this.G=2}}else 3==this.G&&(e?Qt(this,e):0==this.i.length||Xe(this.h)||Qt(this))},e.Fa=function(){if(this.u=null,rn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=ke(u(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Te(10),Kt(this),rn(this))},e.Za=function(){null!=this.C&&(this.C=null,Kt(this),tn(this),Te(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=dn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},fn.prototype.g=function(e,t){return new gn(e,t)},h(gn,te),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Wt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=ce(e),e=n);t.i.push(new Ke(t.Ya++,e)),3==t.G&&Xt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Wt(this.g),delete this.g,gn.aa.N.call(this)},h(pn,ye),h(mn,ve),h(yn,dn),yn.prototype.ua=function(){ne(this.g,"a")},yn.prototype.ta=function(e){ne(this.g,new pn(e))},yn.prototype.sa=function(e){ne(this.g,new mn)},yn.prototype.ra=function(){ne(this.g,"b")},fn.prototype.createWebChannel=fn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,gh=function(){return new fn},fh=function(){return we()},dh=be,hh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ie.NO_ERROR=0,Ie.TIMEOUT=8,Ie.HTTP_ERROR=6,ch=Ie,Le.COMPLETE="complete",uh=Le,pe.EventType=me,me.OPEN="a",me.CLOSE="b",me.ERROR="c",me.MESSAGE="d",te.prototype.listen=te.prototype.K,lh=pe,Rt.prototype.listenOnce=Rt.prototype.L,Rt.prototype.getLastError=Rt.prototype.Ka,Rt.prototype.getLastErrorCode=Rt.prototype.Ba,Rt.prototype.getStatus=Rt.prototype.Z,Rt.prototype.getResponseJson=Rt.prototype.Oa,Rt.prototype.getResponseText=Rt.prototype.oa,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Ha,ah=Rt}).apply(void 0!==ph?ph:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});const mh="@firebase/firestore",yh="4.7.9";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vh.UNAUTHENTICATED=new vh(null),vh.GOOGLE_CREDENTIALS=new vh("google-credentials-uid"),vh.FIRST_PARTY=new vh("first-party-uid"),vh.MOCK_USER=new vh("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let bh="11.4.0";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=new Sl("@firebase/firestore");function wh(){return Dh.logLevel}function _h(e,...t){if(Dh.logLevel<=Dl.DEBUG){const n=t.map(Th);Dh.debug(`Firestore (${bh}): ${e}`,...n)}}function Eh(e,...t){if(Dh.logLevel<=Dl.ERROR){const n=t.map(Th);Dh.error(`Firestore (${bh}): ${e}`,...n)}}function Ch(e,...t){if(Dh.logLevel<=Dl.WARN){const n=t.map(Th);Dh.warn(`Firestore (${bh}): ${e}`,...n)}}function Th(e){if("string"==typeof e)return e;try{
/**
    * @license
    * Copyright 2020 Google LLC
    *
    * Licensed under the Apache License, Version 2.0 (the "License");
    * you may not use this file except in compliance with the License.
    * You may obtain a copy of the License at
    *
    *   http://www.apache.org/licenses/LICENSE-2.0
    *
    * Unless required by applicable law or agreed to in writing, software
    * distributed under the License is distributed on an "AS IS" BASIS,
    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    * See the License for the specific language governing permissions and
    * limitations under the License.
    */
return t=e,JSON.stringify(t)}catch(n){return e}var t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(e="Unexpected state"){const t=`FIRESTORE (${bh}) INTERNAL ASSERTION FAILED: `+e;throw Eh(t),new Error(t)}function kh(e,t){e||Sh()}function xh(e,t){return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fh extends ul{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Mh{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(vh.UNAUTHENTICATED)))}shutdown(){}}class Oh{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Rh{constructor(e){this.t=e,this.currentUser=vh.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){kh(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Ih;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ih,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{_h("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(_h("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ih)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(_h("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(kh("string"==typeof t.accessToken),new Lh(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kh(null===e||"string"==typeof e),new vh(e)}}class Nh{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=vh.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Ph{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Nh(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(vh.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Bh{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Vh{constructor(e,t){var n;this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,null!=(n=e)&&void 0!==n.settings&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){kh(void 0===this.o);const n=e=>{null!=e.error&&_h("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,_h("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{_h("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):_h("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.V)return Promise.resolve(new Bh(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(kh("string"==typeof e.token),this.R=e.token,new Bh(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=zh(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function jh(e,t){return e<t?-1:e>t?1:0}function $h(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh=-62135596800,Hh=1e6;class Gh{static now(){return Gh.fromMillis(Date.now())}static fromDate(e){return Gh.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Hh);return new Gh(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Fh(Ah.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Fh(Ah.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<qh)throw new Fh(Ah.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fh(Ah.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Hh}_compareTo(e){return this.seconds===e.seconds?jh(this.nanoseconds,e.nanoseconds):jh(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-qh;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{static fromTimestamp(e){return new Wh(e)}static min(){return new Wh(new Gh(0,0))}static max(){return new Wh(new Gh(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh="__name__";class Yh{constructor(e,t,n){void 0===t?t=0:t>e.length&&Sh(),void 0===n?n=e.length-t:n>e.length-t&&Sh(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Yh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Yh?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Yh.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Math.sign(e.length-t.length)}static compareSegments(e,t){const n=Yh.isNumericId(e),r=Yh.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Yh.extractNumericId(e).compare(Yh.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return sh.fromString(e.substring(4,e.length-2))}}class Xh extends Yh{construct(e,t,n){return new Xh(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Fh(Ah.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new Xh(t)}static emptyPath(){return new Xh([])}}const Qh=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jh extends Yh{construct(e,t,n){return new Jh(e,t,n)}static isValidIdentifier(e){return Qh.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jh.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Kh}static keyField(){return new Jh([Kh])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Fh(Ah.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Fh(Ah.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Fh(Ah.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Fh(Ah.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jh(t)}static emptyPath(){return new Jh([])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e){this.path=e}static fromPath(e){return new Zh(Xh.fromString(e))}static fromName(e){return new Zh(Xh.fromString(e).popFirst(5))}static empty(){return new Zh(Xh.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Xh.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Xh.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Zh(new Xh(e.slice()))}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(e){return new td(e.readTime,e.key,-1)}class td{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new td(Wh.min(),Zh.empty(),-1)}static max(){return new td(Wh.max(),Zh.empty(),-1)}}function nd(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Zh.comparator(e.documentKey,t.documentKey),0!==n?n:jh(e.largestBatchId,t.largestBatchId)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)}class rd{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function id(e){if(e.code!==Ah.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==e.message)throw e;_h("LocalStore","Unexpectedly lost primary lease")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Sh(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new sd(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof sd?t:sd.resolve(t)}catch(t){return sd.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):sd.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):sd.reject(t)}static resolve(e){return new sd(((t,n)=>{t(e)}))}static reject(e){return new sd(((t,n)=>{n(e)}))}static waitFor(e){return new sd(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=sd.resolve(!1);for(const n of e)t=t.next((e=>e?sd.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new sd(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new sd(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function od(e){return"IndexedDbTransactionError"===e.name}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.oe(e),this._e=e=>t.writeSequenceNumber(e))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}ad.ae=-1;function ld(e){return null==e}function ud(e){return 0===e&&1/e==-1/0}function cd(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="";break;case"":n+="";break;default:n+=t}}return n}function hd(e){return e+""}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function fd(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function gd(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,t){this.comparator=e,this.root=t||yd.EMPTY}insert(e,t){return new pd(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,yd.BLACK,null,null))}remove(e){return new pd(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yd.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new md(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new md(this.root,e,this.comparator,!1)}getReverseIterator(){return new md(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new md(this.root,e,this.comparator,!0)}}class md{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yd{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:yd.RED,this.left=null!=r?r:yd.EMPTY,this.right=null!=i?i:yd.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new yd(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return yd.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return yd.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yd.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yd.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Sh();if(this.right.isRed())throw Sh();const e=this.left.check();if(e!==this.right.check())throw Sh();return e+(this.isRed()?0:1)}}yd.EMPTY=null,yd.RED=!0,yd.BLACK=!1,yd.EMPTY=new class{constructor(){this.size=0}get key(){throw Sh()}get value(){throw Sh()}get color(){throw Sh()}get left(){throw Sh()}get right(){throw Sh()}copy(e,t,n,r,i){return this}insert(e,t,n){return new yd(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class vd{constructor(e){this.comparator=e,this.data=new pd(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new bd(this.data.getIterator())}getIteratorFrom(e){return new bd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof vd))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new vd(this.comparator);return t.data=e,t}}class bd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e){this.fields=e,e.sort(Jh.comparator)}static empty(){return new Dd([])}unionWith(e){let t=new vd(Jh.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Dd(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return $h(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new wd("Invalid base64 string: "+t):t}}(e);return new _d(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new _d(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jh(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_d.EMPTY_BYTE_STRING=new _d("");const Ed=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cd(e){if(kh(!!e),"string"==typeof e){let t=0;const n=Ed.exec(e);if(kh(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Td(e.seconds),nanos:Td(e.nanos)}}function Td(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Sd(e){return"string"==typeof e?_d.fromBase64String(e):_d.fromUint8Array(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd="server_timestamp",xd="__type__",Ad="__previous_value__",Fd="__local_write_time__";function Id(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[xd])||void 0===n?void 0:n.stringValue)===kd}function Ld(e){const t=e.mapValue.fields[Ad];return Id(t)?Ld(t):t}function Md(e){const t=Cd(e.mapValue.fields[Fd].timestampValue);return new Gh(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}const Rd="(default)";class Nd{constructor(e,t){this.projectId=e,this.database=t||Rd}static empty(){return new Nd("","")}get isDefaultDatabase(){return this.database===Rd}isEqual(e){return e instanceof Nd&&e.projectId===this.projectId&&e.database===this.database}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd="__type__",Bd="__max__",Vd={fields:{__type__:{stringValue:Bd}}},zd="__vector__",Ud="value";function jd(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Id(e)?4:function(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Bd}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)?9007199254740991:function(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Pd])||void 0===n?void 0:n.stringValue)===zd}(e)?10:11:Sh()}function $d(e,t){if(e===t)return!0;const n=jd(e);if(n!==jd(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Md(e).isEqual(Md(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Cd(e.timestampValue),r=Cd(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return r=t,Sd(e.bytesValue).isEqual(Sd(r.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Td(e.geoPointValue.latitude)===Td(t.geoPointValue.latitude)&&Td(e.geoPointValue.longitude)===Td(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Td(e.integerValue)===Td(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Td(e.doubleValue),r=Td(t.doubleValue);return n===r?ud(n)===ud(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return $h(e.arrayValue.values||[],t.arrayValue.values||[],$d);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(dd(n)!==dd(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!$d(n[i],r[i])))return!1;return!0}(e,t);default:return Sh()}var r}function qd(e,t){return void 0!==(e.values||[]).find((e=>$d(e,t)))}function Hd(e,t){if(e===t)return 0;const n=jd(e),r=jd(t);if(n!==r)return jh(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return jh(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Td(e.integerValue||e.doubleValue),r=Td(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Gd(e.timestampValue,t.timestampValue);case 4:return Gd(Md(e),Md(t));case 5:return jh(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Sd(e),r=Sd(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=jh(n[i],r[i]);if(0!==e)return e}return jh(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=jh(Td(e.latitude),Td(t.latitude));return 0!==n?n:jh(Td(e.longitude),Td(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Wd(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const o=e.fields||{},a=t.fields||{},l=null===(n=o[Ud])||void 0===n?void 0:n.arrayValue,u=null===(r=a[Ud])||void 0===r?void 0:r.arrayValue,c=jh((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==u?void 0:u.values)||void 0===s?void 0:s.length)||0);return 0!==c?c:Wd(l,u)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Vd&&t===Vd)return 0;if(e===Vd)return 1;if(t===Vd)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=jh(r[o],s[o]);if(0!==e)return e;const t=Hd(n[r[o]],i[s[o]]);if(0!==t)return t}return jh(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Sh()}}function Gd(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return jh(e,t);const n=Cd(e),r=Cd(t),i=jh(n.seconds,r.seconds);return 0!==i?i:jh(n.nanos,r.nanos)}function Wd(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Hd(n[i],r[i]);if(e)return e}return jh(n.length,r.length)}function Kd(e){return Yd(e)}function Yd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Cd(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Sd(e.bytesValue).toBase64():"referenceValue"in e?function(e){return Zh.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Yd(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Yd(e.fields[i])}`;return n+"}"}(e.mapValue):Sh()}function Xd(e){switch(jd(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ld(e);return t?16+Xd(t):16;case 5:return 2*e.stringValue.length;case 6:return Sd(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(e.arrayValue.values||[]).reduce(((e,t)=>e+Xd(t)),0);case 10:case 11:return function(e){let t=0;return fd(e.fields,((e,n)=>{t+=e.length+Xd(n)})),t}(e.mapValue);default:throw Sh()}}function Qd(e){return!!e&&"integerValue"in e}function Jd(e){return!!e&&"arrayValue"in e}function Zd(e){return!!e&&"mapValue"in e}function ef(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return fd(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=ef(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ef(e.arrayValue.values[n]);return t}return Object.assign({},e)}class tf{constructor(e){this.value=e}static empty(){return new tf({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Zd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ef(t)}setAll(e){let t=Jh.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=ef(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Zd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return $d(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Zd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){fd(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new tf(ef(this.value))}}function nf(e){const t=[];return fd(e.fields,((e,n)=>{const r=new Jh([e]);if(Zd(n)){const e=nf(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Dd(t)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class rf{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new rf(e,0,Wh.min(),Wh.min(),Wh.min(),tf.empty(),0)}static newFoundDocument(e,t,n,r){return new rf(e,1,t,Wh.min(),n,r,0)}static newNoDocument(e,t){return new rf(e,2,t,Wh.min(),Wh.min(),tf.empty(),0)}static newUnknownDocument(e,t){return new rf(e,3,t,Wh.min(),Wh.min(),tf.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Wh.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tf.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tf.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Wh.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof rf&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rf(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,t){this.position=e,this.inclusive=t}}function of(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?Zh.comparator(Zh.fromName(o.referenceValue),n.key):Hd(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function af(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!$d(e.position[n],t.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,t="asc"){this.field=e,this.dir=t}}function uf(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{}class hf extends cf{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new vf(e,t,n):"array-contains"===t?new _f(e,n):"in"===t?new Ef(e,n):"not-in"===t?new Cf(e,n):"array-contains-any"===t?new Tf(e,n):new hf(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new bf(e,n):new Df(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Hd(t,this.value)):null!==t&&jd(this.value)===jd(t)&&this.matchesComparison(Hd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Sh()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class df extends cf{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new df(e,t)}matches(e){return ff(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function ff(e){return"and"===e.op}function gf(e){return function(e){for(const t of e.filters)if(t instanceof df)return!1;return!0}(e)&&ff(e)}function pf(e){if(e instanceof hf)return e.field.canonicalString()+e.op.toString()+Kd(e.value);if(gf(e))return e.filters.map((e=>pf(e))).join(",");{const t=e.filters.map((e=>pf(e))).join(",");return`${e.op}(${t})`}}function mf(e,t){return e instanceof hf?(n=e,(r=t)instanceof hf&&n.op===r.op&&n.field.isEqual(r.field)&&$d(n.value,r.value)):e instanceof df?function(e,t){return t instanceof df&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&mf(n,t.filters[r])),!0)}(e,t):void Sh();var n,r}function yf(e){return e instanceof hf?`${(t=e).field.canonicalString()} ${t.op} ${Kd(t.value)}`:e instanceof df?function(e){return e.op.toString()+" {"+e.getFilters().map(yf).join(" ,")+"}"}(e):"Filter";var t}class vf extends hf{constructor(e,t,n){super(e,t,n),this.key=Zh.fromName(n.referenceValue)}matches(e){const t=Zh.comparator(e.key,this.key);return this.matchesComparison(t)}}class bf extends hf{constructor(e,t){super(e,"in",t),this.keys=wf("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Df extends hf{constructor(e,t){super(e,"not-in",t),this.keys=wf("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function wf(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Zh.fromName(e.referenceValue)))}class _f extends hf{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Jd(t)&&qd(t.arrayValue,this.value)}}class Ef extends hf{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&qd(this.value.arrayValue,t)}}class Cf extends hf{constructor(e,t){super(e,"not-in",t)}matches(e){if(qd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!qd(this.value.arrayValue,t)}}class Tf extends hf{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Jd(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>qd(this.value.arrayValue,e)))}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,t=null,n=[],r=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.le=null}}function kf(e,t=null,n=[],r=[],i=null,s=null,o=null){return new Sf(e,t,n,r,i,s,o)}function xf(e){const t=xh(e);if(null===t.le){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>pf(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>{return(t=e).field.canonicalString()+t.dir;var t})).join(","),ld(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Kd(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Kd(e))).join(",")),t.le=e}return t.le}function Af(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!uf(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!mf(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!af(e.startAt,t.startAt)&&af(e.endAt,t.endAt)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,t=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function If(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Lf(e){const t=xh(e);if(null===t.he){t.he=[];const e=new Set;for(const r of t.explicitOrderBy)t.he.push(r),e.add(r.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(e){let t=new vd(Jh.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t})(t).forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.he.push(new lf(r,n))})),e.has(Jh.keyField().canonicalString())||t.he.push(new lf(Jh.keyField(),n))}return t.he}function Mf(e){const t=xh(e);return t.Pe||(t.Pe=function(e,t){if("F"===e.limitType)return kf(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new lf(e.field,t)}));const n=e.endAt?new sf(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new sf(e.startAt.position,e.startAt.inclusive):null;return kf(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}(t,Lf(e))),t.Pe}function Of(e,t,n){return new Ff(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Rf(e,t){return Af(Mf(e),Mf(t))&&e.limitType===t.limitType}function Nf(e){return`${xf(Mf(e))}|lt:${e.limitType}`}function Pf(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>yf(e))).join(", ")}]`),ld(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>{return`${(t=e).field.canonicalString()} (${t.dir})`;var t})).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Kd(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Kd(e))).join(",")),`Target(${t})`}(Mf(e))}; limitType=${e.limitType})`}function Bf(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Zh.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Lf(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&(r=t,!((n=e).startAt&&!function(e,t,n){const r=of(e,t,n);return e.inclusive?r<=0:r<0}(n.startAt,Lf(n),r)||n.endAt&&!function(e,t,n){const r=of(e,t,n);return e.inclusive?r>=0:r>0}(n.endAt,Lf(n),r)));var n,r}function Vf(e,t,n){const r=e.field.isKeyField()?Zh.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Hd(r,i):Sh()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Sh()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){fd(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return gd(this.inner)}size(){return this.innerSize}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf=new pd(Zh.comparator);function jf(){return Uf}const $f=new pd(Zh.comparator);function qf(...e){let t=$f;for(const n of e)t=t.insert(n.key,n);return t}function Hf(e){let t=$f;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Gf(){return Kf()}function Wf(){return Kf()}function Kf(){return new zf((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Yf=new pd(Zh.comparator),Xf=new vd(Zh.comparator);function Qf(...e){let t=Xf;for(const n of e)t=t.add(n);return t}const Jf=new vd(jh);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Zf(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ud(t)?"-0":t}}function eg(e){return{integerValue:""+e}}function tg(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!ud(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)?eg(t):Zf(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(){this._=void 0}}function rg(e,t,n){return e instanceof og?function(e,t){const n={fields:{[xd]:{stringValue:kd},[Fd]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Id(t)&&(t=Ld(t)),t&&(n.fields[Ad]=t),{mapValue:n}}(n,t):e instanceof ag?lg(e,t):e instanceof ug?cg(e,t):function(e,t){const n=sg(e,t),r=dg(n)+dg(e.Ie);return Qd(n)&&Qd(e.Ie)?eg(r):Zf(e.serializer,r)}(e,t)}function ig(e,t,n){return e instanceof ag?lg(e,t):e instanceof ug?cg(e,t):n}function sg(e,t){return e instanceof hg?Qd(n=t)||(r=n)&&"doubleValue"in r?t:{integerValue:0}:null;var n,r}class og extends ng{}class ag extends ng{constructor(e){super(),this.elements=e}}function lg(e,t){const n=fg(t);for(const r of e.elements)n.some((e=>$d(e,r)))||n.push(r);return{arrayValue:{values:n}}}class ug extends ng{constructor(e){super(),this.elements=e}}function cg(e,t){let n=fg(t);for(const r of e.elements)n=n.filter((e=>!$d(e,r)));return{arrayValue:{values:n}}}class hg extends ng{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function dg(e){return Td(e.integerValue||e.doubleValue)}function fg(e){return Jd(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,t){this.field=e,this.transform=t}}class pg{constructor(e,t){this.version=e,this.transformResults=t}}class mg{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new mg}static exists(e){return new mg(void 0,e)}static updateTime(e){return new mg(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yg(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class vg{}function bg(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Ag(e.key,mg.none()):new Cg(e.key,e.data,mg.none());{const n=e.data,r=tf.empty();let i=new vd(Jh.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Tg(e.key,r,new Dd(i.toArray()),mg.none())}}function Dg(e,t,n){e instanceof Cg?function(e,t,n){const r=e.value.clone(),i=kg(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Tg?function(e,t,n){if(!yg(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=kg(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Sg(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function wg(e,t,n,r){return e instanceof Cg?function(e,t,n,r){if(!yg(e.precondition,t))return n;const i=e.value.clone(),s=xg(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Tg?function(e,t,n,r){if(!yg(e.precondition,t))return n;const i=xg(e.fieldTransforms,r,t),s=t.data;return s.setAll(Sg(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return yg(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function _g(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=sg(r.transform,e||null);null!=i&&(null===n&&(n=tf.empty()),n.set(r.field,i))}return n||null}function Eg(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&$h(n,r,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&(n=e.transform,r=t.transform,n instanceof ag&&r instanceof ag||n instanceof ug&&r instanceof ug?$h(n.elements,r.elements,$d):n instanceof hg&&r instanceof hg?$d(n.Ie,r.Ie):n instanceof og&&r instanceof og);var n,r}(e,t))))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask)));var n,r}class Cg extends vg{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Tg extends vg{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Sg(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function kg(e,t,n){const r=new Map;kh(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,ig(o,a,n[i]))}return r}function xg(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,rg(e,s,t))}return r}class Ag extends vg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Fg extends vg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Dg(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=wg(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=wg(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Wf();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=bg(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(Wh.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Qf())}isEqual(e){return this.batchId===e.batchId&&$h(this.mutations,e.mutations,((e,t)=>Eg(e,t)))&&$h(this.baseMutations,e.baseMutations,((e,t)=>Eg(e,t)))}}class Lg{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){kh(e.mutations.length===n.length);let r=function(){return Yf}();const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Lg(e,t,n,r)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Og,Rg;(Rg=Og||(Og={}))[Rg.OK=0]="OK",Rg[Rg.CANCELLED=1]="CANCELLED",Rg[Rg.UNKNOWN=2]="UNKNOWN",Rg[Rg.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rg[Rg.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rg[Rg.NOT_FOUND=5]="NOT_FOUND",Rg[Rg.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rg[Rg.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rg[Rg.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rg[Rg.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rg[Rg.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rg[Rg.ABORTED=10]="ABORTED",Rg[Rg.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rg[Rg.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rg[Rg.INTERNAL=13]="INTERNAL",Rg[Rg.UNAVAILABLE=14]="UNAVAILABLE",Rg[Rg.DATA_LOSS=15]="DATA_LOSS",
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
new sh([4294967295,4294967295],0);class Ng{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Pg(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Bg(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Vg(e,t){return Pg(e,t.toTimestamp())}function zg(e){return kh(!!e),Wh.fromTimestamp(function(e){const t=Cd(e);return new Gh(t.seconds,t.nanos)}(e))}function Ug(e,t){return jg(e,t).canonicalString()}function jg(e,t){const n=(r=e,new Xh(["projects",r.projectId,"databases",r.database])).child("documents");var r;return void 0===t?n:n.child(t)}function $g(e,t){return Ug(e.databaseId,t.path)}function qg(e){const t=function(e){const t=Xh.fromString(e);return kh(function(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)),t}(e);return 4===t.length?Xh.emptyPath():function(e){return kh(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}(t)}function Hg(e,t,n){return{name:$g(e,t),fields:n.value.mapValue.fields}}function Gg(e){let t=qg(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){kh(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Wg(e);return t instanceof df&&gf(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map((e=>{return new lf(Kg((t=e).field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction));var t})));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,ld(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new sf(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new sf(n,t)}(n.endAt)),function(e,t,n,r,i,s,o,a){return new Ff(e,t,n,r,i,s,o,a)}(t,i,o,s,a,"F",l,u)}function Wg(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Kg(e.unaryFilter.field);return hf.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Kg(e.unaryFilter.field);return hf.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Kg(e.unaryFilter.field);return hf.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Kg(e.unaryFilter.field);return hf.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Sh()}}(e):void 0!==e.fieldFilter?(t=e,hf.create(Kg(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Sh()}}(t.fieldFilter.op),t.fieldFilter.value)):void 0!==e.compositeFilter?function(e){return df.create(e.compositeFilter.filters.map((e=>Wg(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Sh()}}(e.compositeFilter.op))}(e):Sh();var t}function Kg(e){return Jh.fromServerFormat(e.fieldPath)}function Yg(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}class Xg{constructor(e){this.Tt=e}}function Qg(e){const t=Gg({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Of(t,t.limit,"L"):t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(){this.Tn=new Zg}addToCollectionParentIndex(e,t){return this.Tn.add(t),sd.resolve()}getCollectionParents(e,t){return sd.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return sd.resolve()}deleteFieldIndex(e,t){return sd.resolve()}deleteAllFieldIndexes(e){return sd.resolve()}createTargetIndexes(e,t){return sd.resolve()}getDocumentsMatchingTarget(e,t){return sd.resolve(null)}getIndexType(e,t){return sd.resolve(0)}getFieldIndexes(e,t){return sd.resolve([])}getNextCollectionGroupToUpdate(e){return sd.resolve(null)}getMinOffset(e,t){return sd.resolve(td.min())}getMinOffsetFromCollectionGroup(e,t){return sd.resolve(td.min())}updateCollectionGroup(e,t,n){return sd.resolve()}updateIndexEntries(e,t){return sd.resolve()}}class Zg{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new vd(Xh.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new vd(Xh.comparator)).toArray()}}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tp=41943040;class np{static withCacheSize(e){return new np(e,np.DEFAULT_COLLECTION_PERCENTILE,np.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */np.DEFAULT_COLLECTION_PERCENTILE=10,np.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,np.DEFAULT=new np(tp,np.DEFAULT_COLLECTION_PERCENTILE,np.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),np.DISABLED=new np(-1,0,0);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class rp{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new rp(0)}static Un(){return new rp(-1)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="LruGarbageCollector";function sp([e,t],[n,r]){const i=jh(e,n);return 0===i?jh(t,r):i}class op{constructor(e){this.Hn=e,this.buffer=new vd(sp),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();sp(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ap{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Xn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return null!==this.Xn}er(e){_h(ip,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){od(e)?_h(ip,"Ignoring IndexedDB error during garbage collection: ",e):await id(e)}await this.er(3e5)}))}}class lp{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return sd.resolve(ad.ae);const n=new op(t);return this.tr.forEachTarget(e,(e=>n.Zn(e.sequenceNumber))).next((()=>this.tr.rr(e,(e=>n.Zn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.tr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(_h("LruGarbageCollector","Garbage collection skipped; disabled"),sd.resolve(ep)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(_h("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ep):this.ir(e,t)))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let n,r,i,s,o,a,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(_h("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),wh()<=Dl.DEBUG&&_h("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${r} in `+(o-s)+`ms\n\tRemoved ${i} targets in `+(a-o)+`ms\n\tRemoved ${e} documents in `+(l-a)+`ms\nTotal Duration: ${l-u}ms`),sd.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class up{constructor(){this.changes=new zf((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rf.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?sd.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&wg(n.mutation,e,Dd.empty(),Gh.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Qf()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=Qf()){const r=Gf();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=qf();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Gf();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Qf())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=jf();const s=Kf(),o=Kf();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Tg)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),wg(o.mutation,t,o.mutation.getFieldMask(),Gh.now())):s.set(t.key,Dd.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new cp(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=Kf();let r=new pd(((e,t)=>e-t)),i=Qf();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||Dd.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||Qf()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,u=Wf();l.forEach((e=>{if(!i.has(e)){const r=bg(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,u))}return sd.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return i=t,Zh.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function(e){return null!==e.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r);var i}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):sd.resolve(Gf());let o=-1,a=i;return s.next((t=>sd.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?sd.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Qf()))).next((e=>({batchId:o,changes:Hf(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Zh(t)).next((e=>{let t=qf();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=qf();return this.indexManager.getCollectionParents(e,i).next((o=>sd.forEach(o,(o=>{const a=(l=t,u=o.child(i),new Ff(u,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,u;return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,rf.newInvalidDocument(r)))}));let n=qf();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&wg(s.mutation,r,Dd.empty(),Gh.now()),Bf(t,r)&&(n=n.insert(e,r))})),n}))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return sd.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,{id:(n=t).id,version:n.version,createTime:zg(n.createTime)}),sd.resolve();var n}getNamedQuery(e,t){return sd.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,{name:(n=t).name,query:Qg(n.bundledQuery),readTime:zg(n.readTime)}),sd.resolve();var n}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(){this.overlays=new pd(Zh.comparator),this.Rr=new Map}getOverlay(e,t){return sd.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Gf();return sd.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.Et(e,t,r)})),sd.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Rr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Rr.delete(n)),sd.resolve()}getOverlaysForCollection(e,t,n){const r=Gf(),i=t.length+1,s=new Zh(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return sd.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new pd(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Gf(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Gf(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return sd.resolve(o)}Et(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Rr.get(r.largestBatchId).delete(n.key);this.Rr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Mg(t,n));let i=this.Rr.get(t);void 0===i&&(i=Qf(),this.Rr.set(t,i)),this.Rr.set(t,i.add(n.key))}}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(){this.sessionToken=_d.EMPTY_BYTE_STRING}getSessionToken(e){return sd.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,sd.resolve()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(){this.Vr=new vd(mp.mr),this.gr=new vd(mp.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const n=new mp(e,t);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.wr(new mp(e,t))}br(e,t){e.forEach((e=>this.removeReference(e,t)))}Sr(e){const t=new Zh(new Xh([])),n=new mp(t,e),r=new mp(t,e+1),i=[];return this.gr.forEachInRange([n,r],(e=>{this.wr(e),i.push(e.key)})),i}Dr(){this.Vr.forEach((e=>this.wr(e)))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Zh(new Xh([])),n=new mp(t,e),r=new mp(t,e+1);let i=Qf();return this.gr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new mp(e,0),n=this.Vr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class mp{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Zh.comparator(e.key,t.key)||jh(e.Cr,t.Cr)}static pr(e,t){return jh(e.Cr,t.Cr)||Zh.comparator(e.key,t.key)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new vd(mp.mr)}checkEmpty(e){return sd.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Ig(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.Mr=this.Mr.add(new mp(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return sd.resolve(s)}lookupMutationBatch(e,t){return sd.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Nr(n),i=r<0?0:r;return sd.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return sd.resolve(0===this.mutationQueue.length?-1:this.Fr-1)}getAllMutationBatches(e){return sd.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new mp(t,0),r=new mp(t,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([n,r],(e=>{const t=this.Or(e.Cr);i.push(t)})),sd.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new vd(jh);return t.forEach((e=>{const t=new mp(e,0),r=new mp(e,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([t,r],(e=>{n=n.add(e.Cr)}))})),sd.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Zh.isDocumentKey(i)||(i=i.child(""));const s=new mp(new Zh(i),0);let o=new vd(jh);return this.Mr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Cr)),!0)}),s),sd.resolve(this.Br(o))}Br(e){const t=[];return e.forEach((e=>{const n=this.Or(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){kh(0===this.Lr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Mr;return sd.forEach(t.mutations,(r=>{const i=new mp(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Mr=n}))}qn(e){}containsKey(e,t){const n=new mp(t,0),r=this.Mr.firstAfterOrEqual(n);return sd.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,sd.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e){this.kr=e,this.docs=new pd(Zh.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.kr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return sd.resolve(n?n.document.mutableCopy():rf.newInvalidDocument(t))}getEntries(e,t){let n=jf();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():rf.newInvalidDocument(e))})),sd.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=jf();const s=t.path,o=new Zh(s.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||nd(ed(o),n)<=0||(r.has(o.key)||Bf(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return sd.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Sh()}qr(e,t){return sd.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new bp(this)}getSize(e){return sd.resolve(this.size)}}class bp extends up{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Ir.addEntry(e,r)):this.Ir.removeEntry(n)})),sd.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e){this.persistence=e,this.Qr=new zf((e=>xf(e)),Af),this.lastRemoteSnapshotVersion=Wh.min(),this.highestTargetId=0,this.$r=0,this.Kr=new pp,this.targetCount=0,this.Ur=rp.Kn()}forEachTarget(e,t){return this.Qr.forEach(((e,n)=>t(n))),sd.resolve()}getLastRemoteSnapshotVersion(e){return sd.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return sd.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),sd.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$r&&(this.$r=t),sd.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new rp(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,sd.resolve()}updateTargetData(e,t){return this.zn(t),sd.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,sd.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Qr.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Qr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),sd.waitFor(i).next((()=>r))}getTargetCount(e){return sd.resolve(this.targetCount)}getTargetData(e,t){const n=this.Qr.get(t)||null;return sd.resolve(n)}addMatchingKeys(e,t,n){return this.Kr.yr(t,n),sd.resolve()}removeMatchingKeys(e,t,n){this.Kr.br(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),sd.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),sd.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Kr.vr(t);return sd.resolve(n)}containsKey(e,t){return sd.resolve(this.Kr.containsKey(t))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new ad(0),this.zr=!1,this.zr=!0,this.jr=new gp,this.referenceDelegate=e(this),this.Hr=new Dp(this),this.indexManager=new Jg,this.remoteDocumentCache=new vp((e=>this.referenceDelegate.Jr(e))),this.serializer=new Xg(t),this.Yr=new dp(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new fp,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Wr[e.toKey()];return n||(n=new yp(t,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,n){_h("MemoryPersistence","Starting transaction:",e);const r=new _p(this.Gr.next());return this.referenceDelegate.Zr(),n(r).next((e=>this.referenceDelegate.Xr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}ei(e,t){return sd.or(Object.values(this.Wr).map((n=>()=>n.containsKey(e,t))))}}class _p extends rd{constructor(e){super(),this.currentSequenceNumber=e}}class Ep{constructor(e){this.persistence=e,this.ti=new pp,this.ni=null}static ri(e){return new Ep(e)}get ii(){if(this.ni)return this.ni;throw Sh()}addReference(e,t,n){return this.ti.addReference(n,t),this.ii.delete(n.toString()),sd.resolve()}removeReference(e,t,n){return this.ti.removeReference(n,t),this.ii.add(n.toString()),sd.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),sd.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach((e=>this.ii.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.ii.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return sd.forEach(this.ii,(n=>{const r=Zh.fromPath(n);return this.si(e,r).next((e=>{e||t.removeEntry(r,Wh.min())}))})).next((()=>(this.ni=null,t.apply(e))))}updateLimboDocument(e,t){return this.si(e,t).next((e=>{e?this.ii.delete(t.toString()):this.ii.add(t.toString())}))}Jr(e){return 0}si(e,t){return sd.or([()=>sd.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Cp{constructor(e,t){this.persistence=e,this.oi=new zf((e=>function(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=hd(t)),t=cd(e.get(n),t);return hd(t)}(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=function(e,t){return new lp(e,t)}(this,t)}static ri(e,t){return new Cp(e,t)}Zr(){}Xr(e){return sd.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}sr(e){let t=0;return this.rr(e,(e=>{t++})).next((()=>t))}rr(e,t){return sd.forEach(this.oi,((n,r)=>this.ar(e,n,r).next((e=>e?sd.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.qr(e,(r=>this.ar(e,r,t).next((e=>{e||(n++,i.removeEntry(r,Wh.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),sd.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),sd.resolve()}removeReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),sd.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),sd.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Xd(e.data.value)),t}ar(e,t,n){return sd.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.oi.get(t);return sd.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Hi=n,this.Ji=r}static Yi(e,t){let n=Qf(),r=Qf();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Tp(e,t.fromCache,n,r)}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=sl()?8:function(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")>0?6:4}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.rs(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ss(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Sp;return this._s(e,t,n).next((r=>{if(i.result=r,this.Xi)return this.us(e,t,n,r.size)}))})).next((()=>i.result))}us(e,t,n,r){return n.documentReadCount<this.es?(wh()<=Dl.DEBUG&&_h("QueryEngine","SDK will not create cache indexes for query:",Pf(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),sd.resolve()):(wh()<=Dl.DEBUG&&_h("QueryEngine","Query:",Pf(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ts*r?(wh()<=Dl.DEBUG&&_h("QueryEngine","The SDK decides to create cache indexes for query:",Pf(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mf(t))):sd.resolve())}rs(e,t){if(If(t))return sd.resolve(null);let n=Mf(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Of(t,null,"F"),n=Mf(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Qf(...r);return this.ns.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.cs(t,r);return this.ls(t,s,i,n.readTime)?this.rs(e,Of(t,null,"F")):this.hs(e,s,t,n)}))))})))))}ss(e,t,n,r){return If(t)||r.isEqual(Wh.min())?sd.resolve(null):this.ns.getDocuments(e,n).next((i=>{const s=this.cs(t,i);return this.ls(t,s,n,r)?sd.resolve(null):(wh()<=Dl.DEBUG&&_h("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Pf(t)),this.hs(e,s,t,function(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Wh.fromTimestamp(1e9===r?new Gh(n+1,0):new Gh(n,r));return new td(i,Zh.empty(),t)}(r,-1)).next((e=>e)))}))}cs(e,t){let n=new vd(function(e){return(t,n)=>{let r=!1;for(const i of Lf(e)){const e=Vf(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}(e));return t.forEach(((t,r)=>{Bf(e,r)&&(n=n.add(r))})),n}ls(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}_s(e,t,n){return wh()<=Dl.DEBUG&&_h("QueryEngine","Using full collection scan to execute query:",Pf(t)),this.ns.getDocumentsMatchingQuery(e,t,td.min(),n)}hs(e,t,n,r){return this.ns.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,t,n,r){this.persistence=e,this.Ps=t,this.serializer=r,this.Ts=new pd(jh),this.Is=new zf((e=>xf(e)),Af),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hp(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ts)))}}async function Ap(e,t){const n=xh(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.As(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=Qf();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({Rs:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function Fp(e,t){const n=xh(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}class Ip{constructor(){this.activeTargetIds=Jf}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Lp{constructor(){this.ho=new Ip,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,n){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Ip,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{To(e){}shutdown(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="ConnectivityMonitor";class Rp{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){_h(Op,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){_h(Op,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Np=null;function Pp(){return null===Np?Np=268435456+Math.round(2147483648*Math.random()):Np++,"0x"+Np.toString(16)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const Bp="RestConnection",Vp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zp{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${n}/databases/${r}`,this.wo=this.databaseId.database===Rd?`project_id=${n}`:`project_id=${n}&database_id=${r}`}bo(e,t,n,r,i){const s=Pp(),o=this.So(e,t.toUriEncodedString());_h(Bp,`Sending RPC '${e}' ${s}:`,o,n);const a={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(a,r,i),this.vo(e,o,a,n).then((t=>(_h(Bp,`Received RPC '${e}' ${s}: `,t),t)),(t=>{throw Ch(Bp,`RPC '${e}' ${s} failed with error: `,t,"url: ",o,"request:",n),t}))}Co(e,t,n,r,i,s){return this.bo(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+bh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}So(e,t){const n=Vp[e];return`${this.po}/v1/${t}:${n}`}terminate(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="WebChannelConnection";class $p extends zp{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,n,r){const i=Pp();return new Promise(((s,o)=>{const a=new ah;a.setWithCredentials(!0),a.listenOnce(uh.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case ch.NO_ERROR:const t=a.getResponseJson();_h(jp,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case ch.TIMEOUT:_h(jp,`RPC '${e}' ${i} timed out`),o(new Fh(Ah.DEADLINE_EXCEEDED,"Request time out"));break;case ch.HTTP_ERROR:const n=a.getStatus();if(_h(jp,`RPC '${e}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ah).indexOf(t)>=0?t:Ah.UNKNOWN}(t.status);o(new Fh(e,t.message))}else o(new Fh(Ah.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Fh(Ah.UNAVAILABLE,"Connection failed."));break;default:Sh()}}finally{_h(jp,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);_h(jp,`RPC '${e}' ${i} sending request:`,r),a.send(t,"POST",l,n,15)}))}Wo(e,t,n){const r=Pp(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=gh(),o=fh(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Do(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const u=i.join("");_h(jp,`Creating RPC '${e}' stream ${r}: ${u}`,a);const c=s.createWebChannel(u,a);let h=!1,d=!1;const f=new Up({Fo:t=>{d?_h(jp,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(h||(_h(jp,`Opening RPC '${e}' stream ${r} transport.`),c.open(),h=!0),_h(jp,`RPC '${e}' stream ${r} sending:`,t),c.send(t))},Mo:()=>c.close()}),g=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(t){setTimeout((()=>{throw t}),0)}}))};return g(c,lh.EventType.OPEN,(()=>{d||(_h(jp,`RPC '${e}' stream ${r} transport opened.`),f.Qo())})),g(c,lh.EventType.CLOSE,(()=>{d||(d=!0,_h(jp,`RPC '${e}' stream ${r} transport closed`),f.Ko())})),g(c,lh.EventType.ERROR,(t=>{d||(d=!0,Ch(jp,`RPC '${e}' stream ${r} transport errored:`,t),f.Ko(new Fh(Ah.UNAVAILABLE,"The operation could not be completed")))})),g(c,lh.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];kh(!!i);const s=i,o=(null==s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){_h(jp,`RPC '${e}' stream ${r} received error:`,o);const t=o.status;let n=function(e){const t=Og[e];if(void 0!==t)return function(e){if(void 0===e)return Eh("GRPC error has no .code"),Ah.UNKNOWN;switch(e){case Og.OK:return Ah.OK;case Og.CANCELLED:return Ah.CANCELLED;case Og.UNKNOWN:return Ah.UNKNOWN;case Og.DEADLINE_EXCEEDED:return Ah.DEADLINE_EXCEEDED;case Og.RESOURCE_EXHAUSTED:return Ah.RESOURCE_EXHAUSTED;case Og.INTERNAL:return Ah.INTERNAL;case Og.UNAVAILABLE:return Ah.UNAVAILABLE;case Og.UNAUTHENTICATED:return Ah.UNAUTHENTICATED;case Og.INVALID_ARGUMENT:return Ah.INVALID_ARGUMENT;case Og.NOT_FOUND:return Ah.NOT_FOUND;case Og.ALREADY_EXISTS:return Ah.ALREADY_EXISTS;case Og.PERMISSION_DENIED:return Ah.PERMISSION_DENIED;case Og.FAILED_PRECONDITION:return Ah.FAILED_PRECONDITION;case Og.ABORTED:return Ah.ABORTED;case Og.OUT_OF_RANGE:return Ah.OUT_OF_RANGE;case Og.UNIMPLEMENTED:return Ah.UNIMPLEMENTED;case Og.DATA_LOSS:return Ah.DATA_LOSS;default:return Sh()}}(t)}(t),i=o.message;void 0===n&&(n=Ah.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),d=!0,f.Ko(new Fh(n,i)),c.close()}else _h(jp,`RPC '${e}' stream ${r} received:`,i),f.Uo(i)}})),g(o,dh.STAT_EVENT,(t=>{t.stat===hh.PROXY?_h(jp,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===hh.NOPROXY&&_h(jp,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.$o()}),0),f}}function qp(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(e){return new Ng(e,!0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Ti=e,this.timerId=t,this.Go=n,this.zo=r,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),r=Math.max(0,t-n);r>0&&_h("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,(()=>(this.Yo=Date.now(),e()))),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){null!==this.Jo&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){null!==this.Jo&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp="PersistentStream";class Kp{constructor(e,t,n,r,i,s,o,a){this.Ti=e,this.n_=n,this.r_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Gp(e,t)}u_(){return 1===this.state||5===this.state||this.c_()}c_(){return 2===this.state||3===this.state}start(){this.__=0,4!==this.state?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&null===this.s_&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,(()=>this.T_())))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,4!==e?this.a_.reset():t&&t.code===Ah.RESOURCE_EXHAUSTED?(Eh(t.toString()),Eh("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===Ah.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.i_===t&&this.V_(e,n)}),(t=>{e((()=>{const e=new Fh(Ah.UNKNOWN,"Fetching auth token failed: "+t.message);return this.m_(e)}))}))}V_(e,t){const n=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo((()=>{n((()=>this.listener.xo()))})),this.stream.No((()=>{n((()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,(()=>(this.c_()&&(this.state=3),Promise.resolve()))),this.listener.No())))})),this.stream.Lo((e=>{n((()=>this.m_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.__?this.g_(e):this.onNext(e)))}))}l_(){this.state=5,this.a_.Xo((async()=>{this.state=0,this.start()}))}m_(e){return _h(Wp,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget((()=>this.i_===e?t():(_h(Wp,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Yp extends Kp{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return kh(!!e.streamToken),this.lastStreamToken=e.streamToken,kh(!e.writeResults||0===e.writeResults.length),this.listener.D_()}onNext(e){kh(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=function(e,t){return e&&e.length>0?(kh(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?zg(e.updateTime):zg(t);return n.isEqual(Wh.min())&&(n=zg(t)),new pg(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=zg(e.commitTime);return this.listener.v_(n,t)}C_(){const e={};e.database=function(e){return new Xh(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>function(e,t){let n;if(t instanceof Cg)n={update:Hg(e,t.key,t.value)};else if(t instanceof Ag)n={delete:$g(e,t.key)};else if(t instanceof Tg)n={update:Hg(e,t.key,t.data),updateMask:Yg(t.fieldMask)};else{if(!(t instanceof Fg))return Sh();n={verify:$g(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof og)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ag)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ug)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof hg)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw Sh()}(0,e)))),t.precondition.isNone||(n.currentDocument=(r=e,void 0!==(i=t.precondition).updateTime?{updateTime:Vg(r,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Sh())),n;var r,i}(this.serializer,e)))};this.I_(t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{}class Qp extends Xp{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.F_=!1}M_(){if(this.F_)throw new Fh(Ah.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,n,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,s])=>this.connection.bo(e,jg(t,n),r,i,s))).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ah.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Fh(Ah.UNKNOWN,e.toString())}))}Co(e,t,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.Co(e,jg(t,n),r,s,o,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ah.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Fh(Ah.UNKNOWN,e.toString())}))}terminate(){this.F_=!0,this.connection.terminate()}}class Jp{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){0===this.x_&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve()))))}q_(e){"Online"===this.state?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,"Online"===e&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Eh(t),this.N_=!1):_h("OnlineStateTracker",t)}Q_(){null!==this.O_&&(this.O_.cancel(),this.O_=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp="RemoteStore";class em{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To((e=>{n.enqueueAndForget((async()=>{rm(this)&&(_h(Zp,"Restarting streams for network reachability change."),await async function(e){const t=xh(e);t.W_.add(4),await nm(t),t.j_.set("Unknown"),t.W_.delete(4),await tm(t)}(this))}))})),this.j_=new Jp(n,r)}}async function tm(e){if(rm(e))for(const t of e.G_)await t(!0)}async function nm(e){for(const t of e.G_)await t(!1)}function rm(e){return 0===xh(e).W_.size}async function im(e,t,n){if(!od(t))throw t;e.W_.add(1),await nm(e),e.j_.set("Offline"),n||(n=()=>function(e){const t=xh(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Hr.getLastRemoteSnapshotVersion(e)))}(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{_h(Zp,"Retrying IndexedDB access"),await n(),e.W_.delete(1),await tm(e)}))}function sm(e,t){return t().catch((n=>im(e,n,t)))}async function om(e){const t=xh(e),n=mm(t);let r=t.K_.length>0?t.K_[t.K_.length-1].batchId:-1;for(;am(t);)try{const e=await Fp(t.localStore,r);if(null===e){0===t.K_.length&&n.P_();break}r=e.batchId,lm(t,e)}catch(i){await im(t,i)}um(t)&&cm(t)}function am(e){return rm(e)&&e.K_.length<10}function lm(e,t){e.K_.push(t);const n=mm(e);n.c_()&&n.b_&&n.S_(t.mutations)}function um(e){return rm(e)&&!mm(e).u_()&&e.K_.length>0}function cm(e){mm(e).start()}async function hm(e){mm(e).C_()}async function dm(e){const t=mm(e);for(const n of e.K_)t.S_(n.mutations)}async function fm(e,t,n){const r=e.K_.shift(),i=Lg.from(r,t,n);await sm(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await om(e)}async function gm(e,t){t&&mm(e).b_&&await async function(e,t){if(function(e){switch(e){case Ah.OK:return Sh();case Ah.CANCELLED:case Ah.UNKNOWN:case Ah.DEADLINE_EXCEEDED:case Ah.RESOURCE_EXHAUSTED:case Ah.INTERNAL:case Ah.UNAVAILABLE:case Ah.UNAUTHENTICATED:return!1;case Ah.INVALID_ARGUMENT:case Ah.NOT_FOUND:case Ah.ALREADY_EXISTS:case Ah.PERMISSION_DENIED:case Ah.FAILED_PRECONDITION:case Ah.ABORTED:case Ah.OUT_OF_RANGE:case Ah.UNIMPLEMENTED:case Ah.DATA_LOSS:return!0;default:return Sh()}}(n=t.code)&&n!==Ah.ABORTED){const n=e.K_.shift();mm(e).h_(),await sm(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await om(e)}var n}(e,t),um(e)&&cm(e)}async function pm(e,t){const n=xh(e);n.asyncQueue.verifyOperationInProgress(),_h(Zp,"RemoteStore received new credentials");const r=rm(n);n.W_.add(3),await nm(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await tm(n)}function mm(e){return e.Y_||(e.Y_=function(e,t,n){const r=xh(e);return r.M_(),new Yp(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:()=>Promise.resolve(),No:hm.bind(null,e),Lo:gm.bind(null,e),D_:dm.bind(null,e),v_:fm.bind(null,e)}),e.G_.push((async t=>{t?(e.Y_.h_(),await om(e)):(await e.Y_.stop(),e.K_.length>0&&(_h(Zp,`Stopping write stream with ${e.K_.length} pending writes`),e.K_=[]))}))),e.Y_
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class ym{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Ih,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new ym(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fh(Ah.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vm(e,t){if(Eh("AsyncQueue",`${t}: ${e}`),od(e))return new Fh(Ah.UNAVAILABLE,`${t}: ${e}`);throw e}class bm{constructor(){this.queries=Dm(),this.onlineState="Unknown",this.ia=new Set}terminate(){!function(e,t){const n=xh(e),r=n.queries;n.queries=Dm(),r.forEach(((e,n)=>{for(const r of n.ta)r.onError(t)}))}(this,new Fh(Ah.ABORTED,"Firestore shutting down"))}}function Dm(){return new zf((e=>Nf(e)),Rf)}var wm,_m;(_m=wm||(wm={}))._a="default",_m.Cache="cache";class Em{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.La={},this.ka=new zf((e=>Nf(e)),Rf),this.qa=new Map,this.Qa=new Set,this.$a=new pd(Zh.comparator),this.Ka=new Map,this.Ua=new pp,this.Wa={},this.Ga=new Map,this.za=rp.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return!0===this.ja}}async function Cm(e,t,n){const r=function(e){const t=xh(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Sm.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=km.bind(null,t),t}(e);try{const e=await function(e,t){const n=xh(e),r=Gh.now(),i=t.reduce(((e,t)=>e.add(t.key)),Qf());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=jf(),l=Qf();return n.ds.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=_g(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new Tg(e.key,t,nf(t.value.mapValue),mg.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:Hf(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Wa[e.currentUser.toKey()];r||(r=new pd(jh)),r=r.insert(t,n),e.Wa[e.currentUser.toKey()]=r}(r,e.batchId,n),await Fm(r,e.changes),await om(r.remoteStore)}catch(i){const e=vm(i,"Failed to persist write");n.reject(e)}}function Tm(e,t,n){const r=xh(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ka.forEach(((n,r)=>{const i=r.view.sa(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=xh(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.ta)i.sa(t)&&(r=!0)})),r&&function(e){e.ia.forEach((e=>{e.next()}))}(n)}(r.eventManager,t),e.length&&r.La.p_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Sm(e,t){const n=xh(e),r=t.batch.batchId;try{const e=await function(e,t){const n=xh(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ds.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=sd.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);kh(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Qf();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Am(n,r,null),xm(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Fm(n,e)}catch(i){await id(i)}}async function km(e,t,n){const r=xh(e);try{const e=await function(e,t){const n=xh(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(kh(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Am(r,t,n),xm(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Fm(r,e)}catch(O){await id(O)}}function xm(e,t){(e.Ga.get(t)||[]).forEach((e=>{e.resolve()})),e.Ga.delete(t)}function Am(e,t,n){const r=xh(e);let i=r.Wa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Wa[r.currentUser.toKey()]=i}}async function Fm(e,t,n){const r=xh(e),i=[],s=[],o=[];r.ka.isEmpty()||(r.ka.forEach(((e,a)=>{o.push(r.Ha(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient){const t=e?!e.fromCache:void 0;r.sharedClientState.updateQueryState(a.targetId,t?"current":"not-current")}if(e){i.push(e);const t=Tp.Yi(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.La.p_(i),await async function(e,t){const n=xh(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>sd.forEach(t,(t=>sd.forEach(t.Hi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>sd.forEach(t.Ji,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(r){if(!od(r))throw r;_h("LocalStore","Failed to update sequence numbers: "+r)}for(const i of t){const e=i.targetId;if(!i.fromCache){const t=n.Ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ts=n.Ts.insert(e,i)}}}(r.localStore,s))}async function Im(e,t){const n=xh(e);if(!n.currentUser.isEqual(t)){_h("SyncEngine","User change. New user:",t.toKey());const e=await Ap(n.localStore,t);n.currentUser=t,i="'waitForPendingWrites' promise is rejected due to a user change.",(r=n).Ga.forEach((e=>{e.forEach((e=>{e.reject(new Fh(Ah.CANCELLED,i))}))})),r.Ga.clear(),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Fm(n,e.Rs)}var r,i}class Lm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hp(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return function(e,t,n,r){return new xp(e,t,n,r)}(this.persistence,new kp,e.initialUser,this.serializer)}Xa(e){return new wp(Ep.ri,this.serializer)}Za(e){return new Lp}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lm.provider={build:()=>new Lm};class Mm extends Lm{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){kh(this.persistence.referenceDelegate instanceof Cp);const n=this.persistence.referenceDelegate.garbageCollector;return new ap(n,e.asyncQueue,t)}Xa(e){const t=void 0!==this.cacheSizeBytes?np.withCacheSize(this.cacheSizeBytes):np.DEFAULT;return new wp((e=>Cp.ri(e,t)),this.serializer)}}class Om{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Tm(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Im.bind(null,this.syncEngine),await async function(e,t){const n=xh(e);t?(n.W_.delete(2),await tm(n)):t||(n.W_.add(2),await nm(n),n.j_.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new bm}createDatastore(e){const t=Hp(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new $p(r));var r;return function(e,t,n,r){return new Qp(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new em(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Tm(this.syncEngine,e,0)),Rp.D()?new Rp:new Mp)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new Em(e,t,n,r,i,s);return o&&(a.ja=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=xh(e);_h(Zp,"RemoteStore shutting down."),t.W_.add(5),await nm(t),t.z_.shutdown(),t.j_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Om.provider={build:()=>new Om};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Rm="FirestoreClient";class Nm{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=vh.UNAUTHENTICATED,this.clientId=Uh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{_h(Rm,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(_h(Rm,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ih;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=vm(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Pm(e,t){e.asyncQueue.verifyOperationInProgress(),_h(Rm,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Ap(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Bm(e,t){e.asyncQueue.verifyOperationInProgress();const n=await async function(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){_h(Rm,"Using user provided OfflineComponentProvider");try{await Pm(e,e._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!("FirebaseError"===(n=i).name?n.code===Ah.FAILED_PRECONDITION||n.code===Ah.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code))throw i;Ch("Error using user provided cache. Falling back to memory cache: "+i),await Pm(e,new Lm)}}else _h(Rm,"Using default OfflineComponentProvider"),await Pm(e,new Mm(void 0));var n;return e._offlineComponents}(e);_h(Rm,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>pm(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>pm(t.remoteStore,n))),e._onlineComponents=t}function Vm(e){return async function(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(_h(Rm,"Using user provided OnlineComponentProvider"),await Bm(e,e._uninitializedComponentsProvider._online)):(_h(Rm,"Using default OnlineComponentProvider"),await Bm(e,new Om))),e._onlineComponents}(e).then((e=>e.syncEngine))}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const Um=new Map;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(e,t,n){if(!n)throw new Fh(Ah.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function $m(e){if(!Zh.isDocumentKey(e))throw new Fh(Ah.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function qm(e){if(Zh.isDocumentKey(e))throw new Fh(Ah.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Hm(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const n=(t=e).constructor?t.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var t;return"function"==typeof e?"a function":Sh()}function Gm(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Fh(Ah.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hm(e);throw new Fh(Ah.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="firestore.googleapis.com",Km=!0;class Ym{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Fh(Ah.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Wm,this.ssl=Km}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Km;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=tp;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Fh(Ah.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Fh(Ah.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zm(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Fh(Ah.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Fh(Ah.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Fh(Ah.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class Xm{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ym({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Fh(Ah.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Fh(Ah.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ym(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Mh;switch(e.type){case"firstParty":return new Ph(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Fh(Ah.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Um.get(e);t&&(_h("ComponentProvider","Removing Datastore"),Um.delete(e),t.terminate())}(this),Promise.resolve()}}function Qm(e,t,n,r={}){var i;const s=(e=Gm(e,Xm))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:e._getEmulatorOptions()}),a=`${t}:${n}`;s.host!==Wm&&s.host!==a&&Ch("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},s),{host:a,ssl:!1,emulatorOptions:r});if(!dl(l,o)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=vh.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Qa(JSON.stringify({alg:"none",type:"JWT"})),Qa(JSON.stringify(s)),""].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Fh(Ah.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new vh(s)}e._authCredentials=new Oh(new Lh(t,n))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Jm(this.firestore,e,this._query)}}class Zm{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ey(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zm(this.firestore,e,this._key)}}class ey extends Jm{constructor(e,t,n){super(e,t,function(e){return new Ff(e)}(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zm(this.firestore,null,new Zh(e))}withConverter(e){return new ey(this.firestore,e,this._path)}}function ty(e,t,...n){if(e=pl(e),jm("collection","path",t),e instanceof Xm){const r=Xh.fromString(t,...n);return qm(r),new ey(e,null,r)}{if(!(e instanceof Zm||e instanceof ey))throw new Fh(Ah.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Xh.fromString(t,...n));return qm(r),new ey(e.firestore,null,r)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ny="AsyncQueue";class ry{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Gp(this,"async_queue_retry"),this.bu=()=>{const e=qp();e&&_h(ny,"Visibility state changed to "+e.visibilityState),this.a_.t_()},this.Su=e;const t=qp();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=qp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise((()=>{}));const t=new Ih;return this.vu((()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Vu.push(e),this.Cu())))}async Cu(){if(0!==this.Vu.length){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!od(e))throw e;_h(ny,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo((()=>this.Cu()))}}vu(e){const t=this.Su.then((()=>(this.pu=!0,e().catch((e=>{this.gu=e,this.pu=!1;throw Eh("INTERNAL UNHANDLED ERROR: ",function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((e=>(this.pu=!1,e))))));return this.Su=t,t}enqueueAfterDelay(e,t,n){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const r=ym.createAndSchedule(this,e,t,n,(e=>this.Fu(e)));return this.fu.push(r),r}Du(){this.gu&&Sh()}verifyOperationInProgress(){}async Mu(){let e;do{e=this.Su,await e}while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then((()=>{this.fu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.fu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Mu()}))}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class iy extends Xm{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new ry,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ry(e),this._firestoreClient=void 0,await e}}}function sy(e){if(e._terminated)throw new Fh(Ah.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||function(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Od(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,zm(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Nm(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e),e._firestoreClient}class oy{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oy(_d.fromBase64String(e))}catch(t){throw new Fh(Ah.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new oy(_d.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Fh(Ah.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jh(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e){this._methodName=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Fh(Ah.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Fh(Ah.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return jh(this._lat,e._lat)||jh(this._long,e._long)}}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy=/^__.*__$/;class dy{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Tg(e,this.data,this.fieldMask,t,this.fieldTransforms):new Cg(e,this.data,t,this.fieldTransforms)}}function fy(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Sh()}}class gy{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new gy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.$u(e),r}Ku(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.Bu(),r}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Ty(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(0===e.length)throw this.Wu("Document fields must not be empty");if(fy(this.Lu)&&hy.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class py{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Hp(e)}ju(e,t,n,r=!1){return new gy({Lu:e,methodName:t,zu:n,path:Jh.emptyPath(),Qu:!1,Gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function my(e){const t=e._freezeSettings(),n=Hp(e._databaseId);return new py(e._databaseId,!!t.ignoreUndefinedProperties,n)}function yy(e,t,n,r,i,s={}){const o=e.ju(s.merge||s.mergeFields?2:0,t,n,i);_y("Data must be an object, but it was:",o,r);const a=Dy(r,o);let l,u;if(s.merge)l=new Dd(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Ey(t,r,n);if(!o.contains(i))throw new Fh(Ah.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Sy(e,i)||e.push(i)}l=new Dd(e),u=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,u=o.fieldTransforms;return new dy(new tf(a),l,u)}class vy extends ly{_toFieldTransform(e){return new gg(e.path,new og)}isEqual(e){return e instanceof vy}}function by(e,t){if(wy(e=pl(e)))return _y("Unsupported field value:",t,e),Dy(e,t);if(e instanceof ly)return function(e,t){if(!fy(t.Lu))throw t.Wu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Wu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Qu&&4!==t.Lu)throw t.Wu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=by(i,t.Uu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=pl(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return tg(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Gh.fromDate(e);return{timestampValue:Pg(t.serializer,n)}}if(e instanceof Gh){const n=new Gh(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Pg(t.serializer,n)}}if(e instanceof uy)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof oy)return{bytesValue:Bg(t.serializer,e._byteString)};if(e instanceof Zm){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Wu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Ug(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof cy)return n=e,r=t,{mapValue:{fields:{[Pd]:{stringValue:zd},[Ud]:{arrayValue:{values:n.toArray().map((e=>{if("number"!=typeof e)throw r.Wu("VectorValues must only contain numeric values.");return Zf(r.serializer,e)}))}}}}};var n,r;throw t.Wu(`Unsupported field value: ${Hm(e)}`)}(e,t)}function Dy(e,t){const n={};return gd(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):fd(e,((e,r)=>{const i=by(r,t.qu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function wy(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Gh||e instanceof uy||e instanceof oy||e instanceof Zm||e instanceof ly||e instanceof cy)}function _y(e,t,n){if(!wy(n)||("object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r))){const r=Hm(n);throw"an object"===r?t.Wu(e+" a custom object"):t.Wu(e+" "+r)}var r}function Ey(e,t,n){if((t=pl(t))instanceof ay)return t._internalPath;if("string"==typeof t)return function(e,t,n){if(t.search(Cy)>=0)throw Ty(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new ay(...t.split("."))._internalPath}catch(r){throw Ty(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}(e,t);throw Ty("Field path arguments must be of type string or ",e,!1,void 0,n)}const Cy=new RegExp("[~\\*/\\[\\]]");function Ty(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Fh(Ah.INVALID_ARGUMENT,a+e+l)}function Sy(e,t){return e.some((e=>e.isEqual(t)))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(e,t){const n=Gm(e.firestore,iy),r=function(e,t,...n){if(e=pl(e),1===arguments.length&&(t=Uh.newId()),jm("doc","path",t),e instanceof Xm){const r=Xh.fromString(t,...n);return $m(r),new Zm(e,null,new Zh(r))}{if(!(e instanceof Zm||e instanceof ey))throw new Fh(Ah.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Xh.fromString(t,...n));return $m(r),new Zm(e.firestore,e instanceof ey?e.converter:null,new Zh(r))}}(e),i=function(e,t){let n;return n=e?e.toFirestore(t):t,n}(e.converter,t);return function(e,t){return function(e,t){const n=new Ih;return e.asyncQueue.enqueueAndForget((async()=>Cm(await Vm(e),t,n))),n.promise}(sy(e),t)}(n,[yy(my(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,mg.exists(!1))]).then((()=>r))}function xy(){return new vy("serverTimestamp")}!function(e,t=!0){bh="11.4.0",ku(new ml("firestore",((e,{instanceIdentifier:n,options:r})=>{const i=e.getProvider("app").getImmediate(),s=new iy(new Rh(e.getProvider("auth-internal")),new Vh(i,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Fh(Ah.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nd(e.options.projectId,t)}(i,n),i);return r=Object.assign({useFetchStreams:t},r),s._setSettings(r),s}),"PUBLIC").setMultipleInstances(!0)),Mu(mh,yh,e),Mu(mh,yh,"esm2017")}();const Ay=Ua.getModuleLogger("analytics-service"),Fy="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname||window.location.search.includes("debug=true");(Fy||window.location.search.includes("analytics-debug=true"))&&(window.debugAnalytics=!0);const Iy=new class{constructor(){this.analytics=null,this.isInitialized=!1,this.scrollDepthThresholds=[25,50,75,100],this.trackedScrollDepth=new Set,this.sessionStartTime=Date.now(),this.interactionStarted=!1,this.moduleLogger=Ay}async init(e){if(this.isInitialized)return void this.moduleLogger.warn("Analytics service already initialized");this.moduleLogger.info("Initializing Analytics Service");if(!(await eh()))return this.moduleLogger.warn("Firebase Analytics is not supported in this environment"),void(Fy&&this.setupDebugMode());this.analytics=e,this.setupScrollDepthTracking(),this.setupTimeOnPageTracking(),this.trackInitialTrafficSource(),window.debugAnalytics&&this.setupDebugMode(),this.isInitialized=!0}setupDebugMode(){this.moduleLogger.info("Setting up analytics debug mode");let e=document.getElementById("analytics-debug-container");if(!e){e=document.createElement("div"),e.id="analytics-debug-container",Object.assign(e.style,{position:"fixed",bottom:"10px",right:"10px",width:"300px",maxHeight:"400px",overflowY:"auto",backgroundColor:"rgba(0, 0, 0, 0.8)",color:"#0F0",zIndex:"9999",padding:"10px",fontFamily:"monospace",fontSize:"12px",borderRadius:"5px",boxShadow:"0 0 10px rgba(0, 0, 0, 0.5)"});const t=document.createElement("div");t.textContent="Analytics Debug",t.style.fontWeight="bold",t.style.marginBottom="5px",t.style.borderBottom="1px solid #0F0",t.style.paddingBottom="5px",e.appendChild(t);const n=document.createElement("div");n.id="analytics-events",e.appendChild(n),document.body.appendChild(e)}this.debugLogEvent=(e,t)=>{this.moduleLogger.debug(`Analytics Event: ${e}`,t);const n=document.getElementById("analytics-events");if(n){const r=document.createElement("div");r.style.marginBottom="8px",r.style.borderBottom="1px dotted #333",r.style.paddingBottom="3px";const i=(new Date).toLocaleTimeString(),s=document.createElement("span");s.textContent=`[${i}] `,s.style.color="#AAA",r.appendChild(s);const o=document.createElement("span");o.textContent=`${e}: `,o.style.color="#FFF",o.style.fontWeight="bold",r.appendChild(o);const a=document.createElement("span");for(a.textContent=JSON.stringify(t),r.appendChild(a),n.insertBefore(r,n.firstChild);n.children.length>20;)n.removeChild(n.lastChild)}this.analytics&&nh(this.analytics,e,t)},this.debugSetUserProperties=e=>{this.moduleLogger.debug("Analytics User Properties:",e);const t=document.getElementById("analytics-events");if(t){const n=document.createElement("div");n.style.marginBottom="8px",n.style.borderBottom="1px dotted #333",n.style.paddingBottom="3px",n.style.color="#F0F";const r=(new Date).toLocaleTimeString(),i=document.createElement("span");i.textContent=`[${r}] `,i.style.color="#AAA",n.appendChild(i);const s=document.createElement("span");s.textContent="User Properties: ",s.style.color="#F0F",s.style.fontWeight="bold",n.appendChild(s);const o=document.createElement("span");o.textContent=JSON.stringify(e),n.appendChild(o),t.insertBefore(n,t.firstChild)}this.analytics&&th(this.analytics,e)}}trackInitialTrafficSource(){try{const e=this.getTrafficSource();this.moduleLogger.debug("Tracking traffic source",{source:e});const t={page_title:document.title,page_location:window.location.href,traffic_source:e};this.debugLogEvent?this.debugLogEvent("page_view",t):this.analytics&&nh(this.analytics,"page_view",t)}catch(e){this.moduleLogger.error("Error tracking traffic source",e)}}getTrafficSource(){const e=new URLSearchParams(window.location.search),t=e.get("utm_source"),n=e.get("utm_medium"),r=e.get("utm_campaign");if(t)return`${t}${n?"_"+n:""}${r?"_"+r:""}`;const i=document.referrer;if(!i)return"direct";try{const e=new URL(i).hostname;return e.includes("google")?"organic_google":e.includes("bing")?"organic_bing":e.includes("facebook")||e.includes("fb.com")?"social_facebook":e.includes("twitter")||e.includes("t.co")?"social_twitter":e.includes("linkedin")?"social_linkedin":e.includes("instagram")?"social_instagram":e.includes("youtube")?"social_youtube":`referral_${e}`}catch(s){return this.moduleLogger.error("Error parsing referrer",s),"unknown"}}setupScrollDepthTracking(){this.moduleLogger.debug("Setting up scroll depth tracking"),window.addEventListener("scroll",this.debounce((()=>{if(!this.analytics)return;const e=document.documentElement.scrollHeight,t=document.documentElement.clientHeight,n=window.scrollY,r=Math.floor(n/(e-t)*100);this.scrollDepthThresholds.forEach((e=>{if(r>=e&&!this.trackedScrollDepth.has(e)){this.trackedScrollDepth.add(e),this.moduleLogger.debug(`User reached ${e}% scroll depth`);const t={depth_percentage:e,page_title:document.title};this.debugLogEvent?this.debugLogEvent("scroll_depth",t):this.analytics&&nh(this.analytics,"scroll_depth",t)}}))}),500))}setupTimeOnPageTracking(){this.moduleLogger.debug("Setting up time on page tracking"),window.addEventListener("beforeunload",(()=>{if(!this.analytics)return;const e=Math.floor((Date.now()-this.sessionStartTime)/1e3);this.moduleLogger.debug(`User spent ${e} seconds on page`);const t={time_seconds:e,page_title:document.title,interaction_occurred:this.interactionStarted};this.debugLogEvent?this.debugLogEvent("session_duration",t):this.analytics&&nh(this.analytics,"session_duration",t)}));const e=["click","scroll","keypress"],t=()=>{if(!this.interactionStarted){this.interactionStarted=!0;const n=Math.floor((Date.now()-this.sessionStartTime)/1e3);this.moduleLogger.debug(`User started engaging after ${n} seconds`);const r={time_to_engage_seconds:n};this.debugLogEvent?this.debugLogEvent("first_interaction",r):this.analytics&&nh(this.analytics,"first_interaction",r),e.forEach((e=>{document.removeEventListener(e,t)}))}};e.forEach((e=>{document.addEventListener(e,t)}))}trackWaitlistSignup(e,t={}){if(this.analytics||this.debugLogEvent)try{const n=e.split("@")[1];this.moduleLogger.debug("Tracking waitlist signup",{emailDomain:n,hasAdditionalData:Object.keys(t).length>0});const r={email_domain:n,locale:t.locale||"unknown",form_name:"waitlist_signup",website_version:t.version||"unknown"},i={signed_up:!0,signup_date:(new Date).toISOString().split("T")[0],preferred_language:t.locale||"unknown",website_version:t.version||"unknown"};this.debugLogEvent?(this.debugLogEvent("generate_lead",r),this.debugSetUserProperties(i)):this.analytics&&(nh(this.analytics,"generate_lead",r),th(this.analytics,i))}catch(n){this.moduleLogger.error("Error tracking waitlist signup",n)}else this.moduleLogger.warn("Analytics not initialized, cannot track waitlist signup")}trackFeedbackSubmission(e,t={}){if(this.analytics||this.debugLogEvent)try{this.moduleLogger.debug("Tracking feedback submission",{feedbackLength:e,hasAdditionalData:Object.keys(t).length>0});const n={feedback_length:e,locale:t.locale||"unknown",website_version:t.version||"unknown"};this.debugLogEvent?this.debugLogEvent("submit_feedback",n):this.analytics&&nh(this.analytics,"submit_feedback",n)}catch(n){this.moduleLogger.error("Error tracking feedback submission",n)}else this.moduleLogger.warn("Analytics not initialized, cannot track feedback")}trackCTAClick(e,t,n,r={}){if(this.analytics||this.debugLogEvent)try{this.moduleLogger.debug("Tracking CTA click",{ctaId:e,ctaLocation:n});const i={content_type:"cta",content_id:e,content_text:t,content_location:n,website_version:r.version||"unknown"};this.debugLogEvent?this.debugLogEvent("select_content",i):this.analytics&&nh(this.analytics,"select_content",i)}catch(i){this.moduleLogger.error("Error tracking CTA click",i)}else this.moduleLogger.warn("Analytics not initialized, cannot track CTA click")}trackLanguageChange(e,t,n={}){if(this.analytics||this.debugLogEvent)try{this.moduleLogger.debug("Tracking language change",{previousLocale:e,newLocale:t});const r={previous_language:e,new_language:t,website_version:n.version||"unknown"},i={preferred_language:t};this.debugLogEvent?(this.debugLogEvent("language_change",r),this.debugSetUserProperties(i)):this.analytics&&(nh(this.analytics,"language_change",r),th(this.analytics,i))}catch(r){this.moduleLogger.error("Error tracking language change",r)}else this.moduleLogger.warn("Analytics not initialized, cannot track language change")}trackSectionView(e,t,n={}){if(this.analytics||this.debugLogEvent)try{this.moduleLogger.debug("Tracking section view",{sectionId:e,sectionName:t});const r={section_id:e,section_name:t,website_version:n.version||"unknown"};this.debugLogEvent?this.debugLogEvent("view_section",r):this.analytics&&nh(this.analytics,"view_section",r)}catch(r){this.moduleLogger.error("Error tracking section view",r)}else this.moduleLogger.warn("Analytics not initialized, cannot track section view")}trackWebsiteVersion(e){if(this.analytics||this.debugLogEvent)try{this.moduleLogger.debug("Tracking website version",{version:e});const t={website_version:e,assignment_type:"initial"},n={website_version:e};this.debugLogEvent?(this.debugLogEvent("website_version_view",t),this.debugSetUserProperties(n)):this.analytics&&(nh(this.analytics,"website_version_view",t),th(this.analytics,n))}catch(t){this.moduleLogger.error("Error tracking website version",t)}else this.moduleLogger.warn("Analytics not initialized, cannot track website version")}trackWebsiteVersionChange(e){if(this.analytics||this.debugLogEvent)try{this.moduleLogger.debug("Tracking website version change",{version:e});const t={website_version:e,assignment_type:"manual_change"},n={website_version:e};this.debugLogEvent?(this.debugLogEvent("website_version_change",t),this.debugSetUserProperties(n)):this.analytics&&(nh(this.analytics,"website_version_change",t),th(this.analytics,n))}catch(t){this.moduleLogger.error("Error tracking website version change",t)}else this.moduleLogger.warn("Analytics not initialized, cannot track website version change")}debounce(e,t){let n;return function(...r){clearTimeout(n),n=setTimeout((()=>{clearTimeout(n),e(...r)}),t)}}},Ly={apiKey:"AIzaSyAK2d6xeIebK9oX6uvEEX724r6rL5cABWk",authDomain:"jynx-app-landing-page.firebaseapp.com",projectId:"jynx-app-landing-page",storageBucket:"jynx-app-landing-page.firebasestorage.app",messagingSenderId:"983342272821",appId:"1:983342272821:web:8a34575722725feddd7c7c"},My=Ua.getModuleLogger("firebase-service");let Oy,Ry,Ny;try{Oy=Iu(Ly);try{Ny=function(e){const t="object"==typeof e?e:Lu(),n="string"==typeof e?e:Rd,r=xu(t,"firestore").getImmediate({identifier:n});if(!r._initialized){const e=tl("firestore");e&&Qm(r,...e)}return r}(Oy)}catch(nv){My.error("Firestore initialization failed",nv),Ny={collection:()=>({add:()=>Promise.resolve({id:"offline-mode"})})}}const e=()=>{try{Ry=Zc(Oy),Iy.init(Ry).catch((e=>{My.warn("Analytics initialization failed, continuing without analytics",e)}))}catch(e){My.warn("Analytics initialization failed",e),Ry={logEvent:()=>{}}}};eh().then((t=>{t?e():My.warn("Analytics not supported in this environment")})).catch((t=>{My.warn("Error checking analytics support",t),e()})),My.info("Firebase service initialized successfully")}catch(rv){My.error("Failed to initialize Firebase",rv),Oy={},Ry={logEvent:()=>{}},Ny={collection:()=>({add:()=>Promise.resolve({id:"offline-mode"})})}}const Py={app:Oy,db:Ny,analytics:Ry,addToWaitlist:async function(e,t={}){My.info("Adding email to waitlist",{email:e.substring(0,3)+"..."});try{My.time("waitlist-submission");const n=await ky(ty(Ny,"waitlist"),{email:e,...t,timestamp:xy(),source:window.location.href,userAgent:navigator.userAgent,browserLanguage:navigator.language||navigator.userLanguage});return My.timeEnd("waitlist-submission"),My.info("Email added to waitlist successfully",{docId:n.id}),Iy.trackWaitlistSignup(e,t),{success:!0,id:n.id}}catch(rv){throw My.error("Error adding email to waitlist",rv),rv}},submitFeedback:async function(e,t={}){My.info("Submitting feedback",{feedbackLength:e.length,feedbackPreview:e.substring(0,20)+(e.length>20?"...":"")});try{My.time("feedback-submission");const n=await ky(ty(Ny,"feedback"),{feedback:e,...t,timestamp:xy(),source:window.location.href,userAgent:navigator.userAgent,browserLanguage:navigator.language||navigator.userLanguage,pathname:window.location.pathname});return My.timeEnd("feedback-submission"),My.info("Feedback submitted successfully",{docId:n.id}),Iy.trackFeedbackSubmission(e.length,t),{success:!0,id:n.id}}catch(rv){throw My.error("Error submitting feedback",rv),rv}}},By=Ua.getModuleLogger("form-error-handler");const Vy=new class{constructor(){this.errorKeys={"permission-denied":"form.errors.permission_denied","invalid-argument":"form.errors.invalid_argument","not-found":"form.errors.not_found",unavailable:"form.errors.server_unavailable","resource-exhausted":"form.errors.too_many_requests",internal:"form.errors.server_error","network-error":"form.errors.network_error",timeout:"form.errors.timeout","invalid-email":"form.errors.invalid_email","empty-field":"form.errors.empty_field",default:"form.errors.default"}}handleError(e,t,n={}){By.error("Form error",e);const r={clearOnFocus:!0,associatedInput:null,...n},i=e.code&&e.code.split("/")[1]||e.code||e.name||"default",s=this.getErrorMessage(i,e.message);return t&&(t.textContent=s,t.setAttribute("role","alert"),t.classList.add("active"),r.clearOnFocus&&r.associatedInput&&r.associatedInput.addEventListener("focus",(()=>{t.textContent="",t.classList.remove("active"),t.removeAttribute("role")}),{once:!0})),s}getErrorMessage(t,n){if(this.errorKeys[t])return e.translate(this.errorKeys[t]);for(const r in this.errorKeys)if(t.includes(r))return e.translate(this.errorKeys[r]);return By.debug("Unknown error code, using fallback",{code:t,fallback:!!n}),n||e.translate(this.errorKeys.default)}};const zy=new class{constructor(){this.isInitialized=!1,this.logger=Ua.getModuleLogger("form-manager"),this.logger.info("FormManager instance created")}init(){if(this.isInitialized)this.logger.warn("FormManager already initialized");else{this.logger.time("form-manager-initialization"),this.logger.info("Initializing form manager");try{this.logger.debug("Setting up forms"),this.setupForms(),this.logger.debug("Setting up feedback system"),this.setupFeedbackSystem(),this.logger.info("Form manager initialization complete")}catch(e){this.logger.error("Form manager initialization failed",e)}finally{this.isInitialized=!0,this.logger.timeEnd("form-manager-initialization")}}}setupForms(){this.logger.debug("Setting up form handlers");const t=document.getElementById("signup-form"),n=document.getElementById("email"),r=document.getElementById("email-error");this.logger.debug("Form elements:",{signupFormFound:!!t,emailInputFound:!!n,emailErrorFound:!!r});const i=document.getElementById("combined-form");t?(this.logger.debug("Adding event listener to signup form"),t.addEventListener("submit",(async i=>{i.preventDefault(),this.logger.debug("Signup form submitted");const s=n.value.trim();if(this.logger.debug("Validating email",{email:s.substring(0,3)+"..."}),!this.validateEmail(s))return this.logger.debug("Email validation failed"),r.textContent=e.translate("form.email.error"),void n.focus();r.textContent="",this.logger.debug("Email validation passed, proceeding with submission");try{const n=t.querySelector('button[type="submit"]');qa(n,e.translate("form.submitting")),this.logger.debug("Form in submission state"),this.logger.time("form-submission");const r=await this.submitWaitlistEmail(s);this.logger.timeEnd("form-submission"),this.logger.info("Form submission successful",{email:s.substring(0,3)+"...",success:r.success,duration:r.duration+"ms"}),this.logger.debug("Animating form success state"),ja.setupFormAnimation(t,(()=>{t.innerHTML=`<div class="success-message">${e.translate("form.success")}</div>`;const n=t.querySelector(".success-message");n&&(n.style.opacity="0",n.style.transform="translateY(20px)",n.style.transition="opacity 0.6s ease-out, transform 0.6s ease-out",requestAnimationFrame((()=>{n.style.opacity="1",n.style.transform="translateY(0)"}))),this.logger.debug("Success message displayed")}))}catch(rv){this.logger.error("Form submission error:",rv);const i=t.querySelector('button[type="submit"]');Ha(i),Vy.handleError(rv,r,{clearOnFocus:!0,associatedInput:n})}}))):i?this.logger.info("Using combined form instead of separate signup form"):this.logger.debug("Signup form not found. This is expected if using the combined form approach."),Ga()}setupFeedbackSystem(){this.logger.debug("Setting up feedback system");const t=document.getElementById("feedback-form"),n=document.getElementById("feedback-thanks"),r=document.getElementById("combined-form"),i=document.getElementById("form-thanks");this.logger.debug("Feedback elements:",{feedbackFormFound:!!t,feedbackThanksFound:!!n,combinedFormFound:!!r,formThanksFound:!!i}),r?this.logger.info("Using combined form approach for feedback"):t?(this.logger.debug("Setting up feedback form"),t.style.opacity="1",t.style.height="auto",this.logger.debug("Feedback form is always visible"),t.addEventListener("submit",(async r=>{r.preventDefault(),this.logger.debug("Feedback form submitted");const i=document.getElementById("feedback-text").value.trim();if(i){this.logger.debug("Feedback text provided, length:",i.length);try{const r=t.querySelector('button[type="submit"]');qa(r,e.translate("feedback.submitting")),this.logger.debug("Feedback form in submission state"),this.logger.time("feedback-submission");const s=await this.submitFeedback(i);this.logger.timeEnd("feedback-submission"),this.logger.info("Feedback submission successful",{type:"positive",textLength:i.length,success:s.success}),this.logger.debug("Animating feedback form out"),t.style.transition="height 0.5s ease-in, opacity 0.5s ease-in",t.style.height=t.scrollHeight+"px",requestAnimationFrame((()=>{t.style.height="0",t.style.opacity="0",t.addEventListener("transitionend",(()=>{t.classList.add("hidden"),t.reset(),this.logger.trace("Feedback form hidden and reset"),this.logger.debug("Animating thanks message in"),n.style.opacity="0",n.style.transform="scale(0.9)",n.style.transition="opacity 0.5s ease-out, transform 0.5s ease-out",n.classList.remove("hidden"),requestAnimationFrame((()=>{n.style.opacity="1",n.style.transform="scale(1)",this.logger.debug("Thanks message shown, scheduling auto-hide"),setTimeout((()=>{n.style.opacity="0",n.style.transform="scale(0.9)",n.addEventListener("transitionend",(()=>{n.classList.add("hidden"),Ha(r),this.logger.debug("Reset feedback UI state")}),{once:!0})}),3e3)}))}))}))}catch(rv){this.logger.error("Feedback submission error:",rv);const n=t.querySelector('button[type="submit"]');Ha(n);const r=document.createElement("div");r.classList.add("error-message"),t.appendChild(r),Vy.handleError(rv,r),setTimeout((()=>{r.parentNode&&r.parentNode.removeChild(r)}),5e3)}}else this.logger.debug("Empty feedback text, submission ignored")}))):this.logger.debug("Separate feedback form not found. This is expected when using the combined form approach.")}validateEmail(e){this.logger.trace("Validating email format");return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}async submitWaitlistEmail(t){this.logger.debug("Submitting email to waitlist",{email:t.substring(0,3)+"..."});try{let r="en";try{r=e.getCurrentLocale()}catch(n){r=(navigator.language||navigator.userLanguage||"en").split("-")[0],this.logger.warn("Could not get current locale, using fallback",{locale:r})}const i={uiLanguage:r};return await Py.addToWaitlist(t,i)}catch(rv){throw this.logger.error("Waitlist submission error",rv),rv}}async submitFeedback(t){this.logger.debug("Submitting feedback",{feedbackLength:t.length});try{let r="en";try{r=e.getCurrentLocale()}catch(n){r=(navigator.language||navigator.userLanguage||"en").split("-")[0],this.logger.warn("Could not get current locale, using fallback",{locale:r})}const i={uiLanguage:r};return await Py.submitFeedback(t,i)}catch(rv){throw this.logger.error("Feedback submission error",rv),rv}}},Uy=Ua.getModuleLogger("animation-helper");const jy={restartAllAnimations:function(){Uy.info("Restarting all animations"),document.querySelectorAll(".animated").forEach((e=>{e.classList.remove("animated")})),document.body.offsetHeight,setTimeout((()=>{document.querySelectorAll(".will-animate").forEach((e=>{e.classList.add("animated")})),Uy.debug("All animations restarted")}),50)},setupHeroParallax:function(){const e=document.querySelector(".hero");if(!e)return void Uy.warn("Hero element not found, skipping parallax setup");Uy.info("Setting up hero background parallax effect");const t=window.matchMedia("(max-width: 768px)").matches,n=window.matchMedia("(prefers-reduced-motion: reduce)").matches;if(t||n)return void Uy.debug("Skipping parallax: "+(t?"mobile device detected":"reduced motion preference detected"));e.classList.add("parallax-background");let r=!1;window.addEventListener("scroll",(function(){r||(window.requestAnimationFrame((function(){const t=window.scrollY;if(t<window.innerHeight){const n=.2*t;e.style.backgroundPosition=`center calc(center - ${n}px)`}r=!1})),r=!0)}),{passive:!0}),Uy.debug("Hero parallax effect setup complete")}};const $y=new class{constructor(){this.isReady=!1,this.domReady=!1,this.stylesReady=!1,this.resourcesLoaded=!1,this.readyCallbacks=[],this.backgroundLoadCallbacks=[]}init(){document.documentElement.classList.add("js-loading"),document.addEventListener("DOMContentLoaded",(()=>{this.domReady=!0,this.checkReady()})),this.trackStylesheets(),this.setMaxLoadingTime(3e3)}trackStylesheets(){if(0===Array.from(document.styleSheets).length)return this.stylesReady=!0,void this.checkReady();const e=()=>{Array.from(document.styleSheets).every((e=>{try{return null!==e.cssRules}catch(t){return"SecurityError"===t.name}}))?(this.stylesReady=!0,this.checkReady()):setTimeout(e,50)};e()}setMaxLoadingTime(e){setTimeout((()=>{this.isReady||(console.warn("Maximum loading time reached, forcing ready state"),this.forceReady())}),e)}forceReady(){this.isReady=!0,this.domReady=!0,this.stylesReady=!0,this.resourcesLoaded=!0,document.documentElement.classList.remove("js-loading"),document.body.classList.remove("loading-state"),this.executeReadyCallbacks(),this.executeBackgroundLoadCallbacks()}resourcesComplete(){this.resourcesLoaded=!0,this.checkReady(),this.executeBackgroundLoadCallbacks()}checkReady(){this.domReady&&this.stylesReady&&this.resourcesLoaded&&!this.isReady&&(this.isReady=!0,document.documentElement.classList.remove("js-loading"),document.body.classList.remove("loading-state"),this.executeReadyCallbacks())}onReady(e){this.isReady?e():this.readyCallbacks.push(e)}onBackgroundLoadSafe(e){if(this.resourcesLoaded)try{e()}catch(rv){console.error("Error executing background load callback:",rv)}else this.backgroundLoadCallbacks.push(e)}executeReadyCallbacks(){this.readyCallbacks.forEach((e=>{try{e()}catch(rv){console.error("Error executing ready callback",rv)}})),this.readyCallbacks=[]}executeBackgroundLoadCallbacks(){this.backgroundLoadCallbacks.forEach((e=>{try{e()}catch(rv){console.error("Error executing background load callback",rv)}})),this.backgroundLoadCallbacks=[]}};const qy=new class{constructor(){this.log=Ua.getModuleLogger("loading-transition"),this.initialized=!1,this.languageReady=!1,this.uiReady=!1,this.transitionStarted=!1}init(){this.initialized?this.log.warn("LoadingTransitionManager already initialized"):(this.log.info("Initializing loading transition manager"),e.addObserver((()=>{this.languageReady=!0,this.checkReadyState()})),window.addEventListener("DOMContentLoaded",(()=>{this.uiReady=!0,this.checkReadyState()})),$y.onReady((()=>{this.log.debug("Page loader signaled ready state"),this.startTransition()})),this.fallbackTimeout=setTimeout((()=>{this.log.warn("Fallback timeout reached, forcing transition"),this.startTransition()}),3e3),this.initialized=!0,this.log.info("Loading transition manager initialized"))}checkReadyState(){this.log.debug(`Ready state check - Language: ${this.languageReady}, UI: ${this.uiReady}`),this.languageReady&&this.uiReady&&!this.transitionStarted&&setTimeout((()=>{this.startTransition()}),800)}startTransition(){if(this.transitionStarted)return;this.transitionStarted=!0,clearTimeout(this.fallbackTimeout),this.log.info("Starting transition to loaded state");document.querySelector(".diamond-splash")?(this.log.debug("Diamond animation detected, letting it handle the transition"),document.addEventListener("diamond-animation-complete",(()=>{this.log.debug("Diamond animation complete, transitioning to loaded state"),this.completeTransition()}),{once:!0}),setTimeout((()=>{document.body.classList.contains("loading-state")&&(this.log.warn("Diamond animation did not complete, forcing transition"),this.completeTransition())}),2500)):this.completeTransition()}completeTransition(){requestAnimationFrame((()=>{document.documentElement.classList.remove("js-loading"),document.body.classList.remove("loading-state"),document.body.classList.add("loaded"),setTimeout((()=>{this.log.debug("Transition complete, triggering animations"),jy.restartAllAnimations(),document.dispatchEvent(new CustomEvent("loading-transition-complete"))}),500)}))}},Hy={default:"cyberpunkBlue",alternate:"neonPurple"},Gy={cyberpunkBlue:{id:"cyberpunkBlue",name:"Cyberpunk Blue",cssVariables:{"--color-primary":"#2563eb","--color-primary-hover":"#1d4ed8","--color-secondary":"#7c3aed","--color-secondary-hover":"#6d28d9","--color-neon":"#4ade80","--color-electric-purple":"#8b31ff","--color-dark":"#050510","--color-background":"#070718","--color-surface":"#0f0f1e","--gradient-cyberpunk":"linear-gradient(135deg, #2563eb 0%, #7c3aed 100%)","--gradient-hero":"radial-gradient(circle at center, rgba(74, 222, 128, 0.2) 0%, rgba(37, 99, 235, 0.15) 50%, transparent 100%)","--shadow-neon":"0 0 15px rgba(74, 222, 128, 0.5)","--shadow-neon-intense":"0 0 10px rgba(74, 222, 128, 0.7), 0 0 20px rgba(74, 222, 128, 0.5), 0 0 30px rgba(74, 222, 128, 0.3)","--noise-overlay-color":"rgba(7, 7, 24, 0.3)","--floor-background":"radial-gradient(ellipse at center, rgba(37, 99, 235, 0.1) 0%, transparent 80%)"},buttonStyles:{variant:"rounded",glowEffect:!0,borderWidth:"2px",customVariables:{"--button-text-transform":"uppercase","--button-letter-spacing":"0.05em","--button-padding":"0.85rem 1.75rem","--button-border-radius":"var(--border-radius-full)","--button-transition":"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","--button-shadow":"0 4px 14px rgba(242, 36, 114, 0.25)","--button-hover-transform":"translateY(-2px)"}}},neonPurple:{id:"neonPurple",name:"Coral Fusion",cssVariables:{"--color-primary":"#FF0061","--color-primary-hover":"#d11a5f","--color-secondary":"#c902a8","--color-neon":"#ff0019","--color-neon-glow":"#ff0019","--color-electric-purple":"#FA0575","--color-electric-blue":"#ff0019","--color-dark":"#000000","--color-background":"#220e19","--gradient-cyberpunk":"linear-gradient(135deg, #F22472 0%, #EB6529 100%)","--gradient-hero":"radial-gradient(circle at center, rgba(254, 165, 164, 0.2) 0%, rgba(242, 36, 114, 0.15) 50%, transparent 100%)","--shadow-neon":"0 0 15px rgba(250, 5, 117, 0.5)","--shadow-neon-intense":"0 0 10px rgba(250, 5, 117, 0.7), 0 0 20px rgba(250, 5, 117, 0.5), 0 0 30px rgba(250, 5, 117, 0.3)","--noise-overlay-color":"rgba(26, 12, 20, 0.25)","--floor-background":"radial-gradient(ellipse at center, rgba(242, 36, 114, 0.1) 0%, transparent 80%)","--color-primary-rgb":"#ff0019","--color-neon-rgb":"250, 5, 117","--color-accent-rgb":"254, 165, 164"},buttonStyles:{variant:"rounded",glowEffect:!0,borderWidth:"2px",customVariables:{"--button-text-transform":"uppercase","--button-letter-spacing":"0.05em","--button-padding":"0.85rem 1.75rem","--button-border-radius":"var(--border-radius-full)","--button-transition":"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","--button-shadow":"0 4px 14px rgba(242, 36, 114, 0.25)","--button-hover-transform":"translateY(-2px)"}}},retroWave:{id:"retroWave",name:"Retro Wave",cssVariables:{"--color-primary":"#ff2a6d","--color-primary-hover":"#e01e5a","--color-secondary":"#05d9e8","--color-secondary-hover":"#00b5c4","--color-neon":"#d1f7ff","--color-electric-purple":"#b83dba","--color-electric-blue":"#05d9e8","--color-dark":"#1a1a2e","--color-background":"#212136","--color-surface":"#2b2b46","--gradient-cyberpunk":"linear-gradient(135deg, #ff2a6d 0%, #05d9e8 100%)","--gradient-hero":"radial-gradient(circle at center, rgba(209, 247, 255, 0.2) 0%, rgba(255, 42, 109, 0.15) 50%, transparent 100%)","--shadow-neon":"0 0 15px rgba(209, 247, 255, 0.5)","--shadow-neon-intense":"0 0 10px rgba(209, 247, 255, 0.7), 0 0 20px rgba(209, 247, 255, 0.5), 0 0 30px rgba(209, 247, 255, 0.3)","--noise-overlay-color":"rgba(26, 26, 46, 0.3)","--floor-background":"radial-gradient(ellipse at center, rgba(255, 42, 109, 0.1) 0%, transparent 80%)"},buttonStyles:{variant:"rounded",glowEffect:!0,borderWidth:"2px",customVariables:{"--button-text-transform":"uppercase","--button-letter-spacing":"0.05em","--button-padding":"0.85rem 1.75rem","--button-border-radius":"var(--border-radius-full)","--button-transition":"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","--button-shadow":"0 4px 14px rgba(242, 36, 114, 0.25)","--button-hover-transform":"translateY(-2px)"}}},cyberRed:{id:"cyberRed",name:"Cyber Red",cssVariables:{"--color-primary":"#ef4444","--color-primary-hover":"#dc2626","--color-secondary":"#3b82f6","--color-secondary-hover":"#2563eb","--color-neon":"#22d3ee","--color-electric-purple":"#8b5cf6","--color-electric-blue":"#60a5fa","--color-dark":"#18181b","--color-background":"#27272a","--color-surface":"#3f3f46","--gradient-cyberpunk":"linear-gradient(135deg, #ef4444 0%, #3b82f6 100%)","--gradient-hero":"radial-gradient(circle at center, rgba(34, 211, 238, 0.2) 0%, rgba(239, 68, 68, 0.15) 50%, transparent 100%)","--shadow-neon":"0 0 15px rgba(34, 211, 238, 0.5)","--shadow-neon-intense":"0 0 10px rgba(34, 211, 238, 0.7), 0 0 20px rgba(34, 211, 238, 0.5), 0 0 30px rgba(34, 211, 238, 0.3)","--noise-overlay-color":"rgba(24, 24, 27, 0.3)","--floor-background":"radial-gradient(ellipse at center, rgba(239, 68, 68, 0.1) 0%, transparent 80%)"},buttonStyles:{variant:"rounded",glowEffect:!0,borderWidth:"2px",customVariables:{"--button-text-transform":"uppercase","--button-letter-spacing":"0.05em","--button-padding":"0.85rem 1.75rem","--button-border-radius":"var(--border-radius-full)","--button-transition":"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","--button-shadow":"0 4px 14px rgba(242, 36, 114, 0.25)","--button-hover-transform":"translateY(-2px)"}}},neonGreen:{id:"neonGreen",name:"Neon Green",cssVariables:{"--color-primary":"#10b981","--color-primary-hover":"#059669","--color-secondary":"#8b5cf6","--color-secondary-hover":"#7c3aed","--color-neon":"#fef08a","--color-electric-purple":"#8b5cf6","--color-electric-blue":"#3b82f6","--color-dark":"#064e3b","--color-background":"#065f46","--color-surface":"#047857","--gradient-cyberpunk":"linear-gradient(135deg, #10b981 0%, #8b5cf6 100%)","--gradient-hero":"radial-gradient(circle at center, rgba(254, 240, 138, 0.2) 0%, rgba(16, 185, 129, 0.15) 50%, transparent 100%)","--shadow-neon":"0 0 15px rgba(254, 240, 138, 0.5)","--shadow-neon-intense":"0 0 10px rgba(254, 240, 138, 0.7), 0 0 20px rgba(254, 240, 138, 0.5), 0 0 30px rgba(254, 240, 138, 0.3)","--noise-overlay-color":"rgba(6, 78, 59, 0.3)","--floor-background":"radial-gradient(ellipse at center, rgba(16, 185, 129, 0.1) 0%, transparent 80%)"},buttonStyles:{variant:"rounded",glowEffect:!0,borderWidth:"2px",customVariables:{"--button-text-transform":"uppercase","--button-letter-spacing":"0.05em","--button-padding":"0.85rem 1.75rem","--button-border-radius":"var(--border-radius-full)","--button-transition":"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","--button-shadow":"0 4px 14px rgba(242, 36, 114, 0.25)","--button-hover-transform":"translateY(-2px)"}}},magentaFusion:{id:"magentaFusion",name:"Magenta Fusion",cssVariables:{"--color-primary":"#e879f9","--color-primary-hover":"#d946ef","--color-secondary":"#2dd4bf","--color-secondary-hover":"#14b8a6","--color-neon":"#bae6fd","--color-electric-purple":"#d8b4fe","--color-electric-blue":"#7dd3fc","--color-dark":"#701a75","--color-background":"#86198f","--color-surface":"#a21caf","--gradient-cyberpunk":"linear-gradient(135deg, #e879f9 0%, #2dd4bf 100%)","--gradient-hero":"radial-gradient(circle at center, rgba(186, 230, 253, 0.2) 0%, rgba(232, 121, 249, 0.15) 50%, transparent 100%)","--shadow-neon":"0 0 15px rgba(186, 230, 253, 0.5)","--shadow-neon-intense":"0 0 10px rgba(186, 230, 253, 0.7), 0 0 20px rgba(186, 230, 253, 0.5), 0 0 30px rgba(186, 230, 253, 0.3)","--noise-overlay-color":"rgba(112, 26, 117, 0.3)","--floor-background":"radial-gradient(ellipse at center, rgba(232, 121, 249, 0.1) 0%, transparent 80%)"},buttonStyles:{variant:"rounded",glowEffect:!0,borderWidth:"2px",customVariables:{"--button-text-transform":"uppercase","--button-letter-spacing":"0.05em","--button-padding":"0.85rem 1.75rem","--button-border-radius":"var(--border-radius-full)","--button-transition":"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","--button-shadow":"0 4px 14px rgba(242, 36, 114, 0.25)","--button-hover-transform":"translateY(-2px)"}}},midnightElegance:{id:"midnightElegance",name:"Midnight Elegance",cssVariables:{"--color-primary":"#4f46e5","--color-primary-hover":"#4338ca","--color-secondary":"#94a3b8","--color-secondary-hover":"#64748b","--color-neon":"#e2e8f0","--color-neon-glow":"rgba(226, 232, 240, 0.5)","--color-electric-purple":"#6366f1","--color-electric-blue":"#3b82f6","--color-dark":"#0f172a","--color-background":"#1e293b","--color-surface":"#334155","--color-surface-lighter":"#475569","--gradient-cyberpunk":"linear-gradient(135deg, #4f46e5 0%, #94a3b8 100%)","--gradient-hero":"radial-gradient(circle at center, rgba(226, 232, 240, 0.1) 0%, rgba(79, 70, 229, 0.05) 50%, transparent 100%)","--shadow-neon":"0 0 15px rgba(226, 232, 240, 0.3)","--shadow-neon-intense":"0 0 10px rgba(226, 232, 240, 0.4), 0 0 20px rgba(226, 232, 240, 0.3), 0 0 30px rgba(226, 232, 240, 0.2)","--noise-overlay-color":"rgba(15, 23, 42, 0.2)","--floor-background":"radial-gradient(ellipse at center, rgba(79, 70, 229, 0.05) 0%, transparent 80%)"},buttonStyles:{variant:"square",glowEffect:!1,borderWidth:"1px",customVariables:{"--button-text-transform":"none","--button-letter-spacing":"0.02em","--button-padding":"0.7rem 1.5rem"}}},modernSlate:{id:"modernSlate",name:"Modern Slate",cssVariables:{"--color-primary":"#0ea5e9","--color-primary-hover":"#0284c7","--color-secondary":"#64748b","--color-secondary-hover":"#475569","--color-neon":"#f1f5f9","--color-neon-glow":"rgba(241, 245, 249, 0.5)","--color-electric-purple":"#7c3aed","--color-electric-blue":"#3b82f6","--color-dark":"#0f172a","--color-background":"#1e293b","--color-surface":"#334155","--color-surface-lighter":"#475569","--gradient-cyberpunk":"linear-gradient(135deg, #0ea5e9 0%, #64748b 100%)","--gradient-hero":"radial-gradient(circle at center, rgba(241, 245, 249, 0.1) 0%, rgba(14, 165, 233, 0.05) 50%, transparent 100%)","--shadow-neon":"0 0 15px rgba(241, 245, 249, 0.3)","--shadow-neon-intense":"0 0 10px rgba(241, 245, 249, 0.4), 0 0 20px rgba(241, 245, 249, 0.3), 0 0 30px rgba(241, 245, 249, 0.2)","--noise-overlay-color":"rgba(15, 23, 42, 0.2)","--floor-background":"radial-gradient(ellipse at center, rgba(14, 165, 233, 0.05) 0%, transparent 80%)"},buttonStyles:{variant:"rounded",glowEffect:!0,borderWidth:"2px",customVariables:{"--button-text-transform":"uppercase","--button-letter-spacing":"0.05em","--button-padding":"0.85rem 1.75rem","--button-border-radius":"var(--border-radius-full)","--button-transition":"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","--button-shadow":"0 4px 14px rgba(242, 36, 114, 0.25)","--button-hover-transform":"translateY(-2px)"}}},freshMint:{id:"freshMint",name:"Fresh Mint",cssVariables:{"--color-primary":"#10b981","--color-primary-hover":"#059669","--color-secondary":"#cbd5e1","--color-secondary-hover":"#94a3b8","--color-neon":"#f0fdfa","--color-neon-glow":"rgba(240, 253, 250, 0.5)","--color-electric-purple":"#3b82f6","--color-electric-blue":"#0ea5e9","--color-dark":"#134e4a","--color-background":"#115e59","--color-surface":"#0f766e","--color-surface-lighter":"#0d9488","--gradient-cyberpunk":"linear-gradient(135deg, #10b981 0%, #cbd5e1 100%)","--gradient-hero":"radial-gradient(circle at center, rgba(240, 253, 250, 0.1) 0%, rgba(16, 185, 129, 0.05) 50%, transparent 100%)","--shadow-neon":"0 0 15px rgba(240, 253, 250, 0.3)","--shadow-neon-intense":"0 0 10px rgba(240, 253, 250, 0.4), 0 0 20px rgba(240, 253, 250, 0.3), 0 0 30px rgba(240, 253, 250, 0.2)","--noise-overlay-color":"rgba(19, 78, 74, 0.2)","--floor-background":"radial-gradient(ellipse at center, rgba(16, 185, 129, 0.05) 0%, transparent 80%)"},buttonStyles:{variant:"rounded",glowEffect:!0,borderWidth:"2px",customVariables:{"--button-text-transform":"uppercase","--button-letter-spacing":"0.05em","--button-padding":"0.85rem 1.75rem","--button-border-radius":"var(--border-radius-full)","--button-transition":"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","--button-shadow":"0 4px 14px rgba(242, 36, 114, 0.25)","--button-hover-transform":"translateY(-2px)"}}},elegantLight:{id:"elegantLight",name:"Elegant Light",cssVariables:{"--color-primary":"#6366f1","--color-primary-hover":"#4f46e5","--color-secondary":"#f59e0b","--color-secondary-hover":"#d97706","--color-neon":"#f8fafc","--color-neon-glow":"rgba(248, 250, 252, 0.5)","--color-electric-purple":"#8b5cf6","--color-electric-blue":"#60a5fa","--color-dark":"#1e293b","--color-background":"#cbd5e1","--color-surface":"#e2e8f0","--color-surface-lighter":"#f1f5f9","--gradient-cyberpunk":"linear-gradient(135deg, #6366f1 0%, #f59e0b 100%)","--gradient-hero":"radial-gradient(circle at center, rgba(248, 250, 252, 0.5) 0%, rgba(99, 102, 241, 0.05) 50%, transparent 100%)","--shadow-neon":"0 0 15px rgba(248, 250, 252, 0.3)","--shadow-neon-intense":"0 0 10px rgba(248, 250, 252, 0.4), 0 0 20px rgba(248, 250, 252, 0.3), 0 0 30px rgba(248, 250, 252, 0.2)","--noise-overlay-color":"rgba(30, 41, 59, 0.1)","--floor-background":"radial-gradient(ellipse at center, rgba(99, 102, 241, 0.05) 0%, transparent 80%)"},buttonStyles:{variant:"rounded",glowEffect:!0,borderWidth:"2px",customVariables:{"--button-text-transform":"uppercase","--button-letter-spacing":"0.05em","--button-padding":"0.85rem 1.75rem","--button-border-radius":"var(--border-radius-full)","--button-transition":"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","--button-shadow":"0 4px 14px rgba(242, 36, 114, 0.25)","--button-hover-transform":"translateY(-2px)"}}},smoothCharcoal:{id:"smoothCharcoal",name:"Smooth Charcoal",cssVariables:{"--color-primary":"#475569","--color-primary-hover":"#334155","--color-secondary":"#e11d48","--color-secondary-hover":"#be123c","--color-neon":"#f1f5f9","--color-neon-glow":"rgba(241, 245, 249, 0.5)","--color-electric-purple":"#8b5cf6","--color-electric-blue":"#3b82f6","--color-dark":"#1e293b","--color-background":"#334155","--color-surface":"#475569","--color-surface-lighter":"#64748b","--gradient-cyberpunk":"linear-gradient(135deg, #475569 0%, #e11d48 100%)","--gradient-hero":"radial-gradient(circle at center, rgba(241, 245, 249, 0.1) 0%, rgba(71, 85, 105, 0.05) 50%, transparent 100%)","--shadow-neon":"0 0 15px rgba(241, 245, 249, 0.3)","--shadow-neon-intense":"0 0 10px rgba(241, 245, 249, 0.4), 0 0 20px rgba(241, 245, 249, 0.3), 0 0 30px rgba(241, 245, 249, 0.2)","--noise-overlay-color":"rgba(30, 41, 59, 0.2)","--floor-background":"radial-gradient(ellipse at center, rgba(71, 85, 105, 0.05) 0%, transparent 80%)"},buttonStyles:{variant:"rounded",glowEffect:!0,borderWidth:"2px",customVariables:{"--button-text-transform":"uppercase","--button-letter-spacing":"0.05em","--button-padding":"0.85rem 1.75rem","--button-border-radius":"var(--border-radius-full)","--button-transition":"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","--button-shadow":"0 4px 14px rgba(242, 36, 114, 0.25)","--button-hover-transform":"translateY(-2px)"}}},gamingEdge:{id:"gamingEdge",name:"Gaming Edge",cssVariables:{"--color-primary":"#22c55e","--color-primary-hover":"#16a34a","--color-secondary":"#6d28d9","--color-secondary-hover":"#5b21b6","--color-neon":"#4ade80","--color-neon-glow":"rgba(74, 222, 128, 0.8)","--color-electric-purple":"#8b5cf6","--color-electric-blue":"#2563eb","--color-dark":"#111827","--color-background":"#1f2937","--color-surface":"#374151","--color-surface-lighter":"#4b5563","--gradient-cyberpunk":"linear-gradient(135deg, #22c55e 0%, #6d28d9 100%)","--gradient-hero":"radial-gradient(circle at center, rgba(74, 222, 128, 0.3) 0%, rgba(34, 197, 94, 0.2) 50%, transparent 100%)","--shadow-neon":"0 0 15px rgba(74, 222, 128, 0.8)","--shadow-neon-intense":"0 0 10px rgba(74, 222, 128, 0.9), 0 0 20px rgba(74, 222, 128, 0.7), 0 0 30px rgba(74, 222, 128, 0.5)","--noise-overlay-color":"rgba(17, 24, 39, 0.4)","--floor-background":"radial-gradient(ellipse at center, rgba(34, 197, 94, 0.15) 0%, transparent 80%)"},buttonStyles:{variant:"rounded",glowEffect:!0,borderWidth:"2px",customVariables:{"--button-text-transform":"uppercase","--button-letter-spacing":"0.05em","--button-padding":"0.85rem 1.75rem","--button-border-radius":"var(--border-radius-full)","--button-transition":"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","--button-shadow":"0 4px 14px rgba(242, 36, 114, 0.25)","--button-hover-transform":"translateY(-2px)"}}},roseGold:{id:"roseGold",name:"Rose Gold",cssVariables:{"--color-primary":"#ec4899","--color-primary-hover":"#db2777","--color-secondary":"#f59e0b","--color-secondary-hover":"#d97706","--color-neon":"#fdf2f8","--color-neon-glow":"rgba(253, 242, 248, 0.5)","--color-electric-purple":"#c084fc","--color-electric-blue":"#93c5fd","--color-dark":"#831843","--color-background":"#9d174d","--color-surface":"#be185d","--color-surface-lighter":"#db2777","--gradient-cyberpunk":"linear-gradient(135deg, #ec4899 0%, #f59e0b 100%)","--gradient-hero":"radial-gradient(circle at center, rgba(253, 242, 248, 0.2) 0%, rgba(236, 72, 153, 0.15) 50%, transparent 100%)","--shadow-neon":"0 0 15px rgba(253, 242, 248, 0.5)","--shadow-neon-intense":"0 0 10px rgba(253, 242, 248, 0.7), 0 0 20px rgba(253, 242, 248, 0.5), 0 0 30px rgba(253, 242, 248, 0.3)","--noise-overlay-color":"rgba(131, 24, 67, 0.3)","--floor-background":"radial-gradient(ellipse at center, rgba(236, 72, 153, 0.1) 0%, transparent 80%)"},buttonStyles:{variant:"rounded",glowEffect:!0,borderWidth:"2px",customVariables:{"--button-text-transform":"uppercase","--button-letter-spacing":"0.05em","--button-padding":"0.85rem 1.75rem","--button-border-radius":"var(--border-radius-full)","--button-transition":"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","--button-shadow":"0 4px 14px rgba(242, 36, 114, 0.25)","--button-hover-transform":"translateY(-2px)"}}},electroTeal:{id:"electroTeal",name:"Electro Teal",cssVariables:{"--color-primary":"#14b8a6","--color-primary-hover":"#0d9488","--color-secondary":"#f97316","--color-secondary-hover":"#ea580c","--color-neon":"#fef08a","--color-neon-glow":"rgba(254, 240, 138, 0.5)","--color-electric-purple":"#9333ea","--color-electric-blue":"#3b82f6","--color-dark":"#042f2e","--color-background":"#083344","--color-surface":"#115e59","--color-surface-lighter":"#0f766e","--gradient-cyberpunk":"linear-gradient(135deg, #14b8a6 0%, #f97316 100%)","--gradient-hero":"radial-gradient(circle at center, rgba(254, 240, 138, 0.2) 0%, rgba(20, 184, 166, 0.15) 50%, transparent 100%)","--shadow-neon":"0 0 15px rgba(254, 240, 138, 0.5)","--shadow-neon-intense":"0 0 10px rgba(254, 240, 138, 0.7), 0 0 20px rgba(254, 240, 138, 0.5), 0 0 30px rgba(254, 240, 138, 0.3)","--noise-overlay-color":"rgba(4, 47, 46, 0.3)","--floor-background":"radial-gradient(ellipse at center, rgba(20, 184, 166, 0.1) 0%, transparent 80%)"},buttonStyles:{variant:"rounded",glowEffect:!0,borderWidth:"2px",customVariables:{"--button-text-transform":"uppercase","--button-letter-spacing":"0.05em","--button-padding":"0.85rem 1.75rem","--button-border-radius":"var(--border-radius-full)","--button-transition":"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","--button-shadow":"0 4px 14px rgba(242, 36, 114, 0.25)","--button-hover-transform":"translateY(-2px)"}}},midnightBlue:{id:"midnightBlue",name:"Midnight Blue",cssVariables:{"--color-primary":"#1e40af","--color-primary-hover":"#1e3a8a","--color-secondary":"#c026d3","--color-secondary-hover":"#a21caf","--color-neon":"#60a5fa","--color-neon-glow":"rgba(96, 165, 250, 0.5)","--color-electric-purple":"#9333ea","--color-electric-blue":"#2563eb","--color-dark":"#172554","--color-background":"#1e3a8a","--color-surface":"#1e40af","--color-surface-lighter":"#1d4ed8","--gradient-cyberpunk":"linear-gradient(135deg, #1e40af 0%, #c026d3 100%)","--gradient-hero":"radial-gradient(circle at center, rgba(96, 165, 250, 0.2) 0%, rgba(30, 64, 175, 0.15) 50%, transparent 100%)","--shadow-neon":"0 0 15px rgba(96, 165, 250, 0.5)","--shadow-neon-intense":"0 0 10px rgba(96, 165, 250, 0.7), 0 0 20px rgba(96, 165, 250, 0.5), 0 0 30px rgba(96, 165, 250, 0.3)","--noise-overlay-color":"rgba(23, 37, 84, 0.3)","--floor-background":"radial-gradient(ellipse at center, rgba(30, 64, 175, 0.1) 0%, transparent 80%)"},buttonStyles:{variant:"rounded",glowEffect:!0,borderWidth:"2px",customVariables:{"--button-text-transform":"uppercase","--button-letter-spacing":"0.05em","--button-padding":"0.85rem 1.75rem","--button-border-radius":"var(--border-radius-full)","--button-transition":"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","--button-shadow":"0 4px 14px rgba(242, 36, 114, 0.25)","--button-hover-transform":"translateY(-2px)"}}},amberGold:{id:"amberGold",name:"Amber Gold",cssVariables:{"--color-primary":"#f59e0b","--color-primary-hover":"#d97706","--color-secondary":"#4f46e5","--color-secondary-hover":"#4338ca","--color-neon":"#93c5fd","--color-neon-glow":"rgba(147, 197, 253, 0.5)","--color-electric-purple":"#8b5cf6","--color-electric-blue":"#3b82f6","--color-dark":"#78350f","--color-background":"#92400e","--color-surface":"#b45309","--color-surface-lighter":"#d97706","--gradient-cyberpunk":"linear-gradient(135deg, #f59e0b 0%, #4f46e5 100%)","--gradient-hero":"radial-gradient(circle at center, rgba(147, 197, 253, 0.2) 0%, rgba(245, 158, 11, 0.15) 50%, transparent 100%)","--shadow-neon":"0 0 15px rgba(147, 197, 253, 0.5)","--shadow-neon-intense":"0 0 10px rgba(147, 197, 253, 0.7), 0 0 20px rgba(147, 197, 253, 0.5), 0 0 30px rgba(147, 197, 253, 0.3)","--noise-overlay-color":"rgba(120, 53, 15, 0.3)","--floor-background":"radial-gradient(ellipse at center, rgba(245, 158, 11, 0.1) 0%, transparent 80%)"},buttonStyles:{variant:"rounded",glowEffect:!0,borderWidth:"2px",customVariables:{"--button-text-transform":"uppercase","--button-letter-spacing":"0.05em","--button-padding":"0.85rem 1.75rem","--button-border-radius":"var(--border-radius-full)","--button-transition":"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","--button-shadow":"0 4px 14px rgba(242, 36, 114, 0.25)","--button-hover-transform":"translateY(-2px)"}}},glacierIce:{id:"glacierIce",name:"Glacier Ice",cssVariables:{"--color-primary":"#0ea5e9","--color-primary-hover":"#0284c7","--color-secondary":"#f43f5e","--color-secondary-hover":"#e11d48","--color-neon":"#a5f3fc","--color-neon-glow":"rgba(165, 243, 252, 0.5)","--color-electric-purple":"#c084fc","--color-electric-blue":"#38bdf8","--color-dark":"#0c4a6e","--color-background":"#075985","--color-surface":"#0369a1","--color-surface-lighter":"#0284c7","--gradient-cyberpunk":"linear-gradient(135deg, #0ea5e9 0%, #f43f5e 100%)","--gradient-hero":"radial-gradient(circle at center, rgba(165, 243, 252, 0.2) 0%, rgba(14, 165, 233, 0.15) 50%, transparent 100%)","--shadow-neon":"0 0 15px rgba(165, 243, 252, 0.5)","--shadow-neon-intense":"0 0 10px rgba(165, 243, 252, 0.7), 0 0 20px rgba(165, 243, 252, 0.5), 0 0 30px rgba(165, 243, 252, 0.3)","--noise-overlay-color":"rgba(12, 74, 110, 0.3)","--floor-background":"radial-gradient(ellipse at center, rgba(14, 165, 233, 0.1) 0%, transparent 80%)"},buttonStyles:{variant:"rounded",glowEffect:!0,borderWidth:"2px",customVariables:{"--button-text-transform":"uppercase","--button-letter-spacing":"0.05em","--button-padding":"0.85rem 1.75rem","--button-border-radius":"var(--border-radius-full)","--button-transition":"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","--button-shadow":"0 4px 14px rgba(242, 36, 114, 0.25)","--button-hover-transform":"translateY(-2px)"}}}},Wy={cyberpunkBlue:"default",neonPurple:"alternate",retroWave:"retroWave",electroTeal:"electroTeal",cyberRed:"cyberRed",neonGreen:"neonGreen",midnightBlue:"midnightBlue",amberGold:"amberGold",glacierIce:"glacierIce",magentaFusion:"magentaFusion",midnightElegance:"midnightElegance",modernSlate:"modernSlate",freshMint:"freshMint",elegantLight:"elegantLight",smoothCharcoal:"smoothCharcoal",roseGold:"roseGold",gamingEdge:"gamingEdge"},Ky=Object.entries(Wy).reduce(((e,[t,n])=>(e[n]=t,e)),{});class Yy{constructor(){this.themes=Gy,this.stylesheet=this._createStylesheet(),this.defaultTheme="neonPurple",this.legacyThemeMapping=Hy,this.versionToThemeMap=Ky}_hexToRgb(e){let t,n,r;return 3===(e=e.replace(/^#/,"")).length?(t=parseInt(e.charAt(0)+e.charAt(0),16),n=parseInt(e.charAt(1)+e.charAt(1),16),r=parseInt(e.charAt(2)+e.charAt(2),16)):(t=parseInt(e.substr(0,2),16),n=parseInt(e.substr(2,2),16),r=parseInt(e.substr(4,2),16)),`${t}, ${n}, ${r}`}applyTheme(e){this.legacyThemeMapping[e]?e=this.legacyThemeMapping[e]:this.versionToThemeMap[e]&&(e=this.versionToThemeMap[e]);const t=this.themes[e];if(!t)return console.error(`Theme not found: ${e}`),!1;let n=":root {";return Object.entries(t.cssVariables).forEach((([e,t])=>{n+=`${e}: ${t};`,"--color-primary"===e?n+=`--color-primary-rgb: ${this._hexToRgb(t)};`:"--color-neon"===e?n+=`--color-neon-rgb: ${this._hexToRgb(t)};`:"--color-accent"===e&&(n+=`--color-accent-rgb: ${this._hexToRgb(t)};`)})),t.buttonStyles&&t.buttonStyles.customVariables&&Object.entries(t.buttonStyles.customVariables).forEach((([e,t])=>{n+=`${e}: ${t};`})),n+="}",n+="\n      * {\n        transition: background-color var(--transition-base), \n                    color var(--transition-base), \n                    border-color var(--transition-base), \n                    box-shadow var(--transition-base);\n      }\n    ","cyberpunkBlue"!==e&&(n+="\n        .button-glow {\n          box-shadow: var(--shadow-neon) !important;\n        }\n        \n        .hero-title {\n          background: var(--gradient-cyberpunk);\n          -webkit-background-clip: text;\n          background-clip: text;\n        }\n        \n        .feature-icon {\n          color: var(--color-neon);\n        }\n        \n        .card-hover:hover {\n          border-color: var(--color-neon) !important;\n          box-shadow: var(--shadow-neon) !important;\n        }\n      "),this.stylesheet.textContent=n,document.documentElement.dataset.themeName=t.name,t.buttonStyles&&this.applyButtonStyles(e),"neonPurple"===e?document.body.classList.add("coral-fusion-theme"):document.body.classList.remove("coral-fusion-theme"),window.dispatchEvent(new CustomEvent("theme-changed",{detail:{themeId:e,themeName:t.name}})),!0}getAvailableThemes(){return Object.keys(this.themes)}getThemeDetails(e){return this.legacyThemeMapping[e]&&(e=this.legacyThemeMapping[e]),this.themes[e]||null}registerTheme(e,t){return e&&"string"==typeof e?t&&"object"==typeof t?t.cssVariables&&"object"==typeof t.cssVariables?(this.themes[e]&&console.warn(`Theme ${e} already exists and will be overwritten`),this.themes[e]={id:e,name:t.name||e,cssVariables:t.cssVariables},!0):(console.error("Theme must include cssVariables object"),!1):(console.error("Theme configuration must be an object"),!1):(console.error("Theme ID must be a non-empty string"),!1)}_createStylesheet(){const e=document.getElementById("jynx-theme-styles");if(e)return e;const t=document.createElement("style");return t.id="jynx-theme-styles",t.setAttribute("data-source","theme-variant-provider"),document.head.appendChild(t),t}enableTransitions(e=300){const t=`\n      * {\n        transition: background-color ${e}ms ease-out, \n                    color ${e}ms ease-out, \n                    border-color ${e}ms ease-out,\n                    box-shadow ${e}ms ease-out;\n      }\n    `,n=document.createElement("style");n.id="jynx-theme-transitions",n.textContent=t,document.head.appendChild(n)}getThemeFromVersion(e){return function(e){return Ky[e]||null}(e)}getVersionFromTheme(e){return function(e){return Wy[e]||null}(e)}applyButtonStyles(e,t=null){const n=this.themes[e];if(!n)return console.error(`Theme not found for button styles: ${e}`),!1;const r=t||n.buttonStyles||null;return r?(r.variant?document.body.dataset.buttonVariant=r.variant:delete document.body.dataset.buttonVariant,document.body.dataset.buttonGlow=r.glowEffect?"true":"false",!0):(console.warn(`No button styles defined for theme: ${e}`),!1)}setCustomButtonStyle(e){if(!e||"object"!=typeof e)return console.error("Invalid button style configuration"),!1;if(e.variant?document.body.dataset.buttonVariant=e.variant:delete document.body.dataset.buttonVariant,document.body.dataset.buttonGlow=e.glowEffect?"true":"false",e.customVariables){let t=":root {";Object.entries(e.customVariables).forEach((([e,n])=>{t+=`${e}: ${n};`})),t+="}";let n=document.getElementById("jynx-button-styles");n||(n=document.createElement("style"),n.id="jynx-button-styles",document.head.appendChild(n)),n.textContent=t}return!0}}const Xy=new class{constructor(){this.logger=Ua.getModuleLogger("theme-feedback"),this.selectedThemes=new Set,this.themeProvider=new Yy,this.versionManager=null,this.isInitialized=!1}init(e=null){this.isInitialized?this.logger.warn("ThemeFeedbackManager already initialized"):(this.logger.info("Initializing ThemeFeedbackManager - Theme feedback feature is disabled"),this.isInitialized=!0)}renderThemeOptions(){}updateThemeOptionsForCurrentTheme(){}updateCurrentThemeDisplay(){}applyThemeCategory(){}toggleThemeSelection(){}updateUrlWithTheme(){}applySelectionEffect(){}updateSubmitButtonState(){}async handleSubmit(){}async submitThemeFeedback(){return{success:!1,reason:"Feature disabled"}}showThanksMessage(){}resetSelection(){}};const Qy=new class{constructor(){this.isInitialized=!1,this.logger=Ua.getModuleLogger("ui-manager"),this.logger.info("UIManager instance created")}init(){if(this.isInitialized)this.logger.warn("UIManager already initialized");else{this.logger.time("ui-initialization"),this.logger.info("Initializing UI manager");try{this.logger.debug("Setting up event listeners"),this.setupEventListeners(),this.logger.debug("Setting up header scroll behavior"),this.setupHeaderScroll(),this.logger.debug("Adding accessibility features"),this.addAccessibilityFeatures(),this.logger.info("UI manager initialization complete")}catch(e){this.logger.error("UI initialization failed",e)}finally{this.isInitialized=!0,this.logger.timeEnd("ui-initialization")}}}setupEventListeners(){const e=document.querySelector(".menu-toggle"),t=document.querySelector("#primary-navigation");this.logger.debug("Setting up event listeners",{menuToggleFound:!!e,primaryNavFound:!!t}),e&&t?e.addEventListener("click",(()=>{const n="true"===e.getAttribute("aria-expanded");this.logger.debug("Menu toggle clicked",{wasExpanded:n}),e.setAttribute("aria-expanded",!n),t.classList.toggle("active"),document.body.style.overflow=n?"":"hidden"})):this.logger.warn("Mobile menu elements not found",{menuToggle:e,primaryNav:t});const n=document.querySelectorAll('a[href^="#"]:not([href="#"])');this.logger.debug(`Found ${n.length} anchor links for smooth scrolling`),n.forEach((n=>{n.addEventListener("click",(function(n){n.preventDefault();const r=this.getAttribute("href"),i=document.querySelector(r);if(i){const n=80,s=i.getBoundingClientRect().top+window.pageYOffset-n;"scrollBehavior"in document.documentElement.style?window.scrollTo({top:s,behavior:"smooth"}):window.scrollTo(0,s),Ua.getModuleLogger("ui-manager").debug("Smooth scrolling to",{targetId:r}),(null==t?void 0:t.classList.contains("active"))&&(e.setAttribute("aria-expanded","false"),t.classList.remove("active"),document.body.style.overflow="",Ua.getModuleLogger("ui-manager").debug("Closed mobile menu after navigation"))}else Ua.getModuleLogger("ui-manager").warn(`Target element not found: ${r}`)}))}));const r=document.querySelectorAll(".nav-links li");this.logger.debug(`Setting up ${r.length} nav items for staggered animation`),r.forEach(((e,t)=>{e.style.setProperty("--item-index",t)}))}setupHeaderScroll(){const e=document.querySelector("header");let t=window.scrollY;this.logger.debug("Setting up header scroll behavior",{headerFound:!!e}),e?window.addEventListener("scroll",this.debounce((()=>{const n=window.scrollY,r=n-t;this.logger.trace("Scroll event",{scrollY:n,scrollDelta:r,lastScrollY:t}),n>10?e.classList.contains("header-scrolled")||(e.classList.add("header-scrolled"),this.logger.debug("Header entered scrolled state")):e.classList.contains("header-scrolled")&&(e.classList.remove("header-scrolled"),this.logger.debug("Header exited scrolled state")),n>t&&n>100?e.classList.contains("header-hidden")||(e.classList.add("header-hidden"),this.logger.debug("Header hidden (scrolling down)")):e.classList.contains("header-hidden")&&(e.classList.remove("header-hidden"),this.logger.debug("Header revealed (scrolling up)")),t=n}),50)):this.logger.warn("Header element not found, scroll behavior not initialized")}addAccessibilityFeatures(){this.logger.debug("Adding accessibility features");window.matchMedia("(prefers-reduced-motion: reduce)").matches&&(this.logger.info("Reduced motion preference detected, adapting animations"),document.body.classList.add("reduced-motion"));const e=document.querySelectorAll("a, button, input, select, textarea");this.logger.debug(`Adding focus handlers to ${e.length} interactive elements`),e.forEach((e=>{e.addEventListener("focus",(()=>{e.classList.add("focus-visible")})),e.addEventListener("blur",(()=>{e.classList.remove("focus-visible")}))})),this.logger.debug("Accessibility features setup complete")}debounce(e,t){let n;return this.logger.trace("Creating debounced function",{wait:t}),function(...r){clearTimeout(n),n=setTimeout((()=>{clearTimeout(n),e(...r)}),t)}}},Jy={logger:Ua.getModuleLogger("website-version"),currentTheme:"default",init(){return this.logger.info("WebsiteVersionDisplay feature is disabled"),window.dispatchEvent(new CustomEvent("website-theme-applied",{detail:{themeId:this.currentTheme,themeName:"Default",buttonStyle:null}})),this.currentTheme},getCurrentTheme(){return this.currentTheme},getButtonStyle:()=>null,setTheme(e){return this.logger.info(`WebsiteVersionDisplay is disabled. Theme ${e} not applied.`),!0},setButtonStyle(e){return this.logger.info("WebsiteVersionDisplay is disabled. Button style not applied."),!0},resetButtonStyle(){return this.logger.info("WebsiteVersionDisplay is disabled. Button style not reset."),!0}};const Zy=new class{constructor(){this.isInitialized=!1,this.logger=Ua.getModuleLogger("combined-form-handler"),this.logger.info("CombinedFormHandler instance created")}init(){if(this.isInitialized)this.logger.warn("CombinedFormHandler already initialized");else{this.logger.time("combined-form-initialization"),this.logger.info("Initializing combined form handler");try{this.setupCombinedForm(),this.logger.info("Combined form handler initialization complete")}catch(e){this.logger.error("Combined form handler initialization failed",e)}finally{this.isInitialized=!0,this.logger.timeEnd("combined-form-initialization")}}}setupCombinedForm(){this.logger.debug("Setting up combined form handler");const t=document.getElementById("combined-form"),n=document.getElementById("email"),r=document.getElementById("feedback-text"),i=document.getElementById("email-error"),s=document.getElementById("form-thanks");this.logger.debug("Form elements:",{combinedFormFound:!!t,emailInputFound:!!n,feedbackTextFound:!!r,emailErrorFound:!!i,formThanksFound:!!s}),t?(this.logger.debug("Adding event listener to combined form"),t.addEventListener("submit",(async o=>{o.preventDefault(),this.logger.debug("Combined form submitted");const a=n.value.trim(),l=r.value.trim();if(this.logger.debug("Validating form data",{email:a?a.substring(0,3)+"...":"empty",hasFeedback:!!l}),a&&!this.validateEmail(a))return this.logger.debug("Email validation failed"),i.textContent=e.translate("form.email.error"),void n.focus();if(!a&&!l)return this.logger.debug("Both email and feedback are empty"),void(i.textContent=e.translate("feedback.error_empty"));i.textContent="",this.logger.debug("Email validation passed, proceeding with submission");try{const n=t.querySelector('button[type="submit"]');let r;if(qa(n,e.translate("form.submitting")),this.logger.debug("Form in submission state"),a&&(this.logger.time("waitlist-submission"),r=await this.submitWaitlistEmail(a),this.logger.timeEnd("waitlist-submission"),this.logger.info("Waitlist submission successful",{email:a.substring(0,3)+"...",success:r.success})),l){this.logger.time("feedback-submission");const e=await this.submitFeedback(l,a);this.logger.timeEnd("feedback-submission"),this.logger.info("Feedback submission successful",{textLength:l.length,success:e.success})}document.dispatchEvent(new CustomEvent("form-submission-success")),this.logger.debug("Animating form success transition"),t.style.transition="height 0.5s ease-in, opacity 0.5s ease-in",t.style.height=t.scrollHeight+"px",requestAnimationFrame((()=>{t.style.height="0",t.style.opacity="0",t.addEventListener("transitionend",(()=>{t.classList.add("hidden"),t.reset(),this.logger.debug("Animating thanks message"),s.style.opacity="0",s.style.transform="scale(0.9)",s.style.transition="opacity 0.5s ease-out, transform 0.5s ease-out",s.classList.remove("hidden"),requestAnimationFrame((()=>{s.style.opacity="1",s.style.transform="scale(1)"}))}),{once:!0})}))}catch(rv){this.logger.error("Form submission error:",rv);const r=t.querySelector('button[type="submit"]');Ha(r),Vy.handleError(rv,i,{clearOnFocus:!0,associatedInput:n})}}))):this.logger.warn("Combined form not found, form handler not initialized")}validateEmail(e){this.logger.trace("Validating email format");return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}async submitWaitlistEmail(t){this.logger.debug("Submitting email to waitlist",{email:t.substring(0,3)+"..."});try{let r="en";try{r=e.getCurrentLocale()}catch(n){r=(navigator.language||navigator.userLanguage||"en").split("-")[0],this.logger.warn("Could not get current locale, using fallback",{locale:r})}const i={uiLanguage:r};return await Py.addToWaitlist(t,i)}catch(rv){throw this.logger.error("Waitlist submission error",rv),rv}}async submitFeedback(t,n=null){this.logger.debug("Submitting feedback",{feedbackLength:t.length,hasEmail:!!n});try{let i="en";try{i=e.getCurrentLocale()}catch(r){i=(navigator.language||navigator.userLanguage||"en").split("-")[0],this.logger.warn("Could not get current locale, using fallback",{locale:i})}const s={uiLanguage:i,email:n||null};return await Py.submitFeedback(t,s)}catch(rv){throw this.logger.error("Feedback submission error",rv),rv}}};class ev{constructor(e={}){this.config={headerSelector:".header",scrolledClass:"header-scrolled",hiddenClass:"header-hidden",scrollThreshold:100,scrollTolerance:10,transitionDuration:400,mobileBreakpoint:768,...e},this.lastScrollY=0,this.scrollDirection="up",this.ticking=!1,this.headerHeight=0,this.headerVisible=!0,this.currentBreakpoint="desktop",this.header=null,this._onScroll=this._onScroll.bind(this),this._onResize=this._onResize.bind(this)}init(){this.header=document.querySelector(this.config.headerSelector),this.header?(this.headerHeight=this.header.offsetHeight,this._updateHeaderState(),window.addEventListener("scroll",this._onScroll,{passive:!0}),window.addEventListener("resize",this._debounce(this._onResize,100)),this._checkBreakpoint(),console.log("Header scroll behavior initialized")):console.warn(`Header element not found: ${this.config.headerSelector}`)}destroy(){window.removeEventListener("scroll",this._onScroll),window.removeEventListener("resize",this._debounce(this._onResize,100))}_onScroll(){this.ticking||(window.requestAnimationFrame((()=>{this._updateHeaderState(),this.ticking=!1})),this.ticking=!0)}_onResize(){this.headerHeight=this.header.offsetHeight,this._checkBreakpoint(),this._updateHeaderState()}_checkBreakpoint(){const e=window.innerWidth<this.config.mobileBreakpoint?"mobile":"desktop";e!==this.currentBreakpoint&&(this.currentBreakpoint=e)}_updateHeaderState(){const e=window.scrollY;Math.abs(e-this.lastScrollY)>this.config.scrollTolerance&&(this.scrollDirection=e>this.lastScrollY?"down":"up",this.lastScrollY=e),e>10?this.header.classList.add(this.config.scrolledClass):this.header.classList.remove(this.config.scrolledClass),e<=this.headerHeight?this._showHeader():e>this.config.scrollThreshold&&("down"===this.scrollDirection&&this.headerVisible?this._hideHeader():"up"!==this.scrollDirection||this.headerVisible||this._showHeader())}_hideHeader(){this.headerVisible&&(this.header.classList.add(this.config.hiddenClass),this.headerVisible=!1)}_showHeader(){this.headerVisible||(this.header.classList.remove(this.config.hiddenClass),this.headerVisible=!0)}_debounce(e,t){let n;return function(...r){const i=this;clearTimeout(n),n=setTimeout((()=>e.apply(i,r)),t)}}}document.addEventListener("DOMContentLoaded",(()=>{const e=new ev;e.init(),window.headerScroll=e}));document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelectorAll(".gaming-sessions-section");if(!e.length)return void console.warn("No gaming sessions sections found");const t={"intelligent-matchmaking":"/assets/images/match-queue-mockup-B5fGcSeW.png","community-creation":"/assets/images/community-mockup-EXb5EYBM.png","gaming-sessions":"/assets/images/game-session-mockup-BxMk9K8M.png","global-chat":"/assets/images/gobal-chat-mockup-DNsVrXJD.png"};e.forEach((e=>{const n=e.querySelector(".gaming-sessions-container"),r=e.querySelector(".gaming-sessions-grid-placeholder");if(!n||!r)return void console.warn("Missing required elements in section",e.id);n.classList.add("reveal");const i=t[e.id];if(i){const t=document.createElement("div");t.className="gaming-sessions-mockup";const n=document.createElement("img");n.src=i,n.alt=e.id.replace(/-/g," "),t.appendChild(n),r.appendChild(t)}else console.warn("No image defined for section",e.id)}))}));const tv=new class{constructor(){this.isInitialized=!1,this.logger=Ua.getModuleLogger("app"),this.logger.info("AppManager instance created")}init(){if(this.isInitialized)this.logger.warn("AppManager already initialized");else{this.logger.time("app-initialization"),this.logger.info("Initializing application");try{"undefined"!=typeof window&&(window.pageLoader=$y),this.logger.debug("Initializing Loading Transition manager"),qy.init(),this.logger.debug("WebsiteVersionDisplay feature is disabled, but maintaining API for compatibility"),Jy.init(),this.logger.debug("Initializing UI manager"),Qy.init(),this.logger.debug("Initializing Form manager"),zy.init(),this.logger.debug("Initializing Combined Form handler"),Zy.init(),this.setupAnalyticsTracking(),document.addEventListener("loading-transition-complete",(()=>{this.logger.info("Loading transition complete, triggering animations"),$a.init(),window.i18n&&$y.resourcesLoaded&&window.i18n.preloadRemainingLocales()})),this.logger.info("Initializing Theme Feedback manager (disabled)"),Xy.init(Jy),this.logger.info("Application initialization complete")}catch(e){this.logger.error("Initialization failed",e)}finally{this.isInitialized=!0,this.logger.timeEnd("app-initialization")}}}setupAnalyticsTracking(){this.logger.debug("Setting up analytics tracking"),this.setupCTATracking(),this.setupSectionViewTracking(),this.setupLanguageChangeTracking()}setupCTATracking(){this.logger.debug("Setting up CTA tracking");[{selector:"#combined-submit",id:"combined-form-submit",location:"feedback"},{selector:"#submit-theme-feedback",id:"theme-feedback-submit",location:"theme-feedback"},{selector:'a[href="about.html"]',id:"footer-about",location:"footer"},{selector:'a[href="privacy.html"]',id:"footer-privacy",location:"footer"},{selector:'a[href="terms.html"]',id:"footer-terms",location:"footer"},{selector:".nav-links a",id:"nav-link",location:"header"}].forEach((({selector:e,id:t,location:n})=>{const r=document.querySelectorAll(e);r.forEach(((e,i)=>{const s=r.length>1?`${t}-${i}`:t;e.addEventListener("click",(()=>{const t=e.textContent.trim()||e.getAttribute("data-i18n")||"unknown";Iy.trackCTAClick(s,t,n,{version:"default"})}))}))}))}setupSectionViewTracking(){this.logger.debug("Setting up section view tracking");const e=[{id:"hero",name:"Hero"},{id:"features",name:"Features"},{id:"solution",name:"Solution"},{id:"email-section",name:"Get Notified On Release"},{id:"theme-feedback",name:"Theme Feedback"},{id:"feedback",name:"Feedback"}],t=new Set,n=new IntersectionObserver((n=>{n.forEach((n=>{if(n.isIntersecting&&!t.has(n.target.id)){const r=n.target.id,i=e.find((e=>e.id===r));i&&(Iy.trackSectionView(i.id,i.name,{version:"default"}),t.add(r))}}))}),{threshold:.5});e.forEach((e=>{const t=document.getElementById(e.id);t?n.observe(t):this.logger.debug(`Section ${e.id} not found in DOM, skipping tracking`)}))}setupLanguageChangeTracking(){this.logger.debug("Setting up language change tracking");let t=e.getCurrentLocale();e.addObserver((e=>{t&&e&&t!==e&&(Iy.trackLanguageChange(t,e,{version:"default"}),t=e)}))}};$y.init(),document.addEventListener("DOMContentLoaded",(()=>{tv.init(),window.i18n&&window.pageLoader&&(window.i18n.pageLoader=window.pageLoader),setTimeout((()=>{$y.resourcesLoaded||$y.resourcesComplete(),console.log(" App fully initialized")}),500)}));export{Ua as l};
