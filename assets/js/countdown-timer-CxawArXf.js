class t{constructor(){this.targetDate=new Date("2026-03-01T00:00:00"),this.daysElement=document.getElementById("countdown-days"),this.hoursElement=document.getElementById("countdown-hours"),this.minutesElement=document.getElementById("countdown-minutes"),this.secondsElement=document.getElementById("countdown-seconds"),this.previousValues={days:null,hours:null,minutes:null,seconds:null},this.intervalId=null}init(){this.daysElement&&this.hoursElement&&this.minutesElement&&this.secondsElement&&(this.updateCountdown(),this.intervalId=setInterval((()=>this.updateCountdown()),1e3))}updateCountdown(){const t=new Date,e=this.targetDate-t;if(e<=0)return void this.handleCountdownEnd();const n=Math.floor(e/864e5),s=Math.floor(e%864e5/36e5),o=Math.floor(e%36e5/6e4),i=Math.floor(e%6e4/1e3);this.updateSegment(this.daysElement,n,"days"),this.updateSegment(this.hoursElement,s,"hours"),this.updateSegment(this.minutesElement,o,"minutes"),this.updateSegment(this.secondsElement,i,"seconds")}updateSegment(t,e,n){const s=String(e).padStart(2,"0");this.previousValues[n]!==s&&(t.classList.add("countdown-flip"),t.textContent=s,setTimeout((()=>{t.classList.remove("countdown-flip")}),600),this.previousValues[n]=s)}handleCountdownEnd(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null),this.daysElement.textContent="00",this.hoursElement.textContent="00",this.minutesElement.textContent="00",this.secondsElement.textContent="00";const t=new CustomEvent("countdown-complete",{detail:{targetDate:this.targetDate}});document.dispatchEvent(t)}destroy(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}}document.addEventListener("DOMContentLoaded",(()=>{const e=new t;e.init(),window.countdownTimer=e}));
