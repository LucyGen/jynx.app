import{l as e}from"./logger-BUGiJmJP.js";import"./split-type-vendor-C71vq-Ow.js";import{g as t,S as i,T as a}from"./gsap-vendor-fbsiBxJq.js";t.registerPlugin(i,a);const n=new class{constructor(){this.logger=e.getModuleLogger("animation-utilities"),this.logger.info("AnimationUtilities initialized"),this.defaults={duration:.8,opacity:{from:0,to:1},ease:"ease-out",stagger:100},this.animatedElements=new Set,this.intersectionObserver=null,this.logger.debug("Animated elements tracking initialized with defaults",this.defaults)}setupRevealAnimations(){this.logger.debug("Setting up reveal animations with GSAP");const e=window.location.pathname;if(["/privacy.html","/terms.html","/about.html","privacy.html","terms.html","about.html"].some((t=>e.endsWith(t))))return this.logger.debug("Legal page detected, skipping animation setup"),void document.querySelectorAll("[data-animation]").forEach((e=>{e.style.opacity="1",e.style.transform="none",e.style.animation="none",e.style.transition="none",e.classList.add("animated")}));const a=window.innerWidth<768,n=['#collaborative h2[data-i18n="collaborative.title"]','#feedback h2[data-i18n="feedback.title"]','h2[data-i18n="feedback.title"]'].join(", "),o=document.querySelectorAll("[data-animation]:not("+n+")");this.logger.debug(`Found ${o.length} elements with data-animation attribute`),o.forEach((e=>{if(this.animatedElements.has(e))return void this.logger.trace("Skipping already animated element",{element:e.tagName,id:e.id,class:e.className});const n=e.getAttribute("data-animation"),o=parseFloat(e.getAttribute("data-animation-delay")||0)/1e3,s=parseFloat(e.getAttribute("data-animation-duration")||this.defaults.duration),r="H1"===e.tagName||"H2"===e.tagName||"H3"===e.tagName||"P"===e.tagName||e.classList.contains("text-animate");this.logger.trace("Setting up GSAP animation for element",{element:e.tagName,id:e.id,class:e.className,type:n,delay:o,duration:s,isText:r}),this.animatedElements.add(e);const l=null!==e.closest(".gaming-sessions-grid-placeholder"),d=e.classList.contains("features-description")&&"features.description"===e.getAttribute("data-i18n");let g={opacity:l?1:0,willChange:"transform, opacity"};d&&(g={opacity:0,willChange:"opacity"});let c={opacity:1,ease:"power3.out",duration:s,delay:o,onComplete:()=>{e.style.willChange="auto",e.classList.add("animated"),this.logger.trace("Animation completed for element",{element:e.tagName,id:e.id})}};switch(n){case"up":g.y=20,c.y=0,c.ease="linear",c.duration=.4;break;case"down":g.y=-20,c.y=0,c.ease="linear",c.duration=.4;break;case"left":g.x=-30,c.x=0,c.ease="linear",c.duration=.4;break;case"right":g.x=l?100:30,c.x=0,c.ease="linear",c.duration=.4;break;case"scale":g.scale=.95,c.scale=1,c.ease="linear",c.duration=.4;break;case"text":case"split":if(a)return e.style.opacity="1",e.style.transform="none",e.style.willChange="auto",void e.classList.add("animated");if(e.textContent&&e.textContent.length<40){const i=[...e.textContent],a=e.textContent;return e.textContent="",e.style.opacity="1",void t.timeline({scrollTrigger:{trigger:e,start:"top 85%",once:!0}}).to(e,{text:a,duration:Math.min(.02*i.length,1),ease:"linear"})}d?(g={opacity:0,willChange:"opacity"},c.ease="linear",c.duration=.8):(g.y=15,c.y=0,c.ease="linear",c.duration=.4);break;default:c.ease="linear",c.duration=.4}t.set(e,g),i.create({trigger:e,start:"top 95%",once:!0,onEnter:()=>{this.logger.trace("Triggering animation for element",{element:e.tagName,id:e.id}),t.to(e,c)}})})),this.setupHeadingAnimations(),this.logger.debug("GSAP reveal animations setup complete")}setupHeadingAnimations(){this.logger.debug("Setting up heading animations");const e=window.location.pathname;if(["/privacy.html","/terms.html","/about.html","privacy.html","terms.html","about.html"].some((t=>e.endsWith(t))))return void this.logger.debug("Legal page detected, skipping heading animations");if(window.innerWidth<768)return void this.logger.debug("Mobile view detected, skipping heading animations");const a=document.querySelectorAll("h1.heading-animate, h2.heading-animate, .section-title");this.logger.debug(`Found ${a.length} headings for special animations`),a.forEach((e=>{if(this.animatedElements.has(e))return;this.animatedElements.add(e);const a=parseFloat(e.getAttribute("data-animation-delay")||0)/1e3;t.set(e,{opacity:0,y:15,willChange:"transform, opacity"}),i.create({trigger:e,start:"top 85%",once:!0,onEnter:()=>{t.to(e,{opacity:1,y:0,duration:.6,delay:a,ease:"power2.out",onComplete:()=>{e.style.willChange="auto",e.classList.add("animated")}})}})})),this.logger.debug("Heading animations setup complete")}setupStaggeredReveal(e,a,n={}){this.logger.debug(`Setting up staggered reveal for ${e} > ${a}`);const o=window.location.pathname;if(["/privacy.html","/terms.html","/about.html","privacy.html","terms.html","about.html"].some((e=>o.endsWith(e)))){this.logger.debug("Legal page detected, skipping staggered animations");const t=document.querySelector(e);return void(t&&t.querySelectorAll(a).forEach((e=>{e.style.opacity="1",e.style.transform="none",e.style.animation="none",e.style.transition="none",e.classList.add("animated")})))}const s=window.innerWidth<768&&n.simplifyOnMobile,r=document.querySelector(e);if(!r)return void this.logger.warn(`Container not found: ${e}`);const l=r.querySelectorAll(a);if(0===l.length)return void this.logger.debug(`No items found for ${e} > ${a}`);this.logger.debug(`Found ${l.length} items for staggered animation`);const d={opacity:0,y:0,x:0,scale:1,stagger:100,duration:.6,ease:"power2.out",start:"80%",simplifyOnMobile:!0,...n};if(l.forEach((e=>this.animatedElements.add(e))),s)return this.logger.debug("Using simplified animations for mobile"),t.set(l,{opacity:0}),void i.create({trigger:r,start:`top ${d.start}`,once:!0,onEnter:()=>{t.to(l,{opacity:1,duration:.4,ease:"linear",onComplete:()=>{l.forEach((e=>e.classList.add("animated")))}})}});const g={opacity:0,willChange:"transform, opacity"};d.y&&(g.y=d.y),d.x&&(g.x=d.x),1!==d.scale&&(g.scale=d.scale),t.set(l,g),i.create({trigger:r,start:`top ${d.start}`,once:!0,onEnter:()=>{t.to(l,{opacity:1,y:0,x:0,scale:1,duration:d.duration,stagger:d.stagger/1e3,ease:d.ease,onComplete:function(){l.forEach((e=>{e.style.willChange="auto",e.classList.add("animated")}))}})}}),this.logger.debug("Staggered reveal animation setup complete")}setupSplitScreenAnimation(e,a,n){this.logger.debug(`Setting up split screen animation for ${e}`);const o=window.location.pathname;if(["/privacy.html","/terms.html","/about.html","privacy.html","terms.html","about.html"].some((e=>o.endsWith(e)))){this.logger.debug("Legal page detected, skipping split screen animation");const t=document.querySelector(e);if(t){const e=t.querySelector(a),i=t.querySelector(n);e&&(e.style.opacity="1",e.style.transform="none",e.style.animation="none",e.style.transition="none",e.classList.add("animated")),i&&(i.style.opacity="1",i.style.transform="none",i.style.animation="none",i.style.transition="none",i.classList.add("animated"))}return}const s=document.querySelector(e);if(!s)return void this.logger.warn(`Split screen container not found: ${e}`);const r=s.querySelector(a),l=s.querySelector(n);r||this.logger.warn(`Left panel not found: ${a}`),l||this.logger.warn(`Right panel not found: ${n}`),(r||l)&&(r&&this.animatedElements.add(r),l&&this.animatedElements.add(l),r&&t.set(r,{opacity:0,x:-30,willChange:"transform, opacity"}),l&&t.set(l,{opacity:0,x:30,willChange:"transform, opacity"}),i.create({trigger:s,start:"top 85%",once:!0,onEnter:()=>{r&&t.to(r,{opacity:1,x:0,duration:.6,ease:"power2.out",onComplete:()=>{r.style.willChange="auto",r.classList.add("animated")}}),l&&t.to(l,{opacity:1,x:0,duration:.6,delay:.15,ease:"power2.out",onComplete:()=>{l.style.willChange="auto",l.classList.add("animated")}})}}),this.logger.debug("Split screen animation setup complete"))}},o=e.getModuleLogger("animation-helper"),s={restartAllAnimations:function(){o.info("Restarting all animations"),document.querySelectorAll(".animated").forEach((e=>{e.classList.remove("animated")})),document.body.offsetHeight,setTimeout((()=>{document.querySelectorAll(".will-animate").forEach((e=>{e.classList.add("animated")})),o.debug("All animations restarted")}),50)},setupHeroParallax:function(){const e=document.querySelector(".hero");if(!e)return void o.warn("Hero element not found, skipping parallax setup");o.info("Setting up hero background parallax effect");const t=window.matchMedia("(max-width: 768px)").matches,i=window.matchMedia("(prefers-reduced-motion: reduce)").matches;if(t||i)return void o.debug("Skipping parallax: "+(t?"mobile device detected":"reduced motion preference detected"));e.classList.add("parallax-background");let a=!1;window.addEventListener("scroll",(function(){a||(window.requestAnimationFrame((function(){const t=window.scrollY;if(t<window.innerHeight){const i=.2*t;e.style.backgroundPosition=`center calc(center - ${i}px)`}a=!1})),a=!0)}),{passive:!0}),o.debug("Hero parallax effect setup complete")}},r=e.getModuleLogger("animation-utils");function l(e,t="fade-in",i=0){if(!e)return void r.warn("Element not provided for animation");const a=new IntersectionObserver((n=>{n.forEach((n=>{n.isIntersecting&&(i>0?setTimeout((()=>{e.classList.add(t,"animated")}),i):e.classList.add(t,"animated"),a.unobserve(e))}))}),{root:null,rootMargin:"0px 0px -10% 0px",threshold:.1});a.observe(e)}function d(e,t="fade-in",i=100,a=0){if(!e||0===e.length)return void r.warn("No elements provided for staggered animation");const n=new IntersectionObserver((o=>{o.forEach((o=>{o.isIntersecting&&(Array.from(e).forEach(((e,n)=>{setTimeout((()=>{e.classList.add(t,"animated")}),a+n*i)})),n.unobserve(e[0]))}))}),{root:null,rootMargin:"0px 0px -10% 0px",threshold:.1});e[0]&&n.observe(e[0])}const g=new class{constructor(){this.isInitialized=!1,this.heroLoaded=!1,this.logger=e.getModuleLogger("animation-manager"),this.logger.info("ApplicationAnimationManager instance created"),this.isLegalPage=this.checkIfLegalPage(),this.animationPresets={"fade-in":{type:"fade",duration:.4},"slide-up":{type:"up",duration:.4},"slide-left":{type:"left",duration:.4},"slide-right":{type:"right",duration:.4},"scale-in":{type:"scale",duration:.4},"type-text":{type:"text",duration:.6}}}init(){if(!document.documentElement.classList.contains("js"))return this.logger.info("No .js class - skipping animations for progressive enhancement"),void(this.isInitialized=!0);if(this.isInitialized?(this.logger.info("Reinitializing AnimationManager"),this.heroLoaded=!1):this.logger.info("Initializing animation manager for the first time"),this.isLegalPage)return this.logger.info("Legal page detected, disabling animations"),void(this.isInitialized=!0);this.isMobileView=window.innerWidth<768,this.isMobileView&&this.logger.info("Mobile view detected - text animations will be disabled"),this.logger.time("animation-manager-initialization");try{document.querySelectorAll(".stagger-children > *").forEach((e=>{e.classList.contains("animated")||e.classList.add("pending-animation")})),this.logger.debug("Resetting existing animations"),document.querySelectorAll(".animated").forEach((e=>{e.classList.remove("animated")})),this.logger.debug("Setting up reveal animations"),this.setupRevealAnimations(),this.logger.debug("Setting up hero animation"),this.setupHeroAnimation(),this.logger.info("Animation manager initialization complete")}catch(e){this.logger.error("Animation manager initialization failed",e)}finally{this.isInitialized=!0,this.logger.timeEnd("animation-manager-initialization")}}setupRevealAnimations(){this.logger.debug("Setting up all reveal animations"),this.logger.time("reveal-animations-setup"),this.logger.debug("Setting up base reveal animations"),n.setupRevealAnimations(),this.logger.debug("Feature cards animations have been removed"),this.logger.debug("Setting up feedback section animations"),n.setupStaggeredReveal(".feedback-section",'.feedback-container > *:not(.hidden):not(h2[data-i18n="feedback.title"])',{y:30,stagger:100,start:"75%"});const e=document.querySelector('h2[data-i18n="feedback.title"]');e&&(e.style.opacity="1",e.style.transform="none",e.style.animation="none",e.style.transition="none",e.style.translate="none",e.style.rotate="none",e.style.scale="none",e.classList.add("animated"),this.logger.debug("Feedback title set to display without animation")),this.logger.timeEnd("reveal-animations-setup")}setupHeroAnimation(){this.logger.debug("Setting up hero section with immediate display"),this.logger.time("hero-setup");const e=document.querySelector("#hero");if(!e)return this.logger.warn("Hero section not found"),void this.logger.timeEnd("hero-setup");this.isMobileView&&this.logger.debug("Mobile view detected - making hero immediately visible");const t=e.querySelectorAll(".hero-title, .hero-subtitle, .hero-description, .hero-cta, [data-animation]");this.logger.debug(`Found ${t.length} hero elements for immediate display`),t.forEach((e=>{e.classList.remove("will-animate"),e.classList.add("animated"),e.style.opacity="1",e.style.transform="none",e.style.animation="none",e.style.transition="none",e.style.removeProperty("will-change");const t=e.querySelectorAll('.char, span[data-animation], [class*="animated"]');t.length&&(this.logger.debug(`Making ${t.length} child elements immediately visible`),t.forEach((e=>{e.style.opacity="1",e.style.transform="none",e.style.animation="none",e.style.transition="none",e.classList.add("animated")})))}));const i=e.querySelector(".hero-title");i&&i.classList.add("hero-title-gradient"),this.heroLoaded=!0,this.logger.debug("All hero elements set to display immediately"),this.logger.timeEnd("hero-setup")}applyAnimation(e,t){if(!e)return void this.logger.warn("Cannot apply animation: No element provided");if(this.isLegalPage)return e.style.opacity="1",e.style.transform="none",e.style.animation="none",e.style.transition="none",void e.classList.add("animated");this.animationPresets[t]||(this.logger.warn(`Unknown animation preset: ${t}, falling back to fade-in`),t="fade-in");const i=this.animationPresets[t];e.setAttribute("data-animation",i.type),e.setAttribute("data-animation-duration",i.duration),this.isInitialized?n.setupRevealAnimations():this.init(),this.logger.debug(`Applied animation preset '${t}' to element`,{element:e.tagName,id:e.id,class:e.className})}animateGroup(e,t,i={}){if(this.logger.debug(`Setting up group animation for ${e} > ${t}`),this.isLegalPage){const i=document.querySelector(e);return void(i&&i.querySelectorAll(t).forEach((e=>{e.style.opacity="1",e.style.transform="none",e.style.animation="none",e.style.transition="none",e.classList.add("animated")})))}const a={direction:"up",staggerTime:150,duration:.8,...i};let o={stagger:a.staggerTime,duration:a.duration,start:a.start||"80%"};switch(a.direction){case"up":o.y=40;break;case"down":o.y=-40;break;case"left":o.x=50;break;case"right":o.x=-50;break;case"scale":o.scale=.8}n.setupStaggeredReveal(e,t,o)}animateSplitPanels(e,t,i){if(this.logger.debug(`Setting up split panel animation: ${e}`),this.isLegalPage){const a=document.querySelector(e);if(a){const e=a.querySelector(t),n=a.querySelector(i);e&&(e.style.opacity="1",e.style.transform="none",e.style.animation="none",e.style.transition="none",e.classList.add("animated")),n&&(n.style.opacity="1",n.style.transform="none",n.style.animation="none",n.style.transition="none",n.classList.add("animated"))}}else n.setupSplitScreenAnimation(e,t,i)}setupFeatureCardInteractions(){this.logger.debug("Feature card interactions have been removed")}checkIfLegalPage(){const e=window.location.pathname;return["/privacy.html","/terms.html","/about.html","privacy.html","terms.html","about.html"].some((t=>e.endsWith(t)))}},c=Object.freeze(Object.defineProperty({__proto__:null,default:g},Symbol.toStringTag,{value:"Module"}));export{n as a,s as b,l as c,c as d,d as s};
