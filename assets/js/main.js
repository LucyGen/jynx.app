import e from"https://cdn.skypack.dev/gsap";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const o of e)if("childList"===o.type)for(const e of o.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const t=new class{constructor(){this.currentLocale=localStorage.getItem("userLocale")||navigator.language.split("-")[0]||"fr",this.translations={},this.observers=new Set,this.defaultLocale="fr"}async init(){try{this.currentLocale!==this.defaultLocale&&(await this.loadTranslations(this.currentLocale),this.updatePageContent()),this.setupLanguageSwitcher()}catch(e){this.currentLocale=this.defaultLocale}}async loadTranslations(e){try{const t=window.location.pathname.startsWith("/")?window.location.pathname:"/"+window.location.pathname,o=`${t.replace(/\/index\.html$/,"").replace(/\/$/,"")}/locales/${e}.json`,n=await fetch(o,{headers:{Accept:"application/json","Cache-Control":"no-cache"}});if(n.ok)this.translations[e]=await n.json();else{const t=`/locales/${e}.json`,o=await fetch(t);if(!o.ok)throw new Error(`Failed to load translations. Status: ${n.status}`);this.translations[e]=await o.json()}if("object"!=typeof this.translations[e]||null===this.translations[e])throw new Error("Invalid translation file format");return this.currentLocale=e,this.translations[e]}catch(t){throw t}}translate(e,t={}){const o=e.split(".");let n=this.translations[this.currentLocale];for(const a of o)if(n=null==n?void 0:n[a],void 0===n){n=this.getFromDefaultLocale(e);break}return"string"!=typeof n?e:n.replace(/\{\{\s*(\w+)\s*\}\}/g,((e,o)=>void 0!==t[o]?t[o]:`{{${o}}}`))}getFromDefaultLocale(e){const t=e.split(".");let o=this.translations[this.defaultLocale];for(const n of t)if(o=null==o?void 0:o[n],void 0===o)return e;return o}async changeLocale(e){try{this.translations[e]||await this.loadTranslations(e),this.currentLocale=e,localStorage.setItem("userLocale",e),this.updatePageContent(),this.notifyObservers(),document.documentElement.lang=e}catch(t){throw t}}updatePageContent(){document.querySelectorAll("[data-i18n]").forEach((e=>{const t=e.getAttribute("data-i18n");e.textContent=this.translate(t)})),document.querySelectorAll("[data-i18n-placeholder]").forEach((e=>{const t=e.getAttribute("data-i18n-placeholder");e.placeholder=this.translate(t)})),document.querySelectorAll("[data-i18n-aria-label]").forEach((e=>{const t=e.getAttribute("data-i18n-aria-label");e.setAttribute("aria-label",this.translate(t))}))}setupLanguageSwitcher(){const e=document.querySelectorAll("#language-switcher, #language-selector");if(!e.length)return;const t=document.getElementById("language-selector");if(this.currentLocale){const e=Array.from(t.options).find((e=>e.value===this.currentLocale.toLowerCase()));e&&(t.value=e.value)}e.forEach((e=>{e.addEventListener("change",(e=>{this.changeLocale(e.target.value)}))}))}addObserver(e){this.observers.add(e)}removeObserver(e){this.observers.delete(e)}notifyObservers(){this.observers.forEach((e=>{try{e(this.currentLocale)}catch(t){}}))}};document.addEventListener("DOMContentLoaded",(()=>{t.init().catch((e=>{}))}));const{timeline:o}=e,n=document.querySelector(".transformer"),a=document.querySelector(".transformer__middle"),s=.2,r={CHEER:new Audio("https://assets.codepen.io/605876/kids-cheering.mp3"),SIGH:new Audio("https://assets.codepen.io/605876/sigh.mp3"),CLICK:new Audio("https://assets.codepen.io/605876/click.mp3"),CLAP:new Audio("https://assets.codepen.io/605876/clap.mp3")};e.set(".number--next",{yPercent:-100,opacity:0}),e.set(".slap__line",{transformOrigin:"50% 50%",rotate:e=>45*e-45}),e.set(".slap__line path",{transformOrigin:"50% 50%",yPercent:-350,scaleY:.75}),e.set(".heart__segment",{opacity:0});const i=()=>o({onComplete:()=>{n.removeAttribute("disabled")}}).set(".transformer__feature",{"--hovered":1}).set(".bear-paw",{opacity:1}).set(".transformer__text",{yPercent:80,opacity:0}).add(o({}).set(".transformer__feature",{transition:"none"}).to(".transformer__feature",{keyframes:[{xPercent:-130,ease:"power1.out",duration:.125},{xPercent:20,ease:"power1.in",duration:.125},{xPercent:-20,delay:.1,ease:"power1.out",duration:.15}]}),.25).add(o().to(".paw--right",{keyframes:[{ease:"power1.in",xPercent:-175,yPercent:-125,duration:.25},{ease:"power1.out",delay:.15,duration:.35,xPercent:0,yPercent:0}]}),"<").add(e.timeline({onStart:()=>{r.CLAP.play(),e.set(".slap",{display:"block"})},onComplete:()=>{e.set(".slap",{display:"none"}),e.set(".slap__circle",{clearProps:"all"})}}).set(".slap__circle",{stroke:`hsl(${359*Math.random()}, 85%, 60%)`}).to(".slap__circle",{strokeWidth:0,scale:2.5,duration:.15,transformOrigin:"50% 50%"}).fromTo(".slap__line path",{strokeDashoffset:-11},{yPercent:-400,duration:.15,strokeDashoffset:11},0),">-0.5").add(e.timeline({repeatRefresh:!0,onStart:()=>{e.delayedCall(.25,(()=>r.CHEER.play())),e.set([".wiggle",".dashed__container",".burst"],{display:"block"})},onComplete:()=>{e.set([".wiggle",".dashed__container",".burst"],{display:"none"})}}).set(".celebration-line",{stroke:()=>`hsl(${359*Math.random()}, 100%, 70%)`}).set(".dashed__line",{yPercent:-120}).set(".dashed",{yPercent:0}).set(".burst",{"--rotate":()=>360*Math.random(),"--translate":()=>100*Math.random()+180}).set([".wiggle",".dashed__container"],{rotate:()=>360*Math.random()}).set([".wiggle__line",".dashed"],{yPercent:()=>150*Math.random()+180,scaleY:()=>Math.random()+.5}).fromTo(".dashed__line",{yPercent:-120},{yPercent:120,duration:.5},0).to(".dashed",{yPercent:"random(20, 100)"}).fromTo([".wiggle__line"],{strokeDashoffset:-32},{delay:()=>Math.random(),yPercent:"+=50",duration:.5,strokeDashoffset:32},0).fromTo(".burst__line path",{strokeDashoffset:-32},{delay:()=>.5*Math.random(),yPercent:"-=50",strokeDashoffset:32},0),"<").add(o({}).set(".bear-paw",{opacity:1}).to(document.documentElement,{"--backdrop-opacity":1,duration:s},0).to(document.documentElement,{"--stroke":"hsl(326, 56%, 85%)","--color":"hsl(204, 6%, 16%)",duration:s},0).to(".transformer__segment",{background:"hsl(327, 91%, 96%)",duration:s},0).to(".transformer__heart",{opacity:1,duration:s},0).to(".paw--left",{opacity:0,duration:s},0).to(".transformer__feature",{xPercent:-100,duration:s},0).to(".transformer__outline",{scaleX:.6,duration:s},0).to(".transformer__front",{x:a.offsetWidth/2,duration:s},0).to(".transformer__back",{x:-a.offsetWidth/2,duration:s},0).to(".number.number--current.number--single",{yPercent:100,opacity:0,duration:s},0).to(".number.number--next.number--single",{yPercent:0,duration:s,opacity:1},0).to(".heart__segment",{opacity:1,duration:s},0),"<+0.5").to(".transformer__heart",{scale:1.25,repeat:1,yoyo:!0,ease:"elastic.in"},">-0.2"),l=o({paused:!0,onStart:()=>{r.SIGH.play()},onComplete:()=>{e.set([".transformer__heart",".paw--left",".bear-paw"],{clearProps:"all"})}}).set([".transformer__feature",".transformer__text"],{clearProps:"all"}).to(".transformer__front",{x:0,duration:s}).to(".heart__segment",{opacity:0,duration:s},0).to(".transformer__outline",{scaleX:1,duration:s},0).to(".transformer__segment",{background:"hsl(0, 0%, 100%)",duration:s},0).to(".transformer__back",{x:0,duration:s},0).to(document.documentElement,{"--backdrop-opacity":0,"--stroke":"hsl(180, 3%, 94%)","--color":"hsl(180, 2%, 77%)",duration:s},0).to(".number.number--current.number--single",{yPercent:0,duration:s,opacity:1},0).to(".number.number--next.number--single",{yPercent:-100,duration:s,opacity:0},0).to(".paw--left",{opacity:1,duration:s},0).to(".transformer__heart",{opacity:0,duration:s},0);n.addEventListener("pointerdown",(({x:t,y:o})=>{if(!n.hasAttribute("disabled"))if("true"===n.getAttribute("aria-pressed"))n.setAttribute("aria-pressed",!1),l.restart();else{n.setAttribute("aria-pressed",!0),n.setAttribute("disabled",!0);const a=document.createElementNS("http://www.w3.org/2000/svg","svg"),s=document.createElementNS("http://www.w3.org/2000/svg","circle"),r=n.getBoundingClientRect();e.set(a,{height:50,width:50,left:t-r.left-25,top:o-r.top-25,overflow:"visible !important",zIndex:12,transformOrigin:"50% 50%",position:"absolute",attr:{viewBox:"0 0 100 100",fill:"none"}}),a.appendChild(s),n.appendChild(a),e.set(s,{attr:{r:30,cx:50,cy:50},stroke:`hsl(${359*Math.random()}, 80%, 50%)`,strokeWidth:20}),e.timeline({onStart:()=>i(),onComplete:()=>a.remove()}).fromTo(s,{scale:0,transformOrigin:"50% 50%"},{scale:1.25,duration:.2}).to(s,{opacity:0,duration:.1},">-0.1")}}));document.addEventListener("pointermove",(({x:t,y:o})=>{const n=e.utils.mapRange(0,window.innerWidth,-5,5,t),a=e.utils.mapRange(0,window.innerHeight,-5,5,o);e.set(document.documentElement,{"--x":n,"--mx":t,"--y":a,"--my":o})})),e.set(".transformer",{display:"block"});const c="https://corsproxy.io/?",d="https://script.google.com/macros/s/AKfycbyPHO5xVYURypTvaKoaPysBXX_MM6KWhOace5mOOxKSD9s3Z6Y2LCbiczSchXELal3Q/exec";const u=new class{constructor(){this.isInitialized=!1}init(){if(!this.isInitialized)try{this.elements={header:document.getElementById("header-component"),mobileMenu:{button:document.querySelector(".menu-toggle"),nav:document.querySelector("#primary-navigation")},signupForm:document.querySelector("#signup-form"),feedbackSection:{buttons:document.querySelectorAll("[data-feedback]"),form:document.querySelector("#feedback-form")},demoButton:document.querySelector('[data-i18n="hero.cta_secondary"]')},this.state={lastScrollPosition:0,isHeaderVisible:!0,isMobileMenuOpen:!1,hasSubmittedFeedback:!1},this.setupEventListeners(),this.setupIntersectionObserver(),this.setupFormValidation(),this.setupScrollEffects()}catch(e){}finally{this.isInitialized=!0}}setupScrollEffects(){if(window.matchMedia("(prefers-reduced-motion: reduce)").matches)return void document.querySelectorAll(".animate-on-scroll").forEach((e=>{e.classList.remove("animate-on-scroll"),e.classList.add("animated")}));let e;document.querySelectorAll('a[href^="#"]').forEach((e=>{e.addEventListener("click",(t=>{var o;const n=e.getAttribute("href");if("#"===n)return;const a=document.querySelector(n);if(a){t.preventDefault();const e=(null==(o=this.elements.header)?void 0:o.offsetHeight)||0,s=a.getBoundingClientRect().top+window.pageYOffset-e;window.scrollTo({top:s,behavior:"smooth"}),history.pushState(null,"",n)}}))}));let t=window.pageYOffset,o=Date.now();const n=()=>{const n=window.pageYOffset,a=Date.now();if(a-o>100&&Math.abs(n-t)>50){const e=this.elements.header;e&&(n>t&&n>e.offsetHeight?e.classList.contains("header-hidden")||(e.classList.add("header-hidden"),this.state.isHeaderVisible=!1):(n<t||n<=e.offsetHeight)&&e.classList.contains("header-hidden")&&(e.classList.remove("header-hidden"),this.state.isHeaderVisible=!0)),t=n,o=a}e=null};window.addEventListener("scroll",(()=>{e||(e=setTimeout(n,16))}),{passive:!0}),window.location.hash&&setTimeout((()=>{var e;const t=document.querySelector(window.location.hash);if(t){const o=(null==(e=this.elements.header)?void 0:e.offsetHeight)||0,n=t.getBoundingClientRect().top+window.pageYOffset-o;window.scrollTo({top:n,behavior:"smooth"})}}),100)}setupEventListeners(){var e,t,o,n;this.elements.mobileMenu.button,null==(e=this.elements.mobileMenu.button)||e.addEventListener("click",(()=>this.toggleMobileMenu())),this.elements.signupForm,null==(t=this.elements.signupForm)||t.addEventListener("submit",(e=>this.handleSignupSubmit(e))),this.elements.feedbackSection.form,this.elements.feedbackSection.buttons.forEach((e=>{e.addEventListener("click",(()=>this.handleFeedbackClick(e)))})),null==(o=this.elements.feedbackSection.form)||o.addEventListener("submit",(e=>this.handleFeedbackSubmit(e))),null==(n=this.elements.demoButton)||n.addEventListener("click",(()=>this.showDemoVideo())),this.handleScroll=this.debounce(this.handleScroll.bind(this),10),window.addEventListener("scroll",this.handleScroll),this.handleResize=this.debounce(this.handleResize.bind(this),150),window.addEventListener("resize",this.handleResize),document.addEventListener("keydown",(e=>this.handleEscapeKey(e))),document.addEventListener("click",(e=>this.handleClickOutside(e)))}setupIntersectionObserver(){const e=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting&&(t.target.classList.add("animated"),e.unobserve(t.target))}))}),{root:null,rootMargin:"0px",threshold:.1});document.querySelectorAll(".animate-on-scroll").forEach((t=>{e.observe(t)}))}setupFormValidation(){if(!this.elements.signupForm)return;this.elements.signupForm.querySelectorAll("input[required]").forEach((e=>{e.addEventListener("input",(()=>this.validateInput(e))),e.addEventListener("blur",(()=>this.validateInput(e)))}))}validateInput(e){const o=e.value.trim();let n=!0,a="";switch(e.type){case"email":n=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o),a=t.translate("form.email.error");break;case"text":n=o.length>=2,a=t.translate("form.team_name.error")}const s=e.parentElement.querySelector(".error-message");return s&&(s.textContent=n?"":a),e.setAttribute("aria-invalid",!n),n}async handleSignupSubmit(e){e.preventDefault();const o=e.target,n=o.querySelectorAll("input[required]");let a=!0;if(n.forEach((e=>{this.validateInput(e)||(a=!1)})),!a)return;const s=o.querySelector('button[type="submit"]');s.disabled=!0,s.classList.add("loading");try{const e=new FormData(o),n=Object.fromEntries(e.entries()),a=await fetch(c+encodeURIComponent(d),{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),s=await a.json();if(!s.success)throw new Error(s.error||"Failed to submit feedback");this.showNotification("success",t.translate("form.success")),o.reset()}catch(r){this.showNotification("error",t.translate("form.error"))}finally{s.disabled=!1,s.classList.remove("loading")}}handleFeedbackClick(e){if(this.state.hasSubmittedFeedback)return;const t=e.dataset.feedback,o=this.elements.feedbackSection.form;this.submitFeedback({type:t}),o.classList.remove("hidden"),o.querySelector("textarea").focus()}async handleFeedbackSubmit(e){e.preventDefault();const o=e.target,n=o.querySelector("textarea").value.trim();if(n)try{await this.submitFeedback({type:button.dataset.feedback||"error",feedback:n}),o.classList.add("hidden"),this.showNotification("success",t.translate("feedback.thanks"))}catch(a){this.showNotification("error",t.translate("errors.generic"))}}async submitFeedback(e){const t=await fetch(c+encodeURIComponent(d),{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),o=await t.json();if(!o.success)throw new Error(o.error||"Failed to submit feedback");localStorage.setItem("feedbackSubmitted","true"),this.state.hasSubmittedFeedback=!0}toggleMobileMenu(){const{button:e,nav:t}=this.elements.mobileMenu,o="true"===e.getAttribute("aria-expanded");e.setAttribute("aria-expanded",!o),t.classList.toggle("active"),this.state.isMobileMenuOpen=!o,document.body.style.overflow=o?"":"hidden"}handleScroll(){if(!this.elements.header)return void window.removeEventListener("scroll",this.handleScroll);const e=window.pageYOffset;e>this.state.lastScrollPosition&&e>100?this.state.isHeaderVisible&&requestAnimationFrame((()=>{this.elements.header.classList.add("header-hidden"),this.state.isHeaderVisible=!1})):this.state.isHeaderVisible||requestAnimationFrame((()=>{this.elements.header.classList.remove("header-hidden"),this.state.isHeaderVisible=!0})),this.state.lastScrollPosition=e}handleResize(){window.innerWidth>=768&&this.state.isMobileMenuOpen&&this.toggleMobileMenu()}handleEscapeKey(e){"Escape"===e.key&&this.state.isMobileMenuOpen&&this.toggleMobileMenu()}handleClickOutside(e){!this.state.isMobileMenuOpen||this.elements.mobileMenu.nav.contains(e.target)||this.elements.mobileMenu.button.contains(e.target)||this.toggleMobileMenu()}showDemoVideo(){const e=document.createElement("div");e.className="modal",e.innerHTML=`\n            <div class="modal-content">\n                <button class="modal-close" aria-label="${t.translate("accessibility.close_modal")}">Ã—</button>\n                <div class="video-container">\n                    \x3c!-- Add video player implementation here --\x3e\n                    <div class="video-placeholder">Demo Video</div>\n                </div>\n            </div>\n        `,document.body.appendChild(e),document.body.style.overflow="hidden",e.querySelector(".modal-close").addEventListener("click",(()=>{document.body.removeChild(e),document.body.style.overflow=""}))}showNotification(e,t){const o=document.createElement("div");o.className=`notification notification-${e}`,o.setAttribute("role","alert"),o.textContent=t,document.body.appendChild(o),setTimeout((()=>{o.classList.add("fade-out"),setTimeout((()=>{document.body.removeChild(o)}),300)}),5e3)}simulateApiCall(e){return new Promise((e=>{setTimeout(e,1e3)}))}debounce(e,t){let o;return function(...n){clearTimeout(o),o=setTimeout((()=>{clearTimeout(o),e(...n)}),t)}}};document.addEventListener("DOMContentLoaded",(()=>{u.init()}));
